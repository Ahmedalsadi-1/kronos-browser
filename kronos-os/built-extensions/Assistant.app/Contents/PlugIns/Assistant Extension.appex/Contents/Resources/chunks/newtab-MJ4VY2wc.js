import{c as re,g as yn,r as l,v as de,as as De,j as o,Y as Ft,H as G,W as In,L as wn,E as jn,a as ue,_ as Sn,S as Ht,y as Nn,z as Cn,A as kn,B as Tn,a9 as Rn,X as ht,at as En,I as Mn,a0 as Dn,a1 as On,a2 as Fe,a4 as An,a5 as Pn,a6 as Ln,a7 as Vn,a8 as Fn}from"./product_logo-D13hEBab.js";import{N as Ce,O as Hn,Q as mt,B as $t,p as Bt,q as _t,o as Kt,r as Wt,E as xe,d as $n,U as Bn,V as _n,W as gt,X as Kn,T as Wn,L as Un,f as zn}from"./mermaid-NA5CF7SZ-BLmXvdgo.js";import{i as qn,u as Ut,f as Ye,a as pt,b as zt,M as qt,c as Gn,d as Gt,e as xt,g as He,m as fe,A as $e,L as Yn}from"./proxy-BtKuY_1Q.js";import{h as Xn,F as vt,G as Xe,T as Jn,i as Qn,j as Zn,u as er}from"./personalizationStorage-DhZ-P_9s.js";import{d as tr,u as nr,r as rr,a as sr,b as or,B as ar,R as ir,T as cr}from"./textarea-CDYFAkeE.js";import{d as Yt}from"./dayjs.min-CusGE5tu.js";import{C as lr,K as ur,a as bt,A as dr,b as fr}from"./kbd-WP7BVxDc.js";import"./duration-CWiZJ4w7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"cef3d2e981a8c76e9e817128ae6fc814ac1270e0"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0aebbf7a-c960-4a8f-84aa-20072d0bf659",e._sentryDebugIdIdentifier="sentry-dbid-0aebbf7a-c960-4a8f-84aa-20072d0bf659")})()}catch{}const hr=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xt=re("calendar",hr);const mr=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],gr=re("file",mr);const pr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xr=re("image",pr);const vr=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],br=re("messages-square",vr);const yr=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Ir=re("scale",yr);const wr=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],jr=re("tags",wr);const Sr=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],Nr=re("user-pen",Sr);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},D.apply(null,arguments)}var Be={exports:{}},_e,yt;function Cr(){if(yt)return _e;yt=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _e=e,_e}var Ke,It;function kr(){if(It)return Ke;It=1;var e=Cr();function t(){}function r(){}return r.resetWarningCache=t,Ke=function(){function s(a,u,c,d,m,j){if(j!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function n(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Ke}var wt;function Tr(){return wt||(wt=1,Be.exports=kr()()),Be.exports}var Rr=Tr();const g=yn(Rr);var We={exports:{}},C={};var jt;function Er(){if(jt)return C;jt=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),R;R=Symbol.for("react.module.reference");function w(f){if(typeof f=="object"&&f!==null){var P=f.$$typeof;switch(P){case e:switch(f=f.type,f){case r:case n:case s:case d:case m:return f;default:switch(f=f&&f.$$typeof,f){case u:case a:case c:case x:case j:case i:return f;default:return P}}case t:return P}}}return C.ContextConsumer=a,C.ContextProvider=i,C.Element=e,C.ForwardRef=c,C.Fragment=r,C.Lazy=x,C.Memo=j,C.Portal=t,C.Profiler=n,C.StrictMode=s,C.Suspense=d,C.SuspenseList=m,C.isAsyncMode=function(){return!1},C.isConcurrentMode=function(){return!1},C.isContextConsumer=function(f){return w(f)===a},C.isContextProvider=function(f){return w(f)===i},C.isElement=function(f){return typeof f=="object"&&f!==null&&f.$$typeof===e},C.isForwardRef=function(f){return w(f)===c},C.isFragment=function(f){return w(f)===r},C.isLazy=function(f){return w(f)===x},C.isMemo=function(f){return w(f)===j},C.isPortal=function(f){return w(f)===t},C.isProfiler=function(f){return w(f)===n},C.isStrictMode=function(f){return w(f)===s},C.isSuspense=function(f){return w(f)===d},C.isSuspenseList=function(f){return w(f)===m},C.isValidElementType=function(f){return typeof f=="string"||typeof f=="function"||f===r||f===n||f===s||f===d||f===m||f===S||typeof f=="object"&&f!==null&&(f.$$typeof===x||f.$$typeof===j||f.$$typeof===i||f.$$typeof===a||f.$$typeof===c||f.$$typeof===R||f.getModuleId!==void 0)},C.typeOf=w,C}var St;function Mr(){return St||(St=1,We.exports=Er()),We.exports}Mr();const Nt=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Ct=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ke=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return Ct(r.overflowY,t)||Ct(r.overflowX,t)||(s=>{const n=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(s);return!!n&&(n.clientHeight<s.scrollHeight||n.clientWidth<s.scrollWidth)})(e)}return!1},Te=(e,t,r,s,n,i,a,u)=>i<e&&a>t||i>e&&a<t?0:i<=e&&u<=r||a>=t&&u>=r?i-e-s:a>t&&u<r||i<e&&u>r?a-t+n:0,Dr=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Or=(e,t)=>{var r,s,n,i;if(typeof document>"u")return[];const{inline:a,boundary:u,skipOverflowHiddenElements:c}=t,d=typeof u=="function"?u:O=>O!==u;if(!Nt(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,j=[];let x=e;for(;Nt(x)&&d(x);){if(x=Dr(x),x===m){j.push(x);break}x!=null&&x===document.body&&ke(x)&&!ke(document.documentElement)||x!=null&&ke(x,c)&&j.push(x)}const S=(s=(r=window.visualViewport)==null?void 0:r.width)!=null?s:innerWidth,R=(i=(n=window.visualViewport)==null?void 0:n.height)!=null?i:innerHeight,{scrollX:w,scrollY:f}=window,{height:P,width:N,top:B,right:M,bottom:Y,left:k}=e.getBoundingClientRect(),{top:T,right:_,left:A}=(O=>{const y=window.getComputedStyle(O);return{top:parseFloat(y.scrollMarginTop)||0,right:parseFloat(y.scrollMarginRight)||0,bottom:parseFloat(y.scrollMarginBottom)||0,left:parseFloat(y.scrollMarginLeft)||0}})(e);let L=B-T,h=a==="center"?k+N/2-A+_:a==="end"?M+_:k-A;const E=[];for(let O=0;O<j.length;O++){const y=j[O],{height:he,width:se,top:Ie,right:me,bottom:we,left:oe}=y.getBoundingClientRect();if(B>=0&&k>=0&&Y<=R&&M<=S&&(y===m&&!ke(y)||B>=Ie&&Y<=we&&k>=oe&&M<=me))return E;const ae=getComputedStyle(y),ie=parseInt(ae.borderLeftWidth,10),ge=parseInt(ae.borderTopWidth,10),b=parseInt(ae.borderRightWidth,10),v=parseInt(ae.borderBottomWidth,10);let p=0,I=0;const V="offsetWidth"in y?y.offsetWidth-y.clientWidth-ie-b:0,K="offsetHeight"in y?y.offsetHeight-y.clientHeight-ge-v:0,F="offsetWidth"in y?y.offsetWidth===0?0:se/y.offsetWidth:0,H="offsetHeight"in y?y.offsetHeight===0?0:he/y.offsetHeight:0;if(m===y)p=Te(f,f+R,R,ge,v,f+L,f+L+P,P),I=a==="start"?h:a==="center"?h-S/2:a==="end"?h-S:Te(w,w+S,S,ie,b,w+h,w+h+N,N),p=Math.max(0,p+f),I=Math.max(0,I+w);else{p=Te(Ie,we,he,ge,v+K,L,L+P,P),I=a==="start"?h-oe-ie:a==="center"?h-(oe+se/2)+V/2:a==="end"?h-me+b+V:Te(oe,me,se,ie,b+V,h,h+N,N);const{scrollLeft:$,scrollTop:W}=y;p=H===0?0:Math.max(0,Math.min(W+p/H,y.scrollHeight-he/H+K)),I=F===0?0:Math.max(0,Math.min($+I/F,y.scrollWidth-se/F+V)),L+=W-p,h+=$-I}E.push({el:y,top:p,left:I})}return E};var Ar=0;function Jt(){}function Pr(e,t){if(e){var r=Or(e,{boundary:t});r.forEach(function(s){var n=s.el,i=s.top,a=s.left;n.scrollTop=i,n.scrollLeft=a})}}function kt(e,t,r){var s=e===t||t instanceof r.Node&&e.contains&&e.contains(t);return s}function Qt(e,t){var r;function s(){r&&clearTimeout(r)}function n(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];s(),r=setTimeout(function(){r=null,e.apply(void 0,a)},t)}return n.cancel=s,n}function q(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.some(function(u){return u&&u.apply(void 0,[s].concat(i)),s.preventDownshiftDefault||s.hasOwnProperty("nativeEvent")&&s.nativeEvent.preventDownshiftDefault})}}function Re(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){t.forEach(function(n){typeof n=="function"?n(s):n&&(n.current=s)})}}function Lr(){return String(Ar++)}function ze(e,t){return!e||!t?e:Object.keys(e).reduce(function(r,s){return r[s]=Zt(t,s)?t[s]:e[s],r},{})}function Zt(e,t){return e[t]!==void 0}function Vr(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Ee(e,t,r,s,n){var i=r.length;if(i===0)return-1;var a=i-1;(typeof e!="number"||e<0||e>a)&&(e=t>0?-1:a+1);var u=e+t;u<0?u=a:u>a&&(u=0);var c=Oe(u,t<0,r,s,n);return c===-1?e>=i?-1:e:c}function Oe(e,t,r,s,n){n===void 0&&(n=!1);var i=r.length;if(t){for(var a=e;a>=0;a--)if(!s(r[a],a))return a}else for(var u=e;u<i;u++)if(!s(r[u],u))return u;return n?Oe(t?i-1:0,t,r,s):-1}function Tt(e,t,r,s){return s===void 0&&(s=!0),r&&t.some(function(n){return n&&(kt(n,e,r)||s&&kt(n,r.document.activeElement,r))})}var Fr=Qt(function(e){en(e).textContent=""},500);function en(e){var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function Hr(e,t){if(!(!e||!t)){var r=en(t);r.textContent=e,Fr(t)}}function $r(e){var t=e?.getElementById("a11y-status-message");t&&t.remove()}var tn={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Br(e,t,r){var s=e.props,n=e.type,i={};Object.keys(t).forEach(function(a){_r(a,e,t,r),r[a]!==t[a]&&(i[a]=r[a])}),s.onStateChange&&Object.keys(i).length&&s.onStateChange(D({type:n},i))}function _r(e,t,r,s){var n=t.props,i=t.type,a="on"+Je(e)+"Change";n[a]&&s[e]!==void 0&&s[e]!==r[e]&&n[a](D({type:i},s))}function Kr(e,t){return t.changes}var Rt=Qt(function(e,t){Hr(e,t)},200),Wr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?l.useLayoutEffect:l.useEffect,Ur="useId"in de?function(t){var r=t.id,s=t.labelId,n=t.menuId,i=t.getItemId,a=t.toggleButtonId,u=t.inputId,c="downshift-"+de.useId();r||(r=c);var d=l.useMemo(function(){return{labelId:s||r+"-label",menuId:n||r+"-menu",getItemId:i||function(m){return r+"-item-"+m},toggleButtonId:a||r+"-toggle-button",inputId:u||r+"-input"}},[i,r,u,s,n,a]);return d}:function(t){var r=t.id,s=r===void 0?"downshift-"+Lr():r,n=t.labelId,i=t.menuId,a=t.getItemId,u=t.toggleButtonId,c=t.inputId,d=l.useMemo(function(){return{labelId:n||s+"-label",menuId:i||s+"-menu",getItemId:a||function(m){return s+"-item-"+m},toggleButtonId:u||s+"-toggle-button",inputId:c||s+"-input"}},[a,s,c,n,i,u]);return d};function zr(e,t,r,s){var n,i;if(e===void 0){if(t===void 0)throw new Error(s);n=r[t],i=t}else i=t===void 0?r.indexOf(e):t,n=e;return[n,i]}function Je(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function nn(e){var t=l.useRef(e);return t.current=e,t}function qr(e,t,r,s){var n=l.useRef(),i=l.useRef(),a=l.useCallback(function(S,R){i.current=R,S=ze(S,R.props);var w=e(S,R),f=R.props.stateReducer(S,D({},R,{changes:w}));return f},[e]),u=l.useReducer(a,t,r),c=u[0],d=u[1],m=nn(t),j=l.useCallback(function(S){return d(D({props:m.current},S))},[m]),x=i.current;return l.useEffect(function(){var S=ze(n.current,x?.props),R=x&&n.current&&!s(S,c);R&&Br(x,S,c),n.current=c},[c,x,s]),[c,j]}var ve={itemToString:function(t){return t?String(t):""},itemToKey:function(t){return t},stateReducer:Kr,scrollIntoView:Pr,environment:typeof window>"u"?void 0:window};function ee(e,t,r){r===void 0&&(r=tn);var s=e["default"+Je(t)];return s!==void 0?s:r[t]}function be(e,t,r){r===void 0&&(r=tn);var s=e[t];if(s!==void 0)return s;var n=e["initial"+Je(t)];return n!==void 0?n:ee(e,t,r)}function Gr(e){var t=be(e,"selectedItem"),r=be(e,"isOpen"),s=es(e),n=be(e,"inputValue");return{highlightedIndex:s<0&&t&&r?e.items.findIndex(function(i){return e.itemToKey(i)===e.itemToKey(t)}):s,isOpen:r,selectedItem:t,inputValue:n}}function ye(e,t,r){var s=e.items,n=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,a=e.isItemDisabled,u=e.itemToKey,c=t.selectedItem,d=t.highlightedIndex;return s.length===0?-1:n!==void 0&&d===n&&!a(s[n],n)?n:i!==void 0&&!a(s[i],i)?i:c?s.findIndex(function(m){return u(c)===u(m)}):r<0&&!a(s[s.length-1],s.length-1)?s.length-1:r>0&&!a(s[0],0)?0:-1}function Yr(e,t,r){var s=l.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1}),n=l.useCallback(function(){return r.map(function(i){return i.current})},[r]);return l.useEffect(function(){if(!e)return Jt;function i(){s.current.isTouchEnd=!1,s.current.isMouseDown=!0}function a(m){s.current.isMouseDown=!1,Tt(m.target,n(),e)||t()}function u(){s.current.isTouchEnd=!1,s.current.isTouchMove=!1}function c(){s.current.isTouchMove=!0}function d(m){s.current.isTouchEnd=!0,!s.current.isTouchMove&&!Tt(m.target,n(),e,!1)&&t()}return e.addEventListener("mousedown",i),e.addEventListener("mouseup",a),e.addEventListener("touchstart",u),e.addEventListener("touchmove",c),e.addEventListener("touchend",d),function(){e.removeEventListener("mousedown",i),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",d)}},[e,n,t]),s.current}var Xr=function(){return Jt};function Jr(e,t,r,s){s===void 0&&(s={});var n=s.document,i=Qe();l.useEffect(function(){if(!(!e||i||!n)){var a=e(t);Rt(a,n)}},r),l.useEffect(function(){return function(){Rt.cancel(),$r(n)}},[n])}function Qr(e){var t=e.highlightedIndex,r=e.isOpen,s=e.itemRefs,n=e.getItemNodeFromIndex,i=e.menuElement,a=e.scrollIntoView,u=l.useRef(!0);return Wr(function(){t<0||!r||!Object.keys(s.current).length||(u.current===!1?u.current=!0:a(n(t),i))},[t]),u}function Et(e,t,r){var s;r===void 0&&(r=!0);var n=((s=e.items)==null?void 0:s.length)&&t>=0;return D({isOpen:!1,highlightedIndex:-1},n&&D({selectedItem:e.items[t],isOpen:ee(e,"isOpen"),highlightedIndex:ee(e,"highlightedIndex")},r&&{inputValue:e.itemToString(e.items[t])}))}function Zr(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Qe(){var e=de.useRef(!0);return de.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function qe(e){var t=ee(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function es(e){var t=be(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var Me={environment:g.shape({addEventListener:g.func.isRequired,removeEventListener:g.func.isRequired,document:g.shape({createElement:g.func.isRequired,getElementById:g.func.isRequired,activeElement:g.any.isRequired,body:g.any.isRequired}).isRequired,Node:g.func.isRequired}),itemToString:g.func,itemToKey:g.func,stateReducer:g.func},rn=D({},Me,{getA11yStatusMessage:g.func,highlightedIndex:g.number,defaultHighlightedIndex:g.number,initialHighlightedIndex:g.number,isOpen:g.bool,defaultIsOpen:g.bool,initialIsOpen:g.bool,selectedItem:g.any,initialSelectedItem:g.any,defaultSelectedItem:g.any,id:g.string,labelId:g.string,menuId:g.string,getItemId:g.func,toggleButtonId:g.string,onSelectedItemChange:g.func,onHighlightedIndexChange:g.func,onStateChange:g.func,onIsOpenChange:g.func,scrollIntoView:g.func});function ts(e,t,r){var s=t.type,n=t.props,i;switch(s){case r.ItemMouseMove:i={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:i={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ye(n,e,0)};break;case r.FunctionOpenMenu:i={isOpen:!0,highlightedIndex:ye(n,e,0)};break;case r.FunctionCloseMenu:i={isOpen:!1};break;case r.FunctionSetHighlightedIndex:i={highlightedIndex:n.isItemDisabled(n.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case r.FunctionSetInputValue:i={inputValue:t.inputValue};break;case r.FunctionReset:i={highlightedIndex:qe(n),isOpen:ee(n,"isOpen"),selectedItem:ee(n,"selectedItem"),inputValue:ee(n,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return D({},e,i)}De(De({},rn),{items:g.array.isRequired,isItemDisabled:g.func});De(De({},ve),{isItemDisabled:function(){return!1}});var Ze=0,et=1,tt=2,nt=3,rt=4,st=5,ot=6,at=7,it=8,Ae=9,ct=10,sn=11,on=12,lt=13,an=14,cn=15,ln=16,un=17,dn=18,ut=19,fn=20,hn=21,dt=22,mn=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:dt,FunctionCloseMenu:un,FunctionOpenMenu:ln,FunctionReset:hn,FunctionSelectItem:ut,FunctionSetHighlightedIndex:dn,FunctionSetInputValue:fn,FunctionToggleMenu:cn,InputBlur:Ae,InputChange:it,InputClick:ct,InputKeyDownArrowDown:Ze,InputKeyDownArrowUp:et,InputKeyDownEnd:rt,InputKeyDownEnter:at,InputKeyDownEscape:tt,InputKeyDownHome:nt,InputKeyDownPageDown:ot,InputKeyDownPageUp:st,ItemClick:lt,ItemMouseMove:on,MenuMouseLeave:sn,ToggleButtonClick:an});function ns(e){var t=Gr(e),r=t.selectedItem,s=t.inputValue;return s===""&&r&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(s=e.itemToString(r)),D({},t,{inputValue:s})}D({},rn,{items:g.array.isRequired,isItemDisabled:g.func,inputValue:g.string,defaultInputValue:g.string,initialInputValue:g.string,inputId:g.string,onInputValueChange:g.func});function rs(e,t,r,s){var n=l.useRef(),i=qr(e,t,r,s),a=i[0],u=i[1],c=Qe();return l.useEffect(function(){if(Zt(t,"selectedItem")){if(!c){var d=t.itemToKey(t.selectedItem)!==t.itemToKey(n.current);d&&u({type:dt,inputValue:t.itemToString(t.selectedItem)})}n.current=a.selectedItem===n.current?t.selectedItem:a.selectedItem}},[a.selectedItem,t.selectedItem]),[ze(a,t),u]}var ss=D({},ve,{isItemDisabled:function(){return!1}});function os(e,t){var r,s=t.type,n=t.props,i=t.altKey,a;switch(s){case lt:a={isOpen:ee(n,"isOpen"),highlightedIndex:qe(n),selectedItem:n.items[t.index],inputValue:n.itemToString(n.items[t.index])};break;case Ze:e.isOpen?a={highlightedIndex:Ee(e.highlightedIndex,1,n.items,n.isItemDisabled,!0)}:a={highlightedIndex:i&&e.selectedItem==null?-1:ye(n,e,1),isOpen:n.items.length>=0};break;case et:e.isOpen?i?a=Et(n,e.highlightedIndex):a={highlightedIndex:Ee(e.highlightedIndex,-1,n.items,n.isItemDisabled,!0)}:a={highlightedIndex:ye(n,e,-1),isOpen:n.items.length>=0};break;case at:a=Et(n,e.highlightedIndex);break;case tt:a=D({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case st:a={highlightedIndex:Ee(e.highlightedIndex,-10,n.items,n.isItemDisabled,!0)};break;case ot:a={highlightedIndex:Ee(e.highlightedIndex,10,n.items,n.isItemDisabled,!0)};break;case nt:a={highlightedIndex:Oe(0,!1,n.items,n.isItemDisabled)};break;case rt:a={highlightedIndex:Oe(n.items.length-1,!0,n.items,n.isItemDisabled)};break;case Ae:a=D({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((r=n.items)==null?void 0:r.length)&&t.selectItem&&{selectedItem:n.items[e.highlightedIndex],inputValue:n.itemToString(n.items[e.highlightedIndex])});break;case it:a={isOpen:!0,highlightedIndex:qe(n),inputValue:t.inputValue};break;case ct:a={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ye(n,e,0)};break;case ut:a={selectedItem:t.selectedItem,inputValue:n.itemToString(t.selectedItem)};break;case dt:a={inputValue:t.inputValue};break;default:return ts(e,t,mn)}return D({},e,a)}var as=["onMouseLeave","refKey","ref"],is=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],cs=["onClick","onPress","refKey","ref"],ls=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];Ge.stateChangeTypes=mn;function Ge(e){e===void 0&&(e={});var t=D({},ss,e),r=t.items,s=t.scrollIntoView,n=t.environment,i=t.getA11yStatusMessage,a=rs(os,t,ns,Zr),u=a[0],c=a[1],d=u.isOpen,m=u.highlightedIndex,j=u.selectedItem,x=u.inputValue,S=l.useRef(null),R=l.useRef({}),w=l.useRef(null),f=l.useRef(null),P=Qe(),N=Ur(t),B=l.useRef(),M=nn({state:u,props:t}),Y=l.useCallback(function(b){return R.current[N.getItemId(b)]},[N]);Jr(i,u,[d,m,j,x],n);var k=Qr({menuElement:S.current,highlightedIndex:m,isOpen:d,itemRefs:R,scrollIntoView:s,getItemNodeFromIndex:Y});l.useEffect(function(){var b=be(t,"isOpen");b&&w.current&&w.current.focus()},[]),l.useEffect(function(){P||(B.current=r.length)});var T=l.useCallback(function(){M.current.state.isOpen&&c({type:Ae})},[c,M]),_=l.useMemo(function(){return[S,f,w]},[]),A=Yr(n,T,_),L=Xr();l.useEffect(function(){d||(R.current={})},[d]),l.useEffect(function(){var b;!d||!(n!=null&&n.document)||!(w!=null&&(b=w.current)!=null&&b.focus)||n.document.activeElement!==w.current&&w.current.focus()},[d,n]);var h=l.useMemo(function(){return{ArrowDown:function(v){v.preventDefault(),c({type:Ze,altKey:v.altKey})},ArrowUp:function(v){v.preventDefault(),c({type:et,altKey:v.altKey})},Home:function(v){M.current.state.isOpen&&(v.preventDefault(),c({type:nt}))},End:function(v){M.current.state.isOpen&&(v.preventDefault(),c({type:rt}))},Escape:function(v){var p=M.current.state;(p.isOpen||p.inputValue||p.selectedItem||p.highlightedIndex>-1)&&(v.preventDefault(),c({type:tt}))},Enter:function(v){var p=M.current.state;!p.isOpen||v.which===229||(v.preventDefault(),c({type:at}))},PageUp:function(v){M.current.state.isOpen&&(v.preventDefault(),c({type:st}))},PageDown:function(v){M.current.state.isOpen&&(v.preventDefault(),c({type:ot}))}}},[c,M]),E=l.useCallback(function(b){return D({id:N.labelId,htmlFor:N.inputId},b)},[N]),O=l.useCallback(function(b,v){var p,I=b===void 0?{}:b,V=I.onMouseLeave,K=I.refKey,F=K===void 0?"ref":K,H=I.ref,$=Ce(I,as),W=v===void 0?{}:v;return W.suppressRefError,D((p={},p[F]=Re(H,function(X){S.current=X}),p.id=N.menuId,p.role="listbox",p["aria-labelledby"]=$&&$["aria-label"]?void 0:""+N.labelId,p.onMouseLeave=q(V,function(){c({type:sn})}),p),$)},[c,L,N]),y=l.useCallback(function(b){var v,p,I=b===void 0?{}:b,V=I.item,K=I.index,F=I.refKey,H=F===void 0?"ref":F,$=I.ref,W=I.onMouseMove,X=I.onMouseDown,Pe=I.onClick;I.onPress;var ce=I.disabled,Le=Ce(I,is);ce!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var U=M.current,je=U.props,Se=U.state,Ne=zr(V,K,je.items,"Pass either item or index to getItemProps!"),Ve=Ne[0],z=Ne[1],le=je.isItemDisabled(Ve,z),J="onClick",te=Pe,Q=function(){A.isTouchEnd||z===Se.highlightedIndex||(k.current=!1,c({type:on,index:z,disabled:le}))},ne=function(){c({type:lt,index:z})},vn=function(bn){return bn.preventDefault()};return D((v={},v[H]=Re($,function(pe){pe&&(R.current[N.getItemId(z)]=pe)}),v["aria-disabled"]=le,v["aria-selected"]=z===Se.highlightedIndex,v.id=N.getItemId(z),v.role="option",v),!le&&(p={},p[J]=q(te,ne),p),{onMouseMove:q(W,Q),onMouseDown:q(X,vn)},Le)},[c,N,M,A,k]),he=l.useCallback(function(b){var v,p=b===void 0?{}:b,I=p.onClick;p.onPress;var V=p.refKey,K=V===void 0?"ref":V,F=p.ref,H=Ce(p,cs),$=M.current.state,W=function(){c({type:an})};return D((v={},v[K]=Re(F,function(X){f.current=X}),v["aria-controls"]=N.menuId,v["aria-expanded"]=$.isOpen,v.id=N.toggleButtonId,v.tabIndex=-1,v),!H.disabled&&D({},{onClick:q(I,W)}),H)},[c,M,N]),se=l.useCallback(function(b,v){var p,I=b===void 0?{}:b,V=I.onKeyDown,K=I.onChange,F=I.onInput,H=I.onBlur;I.onChangeText;var $=I.onClick,W=I.refKey,X=W===void 0?"ref":W,Pe=I.ref,ce=Ce(I,ls),Le=v===void 0?{}:v;Le.suppressRefError;var U=M.current.state,je=function(Q){var ne=Vr(Q);ne&&h[ne]&&h[ne](Q)},Se=function(Q){c({type:it,inputValue:Q.target.value})},Ne=function(Q){if(n!=null&&n.document&&U.isOpen&&!A.isMouseDown){var ne=Q.relatedTarget===null&&n.document.activeElement!==n.document.body;c({type:Ae,selectItem:!ne})}},Ve=function(){c({type:ct})},z="onChange",le={};if(!ce.disabled){var J;le=(J={},J[z]=q(K,F,Se),J.onKeyDown=q(V,je),J.onBlur=q(H,Ne),J.onClick=q($,Ve),J)}return D((p={},p[X]=Re(Pe,function(te){w.current=te}),p["aria-activedescendant"]=U.isOpen&&U.highlightedIndex>-1?N.getItemId(U.highlightedIndex):"",p["aria-autocomplete"]="list",p["aria-controls"]=N.menuId,p["aria-expanded"]=U.isOpen,p["aria-labelledby"]=ce&&ce["aria-label"]?void 0:N.labelId,p.autoComplete="off",p.id=N.inputId,p.role="combobox",p.value=U.inputValue,p),le,ce)},[c,N,n,h,M,A,L]),Ie=l.useCallback(function(){c({type:cn})},[c]),me=l.useCallback(function(){c({type:un})},[c]),we=l.useCallback(function(){c({type:ln})},[c]),oe=l.useCallback(function(b){c({type:dn,highlightedIndex:b})},[c]),ae=l.useCallback(function(b){c({type:ut,selectedItem:b})},[c]),ie=l.useCallback(function(b){c({type:fn,inputValue:b})},[c]),ge=l.useCallback(function(){c({type:hn})},[c]);return{getItemProps:y,getLabelProps:E,getMenuProps:O,getInputProps:se,getToggleButtonProps:he,toggleMenu:Ie,openMenu:we,closeMenu:me,setHighlightedIndex:oe,setInputValue:ie,selectItem:ae,reset:ge,highlightedIndex:m,isOpen:d,selectedItem:j,inputValue:x}}Me.stateReducer,Me.itemToKey,Me.environment,g.array,g.array,g.array,g.func,g.number,g.number,g.number,g.func,g.func,g.string,g.string;ve.itemToKey,ve.stateReducer,ve.environment;function us(...e){const t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],n=e[1+r],i=e[2+r],a=e[3+r],u=qn(n,i,a);return t?u(s):u}const ds=l.createContext(null);function fs(){const e=l.useRef(!1);return Ut(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function hs(){const e=fs(),[t,r]=l.useState(0),s=l.useCallback(()=>{e.current&&r(t+1)},[t]);return[l.useCallback(()=>Ye.postRender(s),[s]),t]}const ms=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Mt(){const e=new Set,t=new WeakMap,r=()=>e.forEach(ms);return{add:s=>{e.add(s),t.set(s,s.addEventListener("willUpdate",r))},remove:s=>{e.delete(s);const n=t.get(s);n&&(n(),t.delete(s)),r()},dirty:r}}const gn=e=>e===!0,gs=e=>gn(e===!0)||e==="id",ps=({children:e,id:t,inherit:r=!0})=>{const s=l.useContext(pt),n=l.useContext(ds),[i,a]=hs(),u=l.useRef(null),c=s.id||n;u.current===null&&(gs(r)&&c&&(t=t?c+"-"+t:c),u.current={id:t,group:gn(r)&&s.group||Mt()});const d=l.useMemo(()=>({...u.current,forceRender:i}),[a]);return o.jsx(pt.Provider,{value:d,children:e})};function pn(e){const t=zt(()=>Gn(e)),{isStatic:r}=l.useContext(qt);if(r){const[,s]=l.useState(e);l.useEffect(()=>t.on("change",s),[])}return t}function ft(e,t){const r=pn(t()),s=()=>r.set(t());return s(),Ut(()=>{const n=()=>Ye.preRender(s,!1,!0),i=e.map(a=>a.on("change",n));return()=>{i.forEach(a=>a()),Gt(s)}}),r}function Dt(e,...t){const r=e.length;function s(){let n="";for(let i=0;i<r;i++){n+=e[i];const a=t[i];a&&(n+=xt(a)?a.get():a)}return n}return ft(t.filter(xt),s)}function xs(e){He.current=[],e();const t=ft(He.current,e);return He.current=void 0,t}function Z(e,t,r,s){if(typeof e=="function")return xs(e);const n=typeof t=="function"?t:us(t,r,s);return Array.isArray(e)?Ot(e,n):Ot([e],([i])=>n(i))}function Ot(e,t){const r=zt(()=>[]);return ft(e,()=>{r.length=0;const s=e.length;for(let n=0;n<s;n++)r[n]=e[n].get();return t(r)})}function vs(e){const t=l.useRef(0),{isStatic:r}=l.useContext(qt);l.useEffect(()=>{if(r)return;const s=({timestamp:n,delta:i})=>{t.current||(t.current=n),e(n-t.current,i)};return Ye.update(s,!0),()=>Gt(s)},[e])}const bs=({children:e,duration:t=3e3,rx:r,ry:s,delay:n=0,...i})=>{const a=l.useRef(null),u=pn(-1),c=l.useRef(null),d=l.useRef(!1),m=l.useRef(0),j=l.useRef(0);vs(k=>{if(d.current)return;const T=a.current?.getTotalLength();if(!T)return;if(j.current=T,c.current===null&&a.current){c.current=k;const E=a.current.getBBox().width,y=(r?parseFloat(r)/100:0)*E;m.current=T/2+(E/2-y)}const _=k-c.current;if(_<n)return;const A=_-n,L=t*.5;if(A>=L){u.set(1),d.current=!0;return}u.set(A/L)});const x=Z(u,k=>k*j.current*.5),S=Z(u,[-1,0,.9,1],[0,1,1,0]),R=Z(x,k=>m.current+k),w=Z(R,k=>{const T=j.current;return!T||!a.current?0:a.current.getPointAtLength(k%T).x}),f=Z(R,k=>{const T=j.current;return!T||!a.current?0:a.current.getPointAtLength(k%T).y}),P=Dt`translateX(${w}px) translateY(${f}px) translateX(-50%) translateY(-50%)`,N=Z(x,k=>m.current-k),B=Z(N,k=>{const T=j.current;return!T||!a.current?0:a.current.getPointAtLength((k%T+T)%T).x}),M=Z(N,k=>{const T=j.current;return!T||!a.current?0:a.current.getPointAtLength((k%T+T)%T).y}),Y=Dt`translateX(${B}px) translateY(${M}px) translateX(-50%) translateY(-50%)`;return o.jsxs(o.Fragment,{children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",className:"absolute h-full w-full",width:"100%",height:"100%",...i,children:o.jsx("rect",{fill:"none",width:"100%",height:"100%",rx:r,ry:s,ref:a})}),o.jsx(fe.div,{style:{position:"absolute",top:0,left:0,display:"inline-block",transform:P,opacity:S},children:e}),o.jsx(fe.div,{style:{position:"absolute",top:0,left:0,display:"inline-block",transform:Y,opacity:S},children:de.cloneElement(e)})]})},ys=()=>o.jsx("div",{className:"h-20 w-20 bg-[radial-gradient(var(--accent-orange)_40%,transparent_60%)] opacity-[0.8]"}),{sendMessage:At}=tr(),Is=({onOpenShortcuts:e})=>{const{supports:t}=Hn();return o.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4",children:[o.jsxs("a",{href:"/options.html#/scheduled",className:"group inline-flex flex-row gap-2 text-muted-foreground text-xs transition-colors hover:text-foreground",children:[o.jsx(Xt,{className:"h-4 w-4 transition-colors group-hover:text-accent-orange"}),"Scheduler"]}),o.jsx("span",{className:"text-muted-foreground",children:"•"}),t(mt.PERSONALIZATION_SUPPORT)&&o.jsxs(o.Fragment,{children:[o.jsxs(Ft,{to:"/personalize",className:"group inline-flex flex-row gap-2 text-muted-foreground text-xs transition-colors hover:text-foreground",children:[o.jsx(Nr,{className:"h-4 w-4 transition-colors group-hover:text-accent-orange"}),"Personalize"," ",o.jsx("span",{className:"text-accent-orange group-hover:text-accent-orange-bright",children:"(new)"})]}),o.jsx("span",{className:"text-muted-foreground",children:"•"})]}),t(mt.MANAGED_MCP_SUPPORT)&&o.jsxs(o.Fragment,{children:[o.jsxs("a",{href:"/options.html#/connect-mcp",className:"text-muted-foreground text-xs transition-colors hover:text-foreground",children:["Connect MCP servers"," "]}),o.jsx("span",{className:"text-muted-foreground",children:"•"})]}),o.jsx("a",{href:"/options.html",className:"text-muted-foreground text-xs transition-colors hover:text-foreground",children:"Settings"}),o.jsx("span",{className:"text-muted-foreground",children:"•"}),o.jsx(G,{variant:"link",onClick:e,className:"hover:no-underline! px-0! text-muted-foreground text-xs transition-colors hover:text-foreground",children:"Shortcuts"})]})};function ws(e){return typeof e=="symbol"||e instanceof Symbol}function js(e){return ws(e)?NaN:Number(e)}function Ss(e){return e?(e=js(e),e===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e===e?e:0):e===0?e:0}function Ns(e){const t=Ss(e),r=t%1;return r?t-r:t}function Cs(e,t,r){return t=t===void 0?1:Ns(t),e.slice(0,t)}const ks=[{name:"Summarize this Page",icon:vt,minTabs:1,maxTabs:1,description:"Generate a concise summary of the current webpage content."},{name:"Summarize selected tabs",icon:vt,minTabs:2,maxTabs:5,description:"Generate a concise summary of the content from all selected tabs."},{name:"What topics does this page talk about?",icon:jr,minTabs:1,maxTabs:1,description:"Identify and list the main topics discussed on the current webpage."},{name:"Extract comments from this page",icon:br,minTabs:1,maxTabs:1,description:"Extract user comments or feedback present on the current webpage."},{name:"Compare selected tabs",icon:Ir,minTabs:2,maxTabs:5,description:"Analyze and highlight the differences and similarities between the selected tabs."}],Ts=({selectedTabs:e,input:t})=>{const r=e.length;return Xn([t?{name:t,icon:$t,description:"",minTabs:1,maxTabs:1/0}:void 0,...ks]).filter(n=>r>=n.minTabs&&r<=n.maxTabs)},Rs=({query:e})=>[{mode:"chat",message:e}],Es=async e=>(await(await fetch(`https://suggestqueries.google.com/complete/search?client=chrome&q=${encodeURIComponent(e)}`)).json())[1]||[],Ms=async e=>(await(await fetch(`https://api.bing.com/osjson.aspx?query=${encodeURIComponent(e)}`)).json())[1]||[],Ds=async e=>(await(await fetch(`https://in.search.yahoo.com/sugg/gossip/gossip-in-loc/?command=${encodeURIComponent(e)}&output=json`)).json()).gossip.results.map(s=>s.key)||[],Os=async e=>(await(await fetch(`https://duckduckgo.com/ac/?q=${encodeURIComponent(e)}&type=list`)).json())[1]||[],As=async e=>(await(await fetch(`https://suggest.yandex.com/suggest-ff.cgi?part=${encodeURIComponent(e)}&uil=en&v=3`)).json())[1]||[],Ps=async([e,t])=>{switch(e){case"google":return Es(t);case"bing":return Ms(t);case"yahoo":return Ds(t);case"duckduckgo":return Os(t);case"yandex":return As(t);default:return[]}},Ls=({query:e,searchEngine:t,debounceMs:r=300})=>{const[s,n]=l.useState(e);return l.useEffect(()=>{const i=setTimeout(()=>{n(e)},r);return()=>clearTimeout(i)},[e,r]),nr(s?[t,s]:null,Ps,{keepPreviousData:!0})},Vs=({query:e,selectedTabs:t})=>{const{data:r}=Ls({query:e,searchEngine:"google"}),s=l.useMemo(()=>{const c=[...r??[]];return e&&!c.includes(e)&&c.unshift(e),c},[r,e]),n=Ts({selectedTabs:t,input:e}),i=Rs({query:e}),a=l.useMemo(()=>{const c=[];if(e&&i.length>0){const d=i.map((m,j)=>({id:`browseros-${j}`,type:"browseros",mode:m.mode,message:m.message}));c.push({id:"browseros",title:"",items:d})}if(t.length>0&&n.length>0){const d=n.map((m,j)=>({id:`ai-tab-${j}`,type:"ai-tab",name:m.name,icon:m.icon,description:m.description,minTabs:m.minTabs,maxTabs:m.maxTabs}));c.push({id:"ai-actions",title:"AI Actions",items:d})}else if(e&&s&&s.length>0){const d=s.map((m,j)=>({id:`search-${j}`,type:"search",query:m}));c.push({id:"google-search",title:"Google Search",items:d})}return c},[e,i,t.length,n,s]),u=l.useMemo(()=>a.flatMap(c=>c.items),[a]);return{sections:a,flatItems:u}},Fs=e=>{switch(e.type){case"search":return e.query;case"ai-tab":return e.name;case"browseros":return e.message}},xn=()=>o.jsx("div",{className:"space-y-4 text-center",children:o.jsx("div",{className:"mb-2 flex items-center justify-center gap-3",children:o.jsx(fe.div,{layoutId:"new-tab-branding",transition:{type:"keyframes",damping:20,stiffness:300},className:"flex h-20 w-20 items-center justify-center rounded-xl bg-transparent",children:o.jsx("img",{src:In,alt:"BrowserOS",className:"h-20 w-20"})})})});Yt.extend(rr);const Pt=3,Hs=e=>{switch(e){case"completed":return o.jsx(jn,{className:"h-4 w-4 text-green-500"});case"running":return o.jsx(wn,{className:"h-4 w-4 animate-spin text-accent-orange"});case"failed":return o.jsx($n,{className:"h-4 w-4 text-destructive"})}},$s=e=>Yt(e).fromNow(),Bs=()=>{const[e,t]=l.useState(!0),[r,s]=l.useState(null),{jobRuns:n}=sr(),{jobs:i}=or(),a=n.filter(d=>d.status==="running").length,u=l.useMemo(()=>{const d=x=>({...x,job:i.find(S=>S.id===x.jobId)}),m=n.filter(x=>x.status==="running").map(d);if(m.length>=Pt)return m;const j=n.filter(x=>x.status==="completed"||x.status==="failed").sort((x,S)=>new Date(S.startedAt).getTime()-new Date(x.startedAt).getTime()).slice(0,Pt-m.length).map(d);return[...m,...j]},[n,i]),c=d=>{xe(Bn),s(d)};return o.jsxs(Bt,{open:e,onOpenChange:t,className:"mb-16 w-xl space-y-3 md:w-3xl",children:[o.jsx(_t,{asChild:!0,children:o.jsxs(G,{variant:"ghost",className:"group flex h-auto w-full items-center justify-between rounded-xl border border-border/50 bg-card/50 p-3 transition-all hover:border-border hover:bg-card",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium text-foreground text-sm",children:"Scheduled Task Outputs"}),a>0&&o.jsxs(ar,{variant:"secondary",className:"text-xs",children:[a," running"]})]}),o.jsx(Kt,{className:`h-4 w-4 text-muted-foreground transition-transform duration-200 ${e?"rotate-180":""}`})]})}),o.jsxs(Wt,{className:"fade-in-0 slide-in-from-top-2 animate-in space-y-2 duration-200",children:[u.map(d=>o.jsx(G,{variant:"ghost",onClick:()=>c(d),className:"h-auto w-full justify-start rounded-xl border border-border/50 bg-card p-4 text-left transition-all hover:border-border",children:o.jsxs("div",{className:"flex w-full items-start gap-3",children:[Hs(d.status),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[o.jsx("span",{className:"truncate font-medium text-foreground text-sm",children:d.job?.name}),o.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground text-xs",children:[o.jsx(lr,{className:"h-3 w-3"}),$s(d.startedAt)]})]}),d.result&&o.jsx("p",{className:"line-clamp-2 text-ellipsis text-muted-foreground text-xs",children:d.result})]})]})},d.id)),o.jsx(G,{variant:"ghost",asChild:!0,className:"w-full",children:o.jsx("a",{href:"/options.html#/scheduled",onClick:()=>xe(_n),children:"View more"})})]}),o.jsx(ir,{run:r,jobName:r?.job?.name,onOpenChange:d=>!d&&s(null)})]})},_s=({title:e})=>e?o.jsx("div",{className:"mb-2 px-2 font-semibold text-muted-foreground text-xs uppercase tracking-wide",children:e}):null,Ks=({item:e,isHighlighted:t,getItemProps:r,index:s})=>{const n=ue("ph-mask flex w-full items-center gap-3 rounded-lg p-3 text-left text-foreground text-sm transition-colors hover:bg-accent cursor-pointer",t&&"bg-accent");switch(e.type){case"search":return o.jsxs("li",{className:n,...r({item:e,index:s}),children:[o.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),e.query]});case"ai-tab":return o.jsxs("li",{className:n,...r({item:e,index:s}),children:[o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-[var(--accent-orange)]/10 transition-colors group-hover:bg-[var(--accent-orange)]/20",children:o.jsx(e.icon,{className:"h-4 w-4 text-[var(--accent-orange)]"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-medium text-foreground text-sm",children:e.name}),e.description&&o.jsx("div",{className:"text-muted-foreground text-xs",children:e.description})]})]});case"browseros":return o.jsxs("li",{className:n,...r({item:e,index:s}),children:[e.mode==="chat"?o.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}):o.jsx($t,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-semibold",children:e.mode==="chat"?"Ask BrowserOS:":"Run Agent:"}),e.message||"Type a message..."]})}},Ws=({getItemProps:e,getMenuProps:t,sections:r,highlightedIndex:s})=>{let n=0;return o.jsx(fe.ul,{...t(),className:"styled-scrollbar flex max-h-60 flex-col gap-2 overflow-y-auto px-2",transition:{duration:.2},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:r.map(i=>o.jsxs("div",{className:"px-3",children:[o.jsx(_s,{title:i.title}),i.items.map(a=>{const u=n++;return o.jsx(Ks,{item:a,isHighlighted:s===u,getItemProps:e,index:u},a.id)})]},i.id))})},Us=[{key:"A",description:"Toggle Agent",modifier:{windows:"Alt",mac:"⌥"}},{key:"K",description:"Toggle LLM Chat",modifier:{windows:"Alt",mac:"⌥"}},{key:"L",description:"Switch providers in LLM Chat",modifier:{windows:"Alt",mac:"⌥"}}],zs=()=>{const[e,t]=l.useState(void 0);return l.useEffect(()=>{t(navigator.platform.toUpperCase().indexOf("MAC")>=0)},[]),e},qs=({open:e,onOpenChange:t})=>{const r=zs();return o.jsx(Nn,{open:e,onOpenChange:t,children:o.jsxs(Cn,{className:"styled-scrollbar max-h-[80vh] max-w-xl overflow-y-auto",children:[o.jsxs(kn,{children:[o.jsx(Tn,{className:"font-semibold text-2xl",children:"Keyboard Shortcuts"}),o.jsx(Rn,{children:"Use these shortcuts to navigate BrowserOS faster"})]}),o.jsx("div",{className:"mt-8",children:o.jsx("div",{className:"space-y-1",children:Us.map((s,n)=>o.jsxs("div",{className:"group flex items-center justify-between rounded-md px-2 py-3 transition-colors hover:bg-accent/30",children:[o.jsx("span",{className:"text-foreground text-sm group-hover:text-foreground/90",children:s.description}),o.jsx("div",{className:"flex items-center gap-1.5",children:o.jsxs(ur,{children:[o.jsx(bt,{children:r?s.modifier.mac:s.modifier.windows}),o.jsx("span",{children:"+"}),o.jsx(bt,{children:s.key})]})})]},n.toString()))})}),o.jsx("div",{className:"mt-8 border-border/50 border-t pt-4 text-center text-muted-foreground text-xs",children:"More shortcuts coming soon"})]})})},Gs=e=>`https://www.google.com/s2/favicons?domain=${e}&sz=28`,Ys=()=>{const[e,t]=l.useState([]);return l.useEffect(()=>{chrome.topSites.get().then(r=>{const s=Cs(r,5);t(s.map(n=>{let i;try{const a=new URL(n.url).host;i=Gs(a)}catch{}return{name:n.title,url:n.url,icon:i}}))})},[]),e},Xs=({src:e,alt:t})=>{const[r,s]=l.useState(!1);return r?o.jsx(Xe,{className:"h-7 w-7 text-foreground"}):o.jsx("img",{src:e,alt:t,className:"h-7 w-7 object-contain",onError:()=>{s(!0)},onLoad:n=>{const i=n.currentTarget;(i.naturalWidth===0||i.naturalHeight===0)&&s(!0)}})},Js=()=>{const e=Ys();return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsx("h2",{className:"font-semibold text-muted-foreground text-xs uppercase tracking-wide",children:"Top Sites"})}),o.jsx("div",{className:"flex items-center justify-center gap-6",children:e.map((t,r)=>o.jsxs("a",{href:t.url,className:"group flex flex-col items-center gap-2 transition-transform hover:scale-110",children:[o.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl border border-border/50 bg-card shadow-sm transition-transform group-hover:border-[var(--accent-orange)]/30 group-hover:shadow-md",children:t.icon?o.jsx(Xs,{src:t.icon,alt:t.name}):o.jsx(Xe,{className:"h-7 w-7 text-foreground"})}),o.jsx("span",{className:"line-clamp-1 max-w-18 text-muted-foreground text-xs transition-colors group-hover:text-foreground",children:t.name})]},r.toString()))})]})},Qs=()=>{const[e,t]=l.useState(""),[r,s]=l.useState(!1),[n,i]=l.useState([]),a=l.useRef(null),u=l.useRef(null),[c,d]=l.useState([]),[m,j]=l.useState(!1),x=h=>{d(E=>E.some(y=>y.id===h.id)?E.filter(y=>y.id!==h.id):[...E,h])},S=h=>{d(E=>E.filter(O=>O.id!==h))},{sections:R,flatItems:w}=Vs({query:e,selectedTabs:c}),{isOpen:f,getMenuProps:P,getInputProps:N,highlightedIndex:B,getItemProps:M,reset:Y}=Ge({items:w,inputValue:e,itemToString:h=>h?Fs(h):"",onSelectedItemChange({selectedItem:h}){h&&_(h)},onStateChange:({type:h,inputValue:E,highlightedIndex:O,selectedItem:y})=>{h===Ge.stateChangeTypes.InputKeyDownEnter&&!y&&!O&&!E&&T()},onInputValueChange({inputValue:h}){t(h??"")}}),k=()=>{if(B>-1){const h=w[B];_(h)}else T()},T=()=>{const h=w[0];_(h)},_=h=>{if(h){switch(h.type){case"search":xe(Kn,{search_engine:"google"}),window.open(`https://www.google.com/search?q=${encodeURIComponent(h.query)}`,"_self");break;case"ai-tab":{xe(gt,{mode:"agent",tabs_count:c.length});const E=Zn({name:h.name,description:h.description,tabs:c}),O=`${h.name}${h.description?` - ${h.description}`:""}}`;At("open",{query:O,mode:"agent",action:E});break}case"browseros":{xe(gt,{mode:h.mode,tabs_count:c.length});const E=Qn({mode:h.mode,message:h.message,tabs:c});At("open",{query:h.message,mode:h.mode,action:E});break}}Y(),d([])}},A=f&&e.length||R.length>0&&e.length||f&&c.length;l.useEffect(()=>{s(!0)},[]),l.useEffect(()=>()=>{n.forEach(h=>{h.preview&&URL.revokeObjectURL(h.preview)})},[n]);const L=h=>{i(E=>E.filter((O,y)=>y!==h))};return o.jsxs("div",{className:"pt-[max(25vh,16px)]",children:[o.jsxs("div",{className:"relative w-full space-y-8 md:w-3xl",children:[o.jsx(xn,{}),o.jsxs("div",{className:ue("relative overflow-hidden bg-border/50 p-[2px]",A||c.length>0||n.length>0?"bg-[var(--accent-orange)]/30 shadow-[var(--accent-orange)]/10":"bg-border/50 hover:border-border"),style:{borderRadius:"1.5rem"},children:[r&&o.jsx("div",{className:"absolute inset-0",style:{borderRadius:"1.5rem"},children:o.jsx(bs,{duration:2e3,delay:0,rx:"1.5rem",ry:"1.5rem",children:o.jsx(ys,{})})}),o.jsxs("div",{className:ue("relative bg-card shadow-lg",A||c.length>0||n.length>0?"border-[var(--accent-orange)]/30 shadow-[var(--accent-orange)]/10":"border-border/50 hover:border-border"),style:{borderRadius:"calc(1.5rem - 2px)"},children:[o.jsxs("div",{className:"flex items-center gap-3 px-5 py-4",children:[o.jsx(Ht,{className:"h-5 w-5 flex-shrink-0 text-muted-foreground"}),o.jsx("input",{ref:a,type:"text",placeholder:"Ask AI or search Google...",className:"flex-1 border-none bg-transparent text-base text-foreground outline-none placeholder:text-muted-foreground",...N()}),o.jsx(G,{onClick:k,size:"icon",className:"h-10 w-10 flex-shrink-0 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90",children:o.jsx(dr,{className:"h-5 w-5"})})]}),o.jsx($e,{children:(c.length>0||n.length>0)&&o.jsx(fe.div,{className:"overflow-clip px-5 pb-4",transition:{duration:.2},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsx("div",{className:"styled-scrollbar flex gap-3 overflow-x-auto pb-2",children:o.jsxs($e,{children:[c.map(h=>h?o.jsx(fe.div,{className:"group w-48 flex-shrink-0 overflow-clip rounded-lg border border-border bg-accent/50 p-3 transition-colors hover:bg-accent",transition:{duration:.2},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg border border-border bg-background",children:h.favIconUrl?o.jsx("img",{src:h.favIconUrl,alt:h.title,className:"h-6 w-6"}):o.jsx(Xe,{className:"h-6 w-6"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"mb-1 truncate font-medium text-foreground text-sm",children:h.title}),o.jsx("div",{className:"text-muted-foreground text-xs",children:"Tab"})]}),o.jsx("button",{type:"button",onClick:()=>S(h.id),className:"cursor-pointer rounded p-1 opacity-0 transition-opacity hover:bg-background group-hover:opacity-100",children:o.jsx(ht,{className:"h-3 w-3"})})]})},h.id):null),n.map((h,E)=>o.jsx("div",{className:"group w-48 flex-shrink-0 rounded-lg border border-border bg-accent/50 p-3 transition-colors hover:bg-accent",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center overflow-hidden rounded-lg border border-border bg-background",children:h.preview?o.jsx("img",{src:h.preview||"/placeholder.svg",alt:h.name,className:"h-full w-full object-cover"}):h.type.startsWith("image/")?o.jsx(xr,{className:"h-5 w-5 text-muted-foreground"}):o.jsx(gr,{className:"h-5 w-5 text-muted-foreground"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"mb-1 truncate font-medium text-foreground text-sm",children:h.name}),o.jsxs("div",{className:"text-muted-foreground text-xs",children:[(h.size/1024).toFixed(1)," KB"]})]}),o.jsx("button",{type:"button",onClick:()=>L(E),className:"cursor-pointer rounded p-1 opacity-0 transition-opacity hover:bg-background group-hover:opacity-100",children:o.jsx(ht,{className:"h-3 w-3"})})]})},E.toString()))]})})})}),o.jsx($e,{children:A&&o.jsx(Ws,{getItemProps:M,getMenuProps:P,highlightedIndex:B,sections:R})}),r&&o.jsx("div",{className:"flex items-center justify-between border-border/50 border-t px-5 py-3",children:o.jsx("div",{className:"flex items-center gap-1",children:o.jsx("div",{className:"relative",ref:u,children:o.jsx(Jn,{selectedTabs:c,onToggleTab:x,children:o.jsxs(G,{className:ue("flex items-center gap-2 rounded-lg px-3 py-1.5 font-medium text-sm transition-all",c.length>0?"bg-[var(--accent-orange)]! text-white shadow-sm":"bg-transparent text-muted-foreground hover:bg-accent hover:text-accent-foreground","data-[state=open]:bg-accent"),children:[o.jsx(Yn,{className:"h-4 w-4"}),o.jsx("span",{children:"Tabs"})]})})})})})]})]}),!A&&o.jsx(Js,{}),!A&&o.jsx(Is,{onOpenShortcuts:()=>j(!0)}),r&&!A&&o.jsx(Bs,{})]}),r&&o.jsx(qs,{open:m,onOpenChange:j})]})},Zs=()=>o.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-radial-focus"})]}),eo=()=>o.jsxs("div",{className:"relative flex min-h-screen flex-col items-center overflow-hidden bg-background px-6",children:[o.jsx(Zs,{}),o.jsx("div",{className:"fixed top-6 right-6 z-50",children:o.jsx(Wn,{})}),o.jsx(ps,{children:o.jsx(En,{})})]}),Ue={aboutYou:{template:`# About Me

- **Name:** [Your name]
- **Role:** [Your job title or role]
- **Interests:** [Your hobbies and interests]
- **Location:** [Your city/country]
- **Background:** [Brief description of your background]`,example:`**Example:**
- **Name:** Alex Johnson
- **Role:** Software Developer
- **Interests:** Reading, hiking, photography
- **Location:** San Francisco, CA
- **Background:** I've been coding for 5 years and love building web applications`},expectations:{template:`## What I Expect from the Browser

- **Primary use case:** [What you mainly use the browser for]
- **Productivity needs:** [Tools and features that help you work]
- **Privacy preferences:** [Your privacy and security expectations]
- **Customization:** [How you like to personalize your experience]`,example:`**Example:**
- **Primary use case:** Research and development work
- **Productivity needs:** Fast tab switching, quick search, AI assistance
- **Privacy preferences:** Strong tracking protection, secure browsing
- **Customization:** Dark mode, minimal UI, keyboard shortcuts`},commonActions:{template:`## Commonly Performed Actions

- **Daily tasks:**
  - [Task 1]
  - [Task 2]
  - [Task 3]

- **Frequent websites:**
  - [Website 1] - [Why you visit]
  - [Website 2] - [Why you visit]

- **Typical workflows:**
  - [Workflow 1]
  - [Workflow 2]`,example:`**Example:**
- **Daily tasks:**
  - Checking emails and messages
  - Reading tech news and articles
  - Writing code and documentation

- **Frequent websites:**
  - GitHub - Code collaboration
  - Stack Overflow - Problem solving
  - Medium - Learning and reading

- **Typical workflows:**
  - Morning: Check email → Read news → Plan day
  - Work: Code → Test → Review → Deploy
  - Evening: Learn new tech → Read articles → Relax`}},Lt=[{key:"aboutYou",title:"Add more info about you",description:"Help BrowserOS understand who you are"},{key:"expectations",title:"What you expect from the browser",description:"Share your preferences and needs"},{key:"commonActions",title:"Your commonly performed actions",description:"Describe your daily workflows"}],to=()=>{const[e,t]=l.useState(!1),[r,s]=l.useState(Lt[0].key),[n,i]=l.useState(null),{personalization:a,setPersonalization:u}=er();l.useEffect(()=>{t(!0)},[]);const c=d=>{const m=Ue[d].template;navigator.clipboard.writeText(m),i(d),setTimeout(()=>i(null),2e3)};return o.jsxs("div",{className:"pt-[max(5vh,16px)]",children:[o.jsx("div",{className:"absolute top-6 left-6 z-10",children:o.jsx(G,{variant:"outline",asChild:!0,className:"rounded-xl",children:o.jsxs(Ft,{to:"/",className:"gap-2",children:[o.jsx(fr,{className:"h-4 w-4"}),"Back"]})})}),o.jsx("div",{className:"relative flex min-h-screen items-center justify-center px-4 py-16 md:w-xl",children:o.jsxs("div",{className:"w-full max-w-3xl space-y-8 duration-700",children:[o.jsx(xn,{}),o.jsxs("div",{className:ue("space-y-3 transition-transform",e?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),children:[o.jsx(Un,{htmlFor:"personalization",children:"Your Information"}),o.jsx(cr,{id:"personalization",value:a,autoFocus:!0,onChange:d=>u(d.target.value),placeholder:"Tell BrowserOS about yourself... (Supports Markdown)",className:"styled-scrollbar h-96 resize-none rounded-2xl border-2 border-border/50 bg-card px-4 py-3 transition-transform placeholder:text-muted-foreground focus:border-[var(--accent-orange)]/30 focus:ring-4 focus:ring-[var(--accent-orange)]/10"}),o.jsx("p",{className:"text-muted-foreground text-xs",children:"Your information is saved locally and never leaves your device. Markdown formatting is supported."})]}),o.jsxs("div",{className:ue("space-y-3 transition-transform",e?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),children:[o.jsx("h2",{className:"font-semibold text-muted-foreground text-sm uppercase tracking-wide",children:"Need help getting started?"}),o.jsx("div",{className:"space-y-2",children:Lt.map(d=>o.jsxs(Bt,{open:r===d.key,onOpenChange:m=>s(m?d.key:null),className:"w-full rounded-xl border border-border/50 bg-card hover:border-border",children:[o.jsx(_t,{asChild:!0,children:o.jsxs(G,{variant:"ghost",className:"flex h-auto w-full items-center justify-between p-4 text-left hover:bg-accent/50",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1 font-medium text-foreground text-sm",children:d.title}),o.jsx("p",{className:"text-muted-foreground text-xs",children:d.description})]}),o.jsx(Kt,{className:`h-5 w-5 shrink-0 text-muted-foreground transition-transform duration-200 ${r===d.key?"rotate-180":""}`})]})}),o.jsx(Wt,{className:"overflow-hidden data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:o.jsxs("div",{className:"space-y-3 px-4 pb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"mb-2 font-medium text-muted-foreground text-xs",children:"Template (click to copy):"}),o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"styled-scrollbar overflow-x-auto whitespace-pre-wrap break-words rounded-lg border border-border bg-accent/50 p-4 text-foreground text-xs",children:Ue[d.key].template}),o.jsx(G,{variant:"outline",size:"icon-sm",onClick:()=>c(d.key),className:"absolute top-3 right-3",title:"Copy template",children:n===d.key?o.jsx(Mn,{className:"h-4 w-4 text-green-500"}):o.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"mb-2 font-medium text-muted-foreground text-xs",children:"Example:"}),o.jsx("pre",{className:"styled-scrollbar overflow-x-auto whitespace-pre-wrap break-words rounded-lg border border-border/30 bg-muted/30 p-4 text-muted-foreground text-xs",children:Ue[d.key].example})]}),o.jsx("p",{className:"text-muted-foreground text-xs",children:"Click the copy button to add this template to your clipboard, then paste it into the text area above and customize it."})]})})]},d.key))})]})]})})]})},no=()=>o.jsx(Dn,{children:o.jsx(On,{children:o.jsxs(Fe,{element:o.jsx(eo,{}),children:[o.jsx(Fe,{index:!0,element:o.jsx(Qs,{})}),o.jsx(Fe,{path:"/personalize",element:o.jsx(to,{})})]})})}),Vt=document.getElementById("root");Vt&&An.createRoot(Vt,Pn).render(o.jsx(de.StrictMode,{children:o.jsx(Ln,{children:o.jsxs(Vn,{children:[o.jsx(no,{}),o.jsx(Fn,{})]})})}));
