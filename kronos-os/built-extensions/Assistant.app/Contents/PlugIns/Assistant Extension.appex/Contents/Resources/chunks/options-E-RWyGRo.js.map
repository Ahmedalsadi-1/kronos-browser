{"version":3,"file":"options-E-RWyGRo.js","sources":["../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/calendar-clock.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/earth.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/external-link.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/menu.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/message-square-heart.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/palette.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/pencil.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/play.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/plug-zap.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/server.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/square.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/trash-2.js","../../../../../node_modules/.bun/lucide-react@0.554.0+83d5fd7b249dbeef/node_modules/lucide-react/dist/esm/icons/wrench.js","../../../../../node_modules/.bun/@radix-ui+react-alert-dialog@1.1.15+f178f9b1194b24ba/node_modules/@radix-ui/react-alert-dialog/dist/index.mjs","../../../components/ui/alert-dialog.tsx","../../../lib/llm-providers/testProvider.ts","../../../entrypoints/options/ai-settings/ProviderCard.tsx","../../../entrypoints/options/ai-settings/ConfiguredProvidersList.tsx","../../../../../node_modules/.bun/@radix-ui+react-select@2.2.6+f178f9b1194b24ba/node_modules/@radix-ui/react-select/dist/index.mjs","../../../components/ui/select.tsx","../../../entrypoints/options/ai-settings/LlmProvidersHeader.tsx","../../../../../node_modules/.bun/react-hook-form@7.69.0+83d5fd7b249dbeef/node_modules/react-hook-form/dist/index.esm.mjs","../../../../../node_modules/.bun/@hookform+resolvers@5.2.2+1d0cfe12d1d9e7b6/node_modules/@hookform/resolvers/dist/resolvers.mjs","../../../../../node_modules/.bun/zod@3.25.76/node_modules/zod/v4/core/core.js","../../../../../node_modules/.bun/zod@3.25.76/node_modules/zod/v4/core/util.js","../../../../../node_modules/.bun/zod@3.25.76/node_modules/zod/v4/core/errors.js","../../../../../node_modules/.bun/zod@3.25.76/node_modules/zod/v4/core/parse.js","../../../../../node_modules/.bun/@hookform+resolvers@5.2.2+1d0cfe12d1d9e7b6/node_modules/@hookform/resolvers/zod/dist/zod.mjs","../../../components/ui/form.tsx","../../../lib/llm-providers/providerTemplates.ts","../../../entrypoints/options/ai-settings/models.ts","../../../entrypoints/options/ai-settings/NewProviderDialog.tsx","../../../entrypoints/options/ai-settings/ProviderTemplateCard.tsx","../../../entrypoints/options/ai-settings/ProviderTemplatesSection.tsx","../../../entrypoints/options/ai-settings/AISettingsPage.tsx","../../../entrypoints/options/connect-mcp/AddCustomMCPDialog.tsx","../../../entrypoints/options/connect-mcp/AddManagedMCPDialog.tsx","../../../entrypoints/options/connect-mcp/AvailableManagedServers.tsx","../../../../../node_modules/.bun/swr@2.3.8+83d5fd7b249dbeef/node_modules/swr/dist/mutation/index.mjs","../../../entrypoints/options/connect-mcp/useAddManagedServer.tsx","../../../entrypoints/options/connect-mcp/useGetMCPServersList.tsx","../../../entrypoints/options/connect-mcp/useGetUserMCPIntegrations.tsx","../../../entrypoints/options/connect-mcp/useRemoveManagedServer.tsx","../../../entrypoints/options/connect-mcp/ConnectMCP.tsx","../../../entrypoints/options/customization/CustomizationHeader.tsx","../../../../../node_modules/.bun/@radix-ui+react-switch@1.2.6+f178f9b1194b24ba/node_modules/@radix-ui/react-switch/dist/index.mjs","../../../components/ui/switch.tsx","../../../entrypoints/options/customization/ToolbarSettingsCard.tsx","../../../entrypoints/options/customization/CustomizationPage.tsx","../../../entrypoints/options/jtbd-agent/jtbd-agent-chat.tsx","../../../entrypoints/options/jtbd-agent/jtbd-agent-header.tsx","../../../entrypoints/options/jtbd-agent/jtbd-agent-welcome.tsx","../../../entrypoints/options/jtbd-agent/use-jtbd-agent-chat.ts","../../../entrypoints/options/jtbd-agent/jtbd-agent-page.tsx","../../../entrypoints/options/layout/DashboardLayout.tsx","../../../lib/llm-hub/storage.ts","../../../lib/llm-hub/useLlmHubProviders.ts","../../../entrypoints/options/llm-hub/AddHubProviderDialog.tsx","../../../entrypoints/options/llm-hub/HubProviderRow.tsx","../../../entrypoints/options/llm-hub/HubProvidersList.tsx","../../../entrypoints/options/llm-hub/LlmHubHeader.tsx","../../../entrypoints/options/llm-hub/LlmHubPage.tsx","../../../lib/messaging/server/serverMessages.ts","../../../entrypoints/options/mcp-settings/MCPServerHeader.tsx","../../../entrypoints/options/mcp-settings/MCPToolsSection.tsx","../../../components/ui/alert.tsx","../../../entrypoints/options/mcp-settings/ServerSettingsCard.tsx","../../../entrypoints/options/mcp-settings/MCPSettingsPage.tsx","../../../entrypoints/options/scheduled-tasks/NewScheduledTaskDialog.tsx","../../../entrypoints/options/scheduled-tasks/ScheduledTasksHeader.tsx","../../../entrypoints/options/scheduled-tasks/ScheduledTaskCard.tsx","../../../entrypoints/options/scheduled-tasks/ScheduledTasksList.tsx","../../../entrypoints/options/scheduled-tasks/ScheduledTasksPage.tsx","../../../entrypoints/options/App.tsx","../../../entrypoints/options/main.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 14v2.2l1.6 1\", key: \"fo4ql5\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"path\", { d: \"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5\", key: \"1osxxc\" }],\n  [\"path\", { d: \"M3 10h5\", key: \"r794hk\" }],\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"circle\", { cx: \"16\", cy: \"16\", r: \"6\", key: \"qoo3c4\" }]\n];\nconst CalendarClock = createLucideIcon(\"calendar-clock\", __iconNode);\n\nexport { __iconNode, CalendarClock as default };\n//# sourceMappingURL=calendar-clock.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode);\n\nexport { __iconNode, ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.54 15H17a2 2 0 0 0-2 2v4.54\", key: \"1djwo0\" }],\n  [\n    \"path\",\n    {\n      d: \"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17\",\n      key: \"1tzkfa\"\n    }\n  ],\n  [\"path\", { d: \"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05\", key: \"14pb5j\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Earth = createLucideIcon(\"earth\", __iconNode);\n\nexport { __iconNode, Earth as default };\n//# sourceMappingURL=earth.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M4 5h16\", key: \"1tepv9\" }],\n  [\"path\", { d: \"M4 12h16\", key: \"1lakjw\" }],\n  [\"path\", { d: \"M4 19h16\", key: \"1djgab\" }]\n];\nconst Menu = createLucideIcon(\"menu\", __iconNode);\n\nexport { __iconNode, Menu as default };\n//# sourceMappingURL=menu.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z\",\n      key: \"18887p\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M7.5 9.5c0 .687.265 1.383.697 1.844l3.009 3.264a1.14 1.14 0 0 0 .407.314 1 1 0 0 0 .783-.004 1.14 1.14 0 0 0 .398-.31l3.008-3.264A2.77 2.77 0 0 0 16.5 9.5 2.5 2.5 0 0 0 12 8a2.5 2.5 0 0 0-4.5 1.5\",\n      key: \"1faxuh\"\n    }\n  ]\n];\nconst MessageSquareHeart = createLucideIcon(\"message-square-heart\", __iconNode);\n\nexport { __iconNode, MessageSquareHeart as default };\n//# sourceMappingURL=message-square-heart.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z\",\n      key: \"e79jfc\"\n    }\n  ],\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }]\n];\nconst Palette = createLucideIcon(\"palette\", __iconNode);\n\nexport { __iconNode, Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n];\nconst Pencil = createLucideIcon(\"pencil\", __iconNode);\n\nexport { __iconNode, Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z\",\n      key: \"10ikf1\"\n    }\n  ]\n];\nconst Play = createLucideIcon(\"play\", __iconNode);\n\nexport { __iconNode, Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z\", key: \"goz73y\" }\n  ],\n  [\"path\", { d: \"m2 22 3-3\", key: \"19mgm9\" }],\n  [\"path\", { d: \"M7.5 13.5 10 11\", key: \"7xgeeb\" }],\n  [\"path\", { d: \"M10.5 16.5 13 14\", key: \"10btkg\" }],\n  [\"path\", { d: \"m18 3-4 4h6l-4 4\", key: \"16psg9\" }]\n];\nconst PlugZap = createLucideIcon(\"plug-zap\", __iconNode);\n\nexport { __iconNode, PlugZap as default };\n//# sourceMappingURL=plug-zap.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"2\", rx: \"2\", ry: \"2\", key: \"ngkwjq\" }],\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"14\", rx: \"2\", ry: \"2\", key: \"iecqi9\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"6\", y2: \"6\", key: \"16zg32\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"18\", y2: \"18\", key: \"nzw8ys\" }]\n];\nconst Server = createLucideIcon(\"server\", __iconNode);\n\nexport { __iconNode, Server as default };\n//# sourceMappingURL=server.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n];\nconst Square = createLucideIcon(\"square\", __iconNode);\n\nexport { __iconNode, Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n\nexport { __iconNode, Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z\",\n      key: \"1ngwbx\"\n    }\n  ]\n];\nconst Wrench = createLucideIcon(\"wrench\", __iconNode);\n\nexport { __iconNode, Wrench as default };\n//# sourceMappingURL=wrench.js.map\n","\"use client\";\n\n// src/alert-dialog.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { createDialogScope } from \"@radix-ui/react-dialog\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar ROOT_NAME = \"AlertDialog\";\nvar [createAlertDialogContext, createAlertDialogScope] = createContextScope(ROOT_NAME, [\n  createDialogScope\n]);\nvar useDialogScope = createDialogScope();\nvar AlertDialog = (props) => {\n  const { __scopeAlertDialog, ...alertDialogProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Root, { ...dialogScope, ...alertDialogProps, modal: true });\n};\nAlertDialog.displayName = ROOT_NAME;\nvar TRIGGER_NAME = \"AlertDialogTrigger\";\nvar AlertDialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...triggerProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Trigger, { ...dialogScope, ...triggerProps, ref: forwardedRef });\n  }\n);\nAlertDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"AlertDialogPortal\";\nvar AlertDialogPortal = (props) => {\n  const { __scopeAlertDialog, ...portalProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Portal, { ...dialogScope, ...portalProps });\n};\nAlertDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"AlertDialogOverlay\";\nvar AlertDialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...overlayProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Overlay, { ...dialogScope, ...overlayProps, ref: forwardedRef });\n  }\n);\nAlertDialogOverlay.displayName = OVERLAY_NAME;\nvar CONTENT_NAME = \"AlertDialogContent\";\nvar [AlertDialogContentProvider, useAlertDialogContentContext] = createAlertDialogContext(CONTENT_NAME);\nvar Slottable = createSlottable(\"AlertDialogContent\");\nvar AlertDialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, children, ...contentProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const cancelRef = React.useRef(null);\n    return /* @__PURE__ */ jsx(\n      DialogPrimitive.WarningProvider,\n      {\n        contentName: CONTENT_NAME,\n        titleName: TITLE_NAME,\n        docsSlug: \"alert-dialog\",\n        children: /* @__PURE__ */ jsx(AlertDialogContentProvider, { scope: __scopeAlertDialog, cancelRef, children: /* @__PURE__ */ jsxs(\n          DialogPrimitive.Content,\n          {\n            role: \"alertdialog\",\n            ...dialogScope,\n            ...contentProps,\n            ref: composedRefs,\n            onOpenAutoFocus: composeEventHandlers(contentProps.onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              cancelRef.current?.focus({ preventScroll: true });\n            }),\n            onPointerDownOutside: (event) => event.preventDefault(),\n            onInteractOutside: (event) => event.preventDefault(),\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(DescriptionWarning, { contentRef })\n            ]\n          }\n        ) })\n      }\n    );\n  }\n);\nAlertDialogContent.displayName = CONTENT_NAME;\nvar TITLE_NAME = \"AlertDialogTitle\";\nvar AlertDialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...titleProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Title, { ...dialogScope, ...titleProps, ref: forwardedRef });\n  }\n);\nAlertDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"AlertDialogDescription\";\nvar AlertDialogDescription = React.forwardRef((props, forwardedRef) => {\n  const { __scopeAlertDialog, ...descriptionProps } = props;\n  const dialogScope = useDialogScope(__scopeAlertDialog);\n  return /* @__PURE__ */ jsx(DialogPrimitive.Description, { ...dialogScope, ...descriptionProps, ref: forwardedRef });\n});\nAlertDialogDescription.displayName = DESCRIPTION_NAME;\nvar ACTION_NAME = \"AlertDialogAction\";\nvar AlertDialogAction = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...actionProps } = props;\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...actionProps, ref: forwardedRef });\n  }\n);\nAlertDialogAction.displayName = ACTION_NAME;\nvar CANCEL_NAME = \"AlertDialogCancel\";\nvar AlertDialogCancel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAlertDialog, ...cancelProps } = props;\n    const { cancelRef } = useAlertDialogContentContext(CANCEL_NAME, __scopeAlertDialog);\n    const dialogScope = useDialogScope(__scopeAlertDialog);\n    const ref = useComposedRefs(forwardedRef, cancelRef);\n    return /* @__PURE__ */ jsx(DialogPrimitive.Close, { ...dialogScope, ...cancelProps, ref });\n  }\n);\nAlertDialogCancel.displayName = CANCEL_NAME;\nvar DescriptionWarning = ({ contentRef }) => {\n  const MESSAGE = `\\`${CONTENT_NAME}\\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \\`${CONTENT_NAME}\\` by passing a \\`${DESCRIPTION_NAME}\\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \\`id\\` and passing the same value to the \\`aria-describedby\\` prop in \\`${CONTENT_NAME}\\`. If the description is confusing or duplicative for sighted users, you can use the \\`@radix-ui/react-visually-hidden\\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;\n  React.useEffect(() => {\n    const hasDescription = document.getElementById(\n      contentRef.current?.getAttribute(\"aria-describedby\")\n    );\n    if (!hasDescription) console.warn(MESSAGE);\n  }, [MESSAGE, contentRef]);\n  return null;\n};\nvar Root2 = AlertDialog;\nvar Trigger2 = AlertDialogTrigger;\nvar Portal2 = AlertDialogPortal;\nvar Overlay2 = AlertDialogOverlay;\nvar Content2 = AlertDialogContent;\nvar Action = AlertDialogAction;\nvar Cancel = AlertDialogCancel;\nvar Title2 = AlertDialogTitle;\nvar Description2 = AlertDialogDescription;\nexport {\n  Action,\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n  Cancel,\n  Content2 as Content,\n  Description2 as Description,\n  Overlay2 as Overlay,\n  Portal2 as Portal,\n  Root2 as Root,\n  Title2 as Title,\n  Trigger2 as Trigger,\n  createAlertDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\n\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog'\nimport type * as React from 'react'\nimport { buttonVariants } from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\n/**\n * @public\n */\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 backdrop-blur-[2px] data-[state=closed]:animate-out data-[state=open]:animate-in',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn('font-semibold text-lg', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: 'outline' }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","import type { LlmProviderConfig } from './types'\n\n/**\n * @public\n */\nexport interface TestResult {\n  success: boolean\n  message: string\n  responseTime?: number\n}\n\n/**\n * Test a provider connection via the agent server's /test-provider endpoint.\n * This uses the same code path as actual chat requests, ensuring accurate validation.\n * @public\n */\nexport async function testProvider(\n  provider: LlmProviderConfig,\n  agentServerUrl: string,\n): Promise<TestResult> {\n  const startTime = performance.now()\n\n  try {\n    const response = await fetch(`${agentServerUrl}/test-provider`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        provider: provider.type,\n        model: provider.modelId,\n        apiKey: provider.apiKey,\n        baseUrl: provider.baseUrl,\n        // Azure\n        resourceName: provider.resourceName,\n        // Bedrock\n        region: provider.region,\n        accessKeyId: provider.accessKeyId,\n        secretAccessKey: provider.secretAccessKey,\n        sessionToken: provider.sessionToken,\n      }),\n    })\n\n    const result = (await response.json()) as TestResult\n\n    if (!result.responseTime) {\n      result.responseTime = Math.round(performance.now() - startTime)\n    }\n\n    return result\n  } catch (error) {\n    const responseTime = Math.round(performance.now() - startTime)\n\n    if (error instanceof Error) {\n      return {\n        success: false,\n        message: error.message,\n        responseTime,\n      }\n    }\n\n    return {\n      success: false,\n      message: 'An unexpected error occurred',\n      responseTime,\n    }\n  }\n}\n","import { Check, Loader2, Trash2 } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { BrowserOSIcon, ProviderIcon } from '@/lib/llm-providers/providerIcons'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { cn } from '@/lib/utils'\n\ninterface ProviderCardProps {\n  provider: LlmProviderConfig\n  isSelected: boolean\n  isBuiltIn: boolean\n  onSelect: () => void\n  onTest?: () => void\n  onEdit?: () => void\n  onDelete?: () => void\n  isTesting?: boolean\n}\n\n/** Card component for displaying a configured LLM provider */\nexport const ProviderCard: FC<ProviderCardProps> = ({\n  provider,\n  isSelected,\n  isBuiltIn,\n  onSelect,\n  onTest,\n  onEdit,\n  onDelete,\n  isTesting = false,\n}) => {\n  const inputId = `provider-${provider.id}`\n\n  return (\n    <label\n      htmlFor={inputId}\n      className={cn(\n        'group flex w-full cursor-pointer items-center gap-4 rounded-xl border p-4 text-left transition-all',\n        isSelected\n          ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]/5 shadow-md'\n          : 'border-border bg-card hover:border-[var(--accent-orange)]/50 hover:shadow-sm',\n      )}\n    >\n      <input\n        type=\"radio\"\n        id={inputId}\n        name=\"default-provider\"\n        className=\"sr-only\"\n        checked={isSelected}\n        onChange={() => onSelect()}\n      />\n      <div\n        className={cn(\n          'flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 transition-all',\n          isSelected\n            ? 'border-[var(--accent-orange)] bg-[var(--accent-orange)]'\n            : 'border-border',\n        )}\n      >\n        {isSelected && <Check className=\"h-3 w-3 text-white\" />}\n      </div>\n      <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]\">\n        {isBuiltIn ? (\n          <BrowserOSIcon size={24} />\n        ) : (\n          <ProviderIcon type={provider.type} size={24} />\n        )}\n      </div>\n      <div className=\"min-w-0 flex-1\">\n        <div className=\"mb-1 flex items-center gap-2\">\n          <span className=\"font-semibold\">{provider.name}</span>\n          {isSelected && (\n            <Badge\n              variant=\"secondary\"\n              className=\"rounded bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]\"\n            >\n              DEFAULT\n            </Badge>\n          )}\n        </div>\n        <p className=\"truncate text-muted-foreground text-sm\">\n          {isBuiltIn\n            ? 'Model hosted on the cloud by BrowserOS, has strict rate limits'\n            : `${provider.modelId} â€¢ ${provider.baseUrl}`}\n        </p>\n      </div>\n      {!isBuiltIn && (\n        <div className=\"flex shrink-0 items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={isTesting}\n            onClick={() => onTest?.()}\n          >\n            {isTesting && <Loader2 className=\"mr-1.5 h-4 w-4 animate-spin\" />}\n            {isTesting ? 'Testing...' : 'Test'}\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => onEdit?.()}>\n            Edit\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon-sm\"\n            className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive\"\n            onClick={() => onDelete?.()}\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      )}\n    </label>\n  )\n}\n","import type { FC } from 'react'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { ProviderCard } from './ProviderCard'\n\ninterface ConfiguredProvidersListProps {\n  providers: LlmProviderConfig[]\n  selectedProviderId: string\n  testingProviderId: string | null\n  onSelectProvider: (providerId: string) => void\n  onTestProvider: (provider: LlmProviderConfig) => void\n  onEditProvider: (provider: LlmProviderConfig) => void\n  onDeleteProvider: (provider: LlmProviderConfig) => void\n}\n\n/**\n * List of configured LLM providers with selection capability\n */\nexport const ConfiguredProvidersList: FC<ConfiguredProvidersListProps> = ({\n  providers,\n  selectedProviderId,\n  testingProviderId,\n  onSelectProvider,\n  onTestProvider,\n  onEditProvider,\n  onDeleteProvider,\n}) => {\n  return (\n    <div className=\"space-y-3\">\n      {providers.map((provider) => {\n        const isBuiltIn = provider.id === 'browseros'\n\n        return (\n          <ProviderCard\n            key={provider.id}\n            provider={provider}\n            isSelected={selectedProviderId === provider.id}\n            isBuiltIn={isBuiltIn}\n            isTesting={testingProviderId === provider.id}\n            onSelect={() => onSelectProvider(provider.id)}\n            onTest={() => onTestProvider(provider)}\n            onEdit={() => onEditProvider(provider)}\n            onDelete={() => onDeleteProvider(provider)}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\n\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\n/**\n * @public\n */\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"flex w-fit items-center justify-between gap-2 whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs outline-none transition-[color,box-shadow] focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[size=default]:h-9 data-[size=sm]:h-8 data-[placeholder]:text-muted-foreground *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 dark:bg-input/30 dark:aria-invalid:ring-destructive/40 dark:hover:bg-input/50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  align = 'center',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in',\n          position === 'popper' &&\n            'data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('px-2 py-1.5 text-muted-foreground text-xs', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"relative flex w-full cursor-default select-none items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('pointer-events-none -mx-1 my-1 h-px bg-border', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\n/**\n * @public\n */\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","import { Plus } from 'lucide-react'\nimport type { FC } from 'react'\nimport ProductLogoSvg from '@/assets/product_logo.svg'\nimport { Button } from '@/components/ui/button'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\n\ninterface LlmProvidersHeaderProps {\n  providers: LlmProviderConfig[]\n  defaultProviderId: string\n  onDefaultProviderChange: (providerId: string) => void\n  onAddProvider: () => void\n}\n\n/**\n * Header section for LLM providers with default provider selector and add button\n */\nexport const LlmProvidersHeader: FC<LlmProvidersHeaderProps> = ({\n  providers,\n  defaultProviderId,\n  onDefaultProviderChange,\n  onAddProvider,\n}) => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <img src={ProductLogoSvg} alt=\"BrowserOS\" className=\"h-8 w-8\" />\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"mb-1 font-semibold text-xl\">LLM Providers</h2>\n          <p className=\"mb-6 text-muted-foreground text-sm\">\n            Add your provider and choose the default LLM\n          </p>\n\n          <div className=\"flex flex-col items-start gap-4 sm:flex-row sm:items-center\">\n            <label\n              htmlFor=\"provider-picker\"\n              className=\"whitespace-nowrap font-medium text-sm\"\n            >\n              Default Provider:\n            </label>\n            <Select\n              value={defaultProviderId}\n              onValueChange={onDefaultProviderChange}\n            >\n              <SelectTrigger\n                id=\"provider-picker\"\n                className=\"w-full flex-1 sm:max-w-xs\"\n              >\n                <SelectValue placeholder=\"Select a provider\" />\n              </SelectTrigger>\n              <SelectContent>\n                {providers.map((provider) => (\n                  <SelectItem key={provider.id} value={provider.id}>\n                    {provider.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            <Button\n              variant=\"outline\"\n              onClick={onAddProvider}\n              className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              Add custom provider\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    if (data instanceof Date) {\n        return new Date(data);\n    }\n    const isFileListInstance = typeof FileList !== 'undefined' && data instanceof FileList;\n    if (isWeb && (data instanceof Blob || isFileListInstance)) {\n        return data;\n    }\n    const isArray = Array.isArray(data);\n    if (!isArray && !(isObject(data) && isPlainObject(data))) {\n        return data;\n    }\n    const copy = isArray ? [] : Object.create(Object.getPrototypeOf(data));\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            copy[key] = cloneObject(data[key]);\n        }\n    }\n    return copy;\n}\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar isUndefined = (val) => val === undefined;\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = (isKey(path) ? [path] : stringToPath(path)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React.createContext(null);\nHookFormContext.displayName = 'HookFormContext';\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://react.dev/reference/react/useContext) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate) â€¢ [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React.useState(control._formState);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n            !disabled &&\n                updateFormState({\n                    ...control._formState,\n                    ...formState,\n                });\n        },\n    }), [name, disabled, exact]);\n    React.useEffect(() => {\n        _localProxyFormState.current.isValid && control._setValid(true);\n    }, [control]);\n    return React.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName),\n            get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2, _internal_visited = new WeakSet()) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return Object.is(object1, object2);\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    if (_internal_visited.has(object1) || _internal_visited.has(object2)) {\n        return true;\n    }\n    _internal_visited.add(object1);\n    _internal_visited.add(object2);\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2, _internal_visited)\n                : !Object.is(val1, val2)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, compute, } = props || {};\n    const _defaultValue = React.useRef(defaultValue);\n    const _compute = React.useRef(compute);\n    const _computeFormValues = React.useRef(undefined);\n    const _prevControl = React.useRef(control);\n    const _prevName = React.useRef(name);\n    _compute.current = compute;\n    const [value, updateValue] = React.useState(() => {\n        const defaultValue = control._getWatch(name, _defaultValue.current);\n        return _compute.current ? _compute.current(defaultValue) : defaultValue;\n    });\n    const getCurrentOutput = React.useCallback((values) => {\n        const formValues = generateWatchOutput(name, control._names, values || control._formValues, false, _defaultValue.current);\n        return _compute.current ? _compute.current(formValues) : formValues;\n    }, [control._formValues, control._names, name]);\n    const refreshValue = React.useCallback((values) => {\n        if (!disabled) {\n            const formValues = generateWatchOutput(name, control._names, values || control._formValues, false, _defaultValue.current);\n            if (_compute.current) {\n                const computedFormValues = _compute.current(formValues);\n                if (!deepEqual(computedFormValues, _computeFormValues.current)) {\n                    updateValue(computedFormValues);\n                    _computeFormValues.current = computedFormValues;\n                }\n            }\n            else {\n                updateValue(formValues);\n            }\n        }\n    }, [control._formValues, control._names, disabled, name]);\n    useIsomorphicLayoutEffect(() => {\n        if (_prevControl.current !== control ||\n            !deepEqual(_prevName.current, name)) {\n            _prevControl.current = control;\n            _prevName.current = name;\n            refreshValue();\n        }\n        return control._subscribe({\n            name,\n            formState: {\n                values: true,\n            },\n            exact,\n            callback: (formState) => {\n                refreshValue(formState.values);\n            },\n        });\n    }, [control, exact, name, refreshValue]);\n    React.useEffect(() => control._removeUnmounted());\n    // If name or control changed for this render, synchronously reflect the\n    // latest value so callers (like useController) see the correct value\n    // immediately on the same render.\n    // Optimize: Check control reference first before expensive deepEqual\n    const controlChanged = _prevControl.current !== control;\n    const prevName = _prevName.current;\n    // Cache the computed output to avoid duplicate calls within the same render\n    // We include shouldReturnImmediate in deps to ensure proper recomputation\n    const computedOutput = React.useMemo(() => {\n        if (disabled) {\n            return null;\n        }\n        const nameChanged = !controlChanged && !deepEqual(prevName, name);\n        const shouldReturnImmediate = controlChanged || nameChanged;\n        return shouldReturnImmediate ? getCurrentOutput() : null;\n    }, [disabled, controlChanged, name, prevName, getCurrentOutput]);\n    return computedOutput !== null ? computedOutput : value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller) â€¢ [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister, defaultValue, exact = true, } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const defaultValueMemo = React.useMemo(() => get(control._formValues, name, get(control._defaultValues, name, defaultValue)), [control, name, defaultValue]);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: defaultValueMemo,\n        exact,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact,\n    });\n    const _props = React.useRef(props);\n    const _previousNameRef = React.useRef(undefined);\n    const _registerProps = React.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    _props.current = props;\n    const fieldState = React.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const onChange = React.useCallback((event) => _registerProps.current.onChange({\n        target: {\n            value: getEventValue(event),\n            name: name,\n        },\n        type: EVENTS.CHANGE,\n    }), [name]);\n    const onBlur = React.useCallback(() => _registerProps.current.onBlur({\n        target: {\n            value: get(control._formValues, name),\n            name: name,\n        },\n        type: EVENTS.BLUR,\n    }), [name, control._formValues]);\n    const ref = React.useCallback((elm) => {\n        const field = get(control._fields, name);\n        if (field && field._f && elm) {\n            field._f.ref = {\n                focus: () => isFunction(elm.focus) && elm.focus(),\n                select: () => isFunction(elm.select) && elm.select(),\n                setCustomValidity: (message) => isFunction(elm.setCustomValidity) && elm.setCustomValidity(message),\n                reportValidity: () => isFunction(elm.reportValidity) && elm.reportValidity(),\n            };\n        }\n    }, [control._fields, name]);\n    const field = React.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange,\n        onBlur,\n        ref,\n    }), [name, disabled, formState.disabled, onChange, onBlur, ref, value]);\n    React.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        const previousName = _previousNameRef.current;\n        if (previousName && previousName !== name && !isArrayField) {\n            control.unregister(previousName);\n        }\n        control.register(name, {\n            ..._props.current.rules,\n            ...(isBoolean(_props.current.disabled)\n                ? { disabled: _props.current.disabled }\n                : {}),\n        });\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name, _props.current.defaultValue));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        _previousNameRef.current = name;\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React.useEffect(() => {\n        control._setDisabledField({\n            disabled,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw) â€¢ [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType && encType !== 'multipart/form-data'\n                                ? { 'Content-Type': encType }\n                                : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React.createElement(React.Fragment, null, render({\n        submit,\n    }))) : (React.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nconst FormStateSubscribe = ({ control, disabled, exact, name, render, }) => render(useFormState({ control, name, disabled, exact }));\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nfunction extractFormValues(fieldsState, formValues) {\n    const values = {};\n    for (const key in fieldsState) {\n        if (fieldsState.hasOwnProperty(key)) {\n            const fieldState = fieldsState[key];\n            const fieldValue = formValues[key];\n            if (fieldState && isObject(fieldState) && fieldValue) {\n                const nestedFieldsState = extractFormValues(fieldState, fieldValue);\n                if (isObject(nestedFieldsState)) {\n                    values[key] = nestedFieldsState;\n                }\n            }\n            else if (fieldsState[key]) {\n                values[key] = fieldValue;\n            }\n        }\n    }\n    return values;\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction isTraversable(value) {\n    return Array.isArray(value) || (isObject(value) && !objectHasFunction(value));\n}\nfunction markFieldsDirty(data, fields = {}) {\n    for (const key in data) {\n        const value = data[key];\n        if (isTraversable(value)) {\n            fields[key] = Array.isArray(value) ? [] : {};\n            markFieldsDirty(value, fields[key]);\n        }\n        else if (!isUndefined(value)) {\n            fields[key] = true;\n        }\n    }\n    return fields;\n}\nfunction getDirtyFields(data, formValues, dirtyFieldsFromValues) {\n    if (!dirtyFieldsFromValues) {\n        dirtyFieldsFromValues = markFieldsDirty(formValues);\n    }\n    for (const key in data) {\n        const value = data[key];\n        if (isTraversable(value)) {\n            if (isUndefined(formValues) || isPrimitive(dirtyFieldsFromValues[key])) {\n                dirtyFieldsFromValues[key] = markFieldsDirty(value, Array.isArray(value) ? [] : {});\n            }\n            else {\n                getDirtyFields(value, isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n            }\n        }\n        else {\n            const formValue = formValues[key];\n            dirtyFieldsFromValues[key] = !deepEqual(value, formValue);\n        }\n    }\n    return dirtyFieldsFromValues;\n}\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        if (foundError && foundError.root && foundError.root.type) {\n            return {\n                name: `${fieldName}.root`,\n                error: foundError.root,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isString(result) ||\n        (Array.isArray(result) && result.every(isString)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isString(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isString(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isReady: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    let _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.defaultValues || _options.values) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n        keepIsValid: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const defaultProxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    const _proxyFormState = {\n        ...defaultProxyFormState,\n    };\n    let _proxySubscribeFormState = {\n        ..._proxyFormState,\n    };\n    const _subjects = {\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _setValid = async (shouldUpdateValid) => {\n        if (_state.keepIsValid) {\n            return;\n        }\n        if (!_options.disabled &&\n            (_proxyFormState.isValid ||\n                _proxySubscribeFormState.isValid ||\n                shouldUpdateValid)) {\n            let isValid;\n            if (_options.resolver) {\n                isValid = isEmptyObject((await _runSchema()).errors);\n                _updateIsValidating();\n            }\n            else {\n                isValid = await executeBuiltInValidation(_fields, true);\n            }\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating ||\n                _proxyFormState.validatingFields ||\n                _proxySubscribeFormState.isValidating ||\n                _proxySubscribeFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _setFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if ((_proxyFormState.touchedFields ||\n                _proxySubscribeFormState.touchedFields) &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && !_state.action && _setValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!get(_formState.dirtyFields, name);\n                isCurrentFieldPristine\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        ((_proxyFormState.dirtyFields ||\n                            _proxySubscribeFormState.dirtyFields) &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            ((_proxyFormState.touchedFields ||\n                                _proxySubscribeFormState.touchedFields) &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _runSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _runSchema(names);\n        _updateIsValidating(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.forEach((checkboxRef) => {\n                            if (!checkboxRef.defaultChecked || !checkboxRef.disabled) {\n                                if (Array.isArray(fieldValue)) {\n                                    checkboxRef.checked = !!fieldValue.find((data) => data === checkboxRef.value);\n                                }\n                                else {\n                                    checkboxRef.checked =\n                                        fieldValue === checkboxRef.value || !!fieldValue;\n                                }\n                            }\n                        });\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.state.next({\n                            name,\n                            values: cloneObject(_formValues),\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            if (!value.hasOwnProperty(fieldKey)) {\n                return;\n            }\n            const fieldValue = value[fieldKey];\n            const fieldName = name + '.' + fieldKey;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: cloneObject(_formValues),\n            });\n            if ((_proxyFormState.isDirty ||\n                _proxyFormState.dirtyFields ||\n                _proxySubscribeFormState.isDirty ||\n                _proxySubscribeFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState, name });\n        _subjects.state.next({\n            name: _state.mount ? name : undefined,\n            values: cloneObject(_formValues),\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        const validationModeBeforeSubmit = getValidationModes(_options.mode);\n        const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = target.type\n                ? getFieldValue(field._f)\n                : getEventValue(event);\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                if (!target || !target.readOnly) {\n                    field._f.onBlur && field._f.onBlur(event);\n                    delayErrorCallback && delayErrorCallback(0);\n                }\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.state.next({\n                    name,\n                    type: event.type,\n                    values: cloneObject(_formValues),\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n                    if (_options.mode === 'onBlur') {\n                        if (isBlurEvent) {\n                            _setValid();\n                        }\n                    }\n                    else if (!isBlurEvent) {\n                        _setValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _runSchema([name]);\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid ||\n                        _proxySubscribeFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    (!Array.isArray(field._f.deps) || field._f.deps.length > 0) &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _setValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n                    isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames, config) => {\n        let values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        if (config) {\n            values = extractFormValues(config.dirtyFields ? _formState.dirtyFields : _formState.touchedFields, values);\n        }\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.state.subscribe({\n            next: (payload) => 'values' in payload &&\n                name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const _subscribe = (props) => _subjects.state.subscribe({\n        next: (formState) => {\n            if (shouldSubscribeByName(props.name, formState.name, props.exact) &&\n                shouldRenderFormState(formState, props.formState || _proxyFormState, _setFormState, props.reRenderRoot)) {\n                props.callback({\n                    values: { ..._formValues },\n                    ..._formState,\n                    ...formState,\n                    defaultValues: _defaultValues,\n                });\n            }\n        },\n    }).unsubscribe;\n    const subscribe = (props) => {\n        _state.mount = true;\n        _proxySubscribeFormState = {\n            ..._proxySubscribeFormState,\n            ...props.formState,\n        };\n        return _subscribe({\n            ...props,\n            formState: {\n                ...defaultProxyFormState,\n                ...props.formState,\n            },\n        });\n    };\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.state.next({\n            values: cloneObject(_formValues),\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _setValid();\n    };\n    const _setDisabledField = ({ disabled, name, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _setDisabledField({\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist &&\n                e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _runSchema();\n            _updateIsValidating();\n            _formState.errors = errors;\n            fieldValues = cloneObject(values);\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                unset(fieldValues, name);\n            }\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _setValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (keepStateOptions.keepFieldsRef) {\n                    for (const fieldName of _names.mount) {\n                        setValue(fieldName, get(values, fieldName));\n                    }\n                }\n                else {\n                    _fields = {};\n                }\n            }\n            _formValues = _options.shouldUnregister\n                ? keepStateOptions.keepDefaultValues\n                    ? cloneObject(_defaultValues)\n                    : {}\n                : cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.state.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues ||\n                (!_options.shouldUnregister && !isEmptyObject(values));\n        _state.watch = !!_options.shouldUnregister;\n        _state.keepIsValid = !!keepStateOptions.keepIsValid;\n        _state.action = false;\n        // Clear errors synchronously to prevent validation errors on subsequent submissions\n        // This fixes the issue where form.reset() causes validation errors on subsequent\n        // submissions in Next.js 16 with Server Actions\n        if (!keepStateOptions.keepErrors) {\n            _formState.errors = {};\n        }\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n            defaultValues: _defaultValues,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, { ..._options.resetOptions, ...keepStateOptions });\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                // Use setTimeout to ensure focus happens after any pending state updates\n                // This fixes the issue where setFocus doesn't work immediately after setError\n                setTimeout(() => {\n                    fieldRef.focus();\n                    options.shouldSelect &&\n                        isFunction(fieldRef.select) &&\n                        fieldRef.select();\n                });\n            }\n        }\n    };\n    const _setFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    const methods = {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _subscribe,\n            _runSchema,\n            _updateIsValidating,\n            _focusError,\n            _getWatch,\n            _getDirty,\n            _setValid,\n            _setFieldArray,\n            _setDisabledField,\n            _setErrors,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _removeUnmounted,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        subscribe,\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n    return {\n        ...methods,\n        formControl: methods,\n    };\n}\n\nvar generateId = () => {\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n        return crypto.randomUUID();\n    }\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = ((Math.random() * 16 + d) % 16) | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc. â€¢ [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn) â€¢ [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React.useState(control._getFieldArray(name));\n    const ids = React.useRef(control._getFieldArray(name).map(generateId));\n    const _actioned = React.useRef(false);\n    control._names.array.add(name);\n    React.useMemo(() => rules &&\n        fields.length >= 0 &&\n        control.register(name, rules), [control, name, fields.length, rules]);\n    useIsomorphicLayoutEffect(() => control._subjects.array.subscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === name || !fieldArrayName) {\n                const fieldValues = get(values, name);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n    }).unsubscribe, [control, name]);\n    const updateValues = React.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._setFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted) &&\n            !getValidationModes(control._options.reValidateMode).isOnSubmit) {\n            if (control._options.resolver) {\n                control._runSchema([name]).then((result) => {\n                    control._updateIsValidating([name]);\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.state.next({\n            name,\n            values: cloneObject(control._formValues),\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._setValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React.useEffect(() => {\n        !get(control._formValues, name) && control._setFieldArray(name);\n        return () => {\n            const updateMounted = (name, value) => {\n                const field = get(control._fields, name);\n                if (field && field._f) {\n                    field._f.mount = value;\n                }\n            };\n            control._options.shouldUnregister || shouldUnregister\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [updateValues, name, control]),\n        move: React.useCallback(move, [updateValues, name, control]),\n        prepend: React.useCallback(prepend, [updateValues, name, control]),\n        append: React.useCallback(append, [updateValues, name, control]),\n        remove: React.useCallback(remove, [updateValues, name, control]),\n        insert: React.useCallback(insert$1, [updateValues, name, control]),\n        update: React.useCallback(update, [updateValues, name, control]),\n        replace: React.useCallback(replace, [updateValues, name, control]),\n        fields: React.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform) â€¢ [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm) â€¢ [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React.useRef(undefined);\n    const _values = React.useRef(undefined);\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        isReady: false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        if (props.formControl) {\n            _formControl.current = {\n                ...props.formControl,\n                formState,\n            };\n            if (props.defaultValues && !isFunction(props.defaultValues)) {\n                props.formControl.reset(props.defaultValues, props.resetOptions);\n            }\n        }\n        else {\n            const { formControl, ...rest } = createFormControl(props);\n            _formControl.current = {\n                ...rest,\n                formState,\n            };\n        }\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    useIsomorphicLayoutEffect(() => {\n        const sub = control._subscribe({\n            formState: control._proxyFormState,\n            callback: () => updateFormState({ ...control._formState }),\n            reRenderRoot: true,\n        });\n        updateFormState((data) => ({\n            ...data,\n            isReady: true,\n        }));\n        control._formState.isReady = true;\n        return sub;\n    }, [control]);\n    React.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React.useEffect(() => {\n        if (props.mode) {\n            control._options.mode = props.mode;\n        }\n        if (props.reValidateMode) {\n            control._options.reValidateMode = props.reValidateMode;\n        }\n    }, [control, props.mode, props.reValidateMode]);\n    React.useEffect(() => {\n        if (props.errors) {\n            control._setErrors(props.errors);\n            control._focusError();\n        }\n    }, [control, props.errors]);\n    React.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.state.next({\n                values: control._getWatch(),\n            });\n    }, [control, props.shouldUnregister]);\n    React.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React.useEffect(() => {\n        var _a;\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, {\n                keepFieldsRef: true,\n                ...control._options.resetOptions,\n            });\n            if (!((_a = control._options.resetOptions) === null || _a === void 0 ? void 0 : _a.keepIsValid)) {\n                control._setValid();\n            }\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [control, props.values]);\n    React.useEffect(() => {\n        if (!control._state.mount) {\n            control._setValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\n/**\n * Watch component that subscribes to form field changes and re-renders when watched fields update.\n *\n * @param control - The form control object from useForm\n * @param name - Can be field name, array of field names, or undefined to watch the entire form\n * @param disabled - Disable subscription\n * @param exact - Whether to watch exact field names or not\n * @param defaultValue - The default value to use if the field is not yet set\n * @param compute - Function to compute derived values from watched fields\n * @param render - The function that receives watched values and returns ReactNode\n * @returns The result of calling render function with watched values\n *\n * @example\n * The `Watch` component only re-render when the values of `foo`, `bar`, and `baz.qux` change.\n * The types of `foo`, `bar`, and `baz.qux` are precisely inferred.\n *\n * ```tsx\n * const { control } = useForm();\n *\n * <Watch\n *   control={control}\n *   names={['foo', 'bar', 'baz.qux']}\n *   render={([foo, bar, baz_qux]) => <div>{foo}{bar}{baz_qux}</div>}\n * />\n * ```\n */\nconst Watch = ({ render, names, ...props }) => render(useWatch({ ...props, name: names }));\n\nexport { Controller, Form, FormProvider, FormStateSubscribe, Watch, appendErrors, createFormControl, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n","import{get as e,set as t}from\"react-hook-form\";const r=(t,r,o)=>{if(t&&\"reportValidity\"in t){const s=e(o,r);t.setCustomValidity(s&&s.message||\"\"),t.reportValidity()}},o=(e,t)=>{for(const o in t.fields){const s=t.fields[o];s&&s.ref&&\"reportValidity\"in s.ref?r(s.ref,o,e):s&&s.refs&&s.refs.forEach(t=>r(t,o,e))}},s=(r,s)=>{s.shouldUseNativeValidation&&o(r,s);const n={};for(const o in r){const f=e(s.fields,o),c=Object.assign(r[o]||{},{ref:f&&f.ref});if(i(s.names||Object.keys(r),o)){const r=Object.assign({},e(n,o));t(r,\"root\",c),t(n,o,r)}else t(n,o,c)}return n},i=(e,t)=>{const r=n(t);return e.some(e=>n(e).match(`^${r}\\\\.\\\\d+`))};function n(e){return e.replace(/\\]|\\[/g,\"\")}export{s as toNestErrors,o as validateFieldsNatively};\n//# sourceMappingURL=resolvers.mjs.map\n","/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        var _a;\n        Object.defineProperty(inst, \"_zod\", {\n            value: inst._zod ?? {},\n            enumerable: false,\n        });\n        (_a = inst._zod).traits ?? (_a.traits = new Set());\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        for (const k in _.prototype) {\n            if (!(k in inst))\n                Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });\n        }\n        inst._zod.constr = _;\n        inst._zod.def = def;\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n","// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport function defineLazy(object, key, getter) {\n    const set = false;\n    Object.defineProperty(object, key, {\n        get() {\n            if (!set) {\n                const value = getter();\n                object[key] = value;\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport const captureStackTrace = Error.captureStackTrace\n    ? Error.captureStackTrace\n    : (..._args) => { };\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const newShape = {};\n    const currDef = schema._zod.def; //.shape;\n    for (const key in mask) {\n        if (!(key in currDef.shape)) {\n            throw new Error(`Unrecognized key: \"${key}\"`);\n        }\n        if (!mask[key])\n            continue;\n        // pick key\n        newShape[key] = currDef.shape[key];\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape: newShape,\n        checks: [],\n    });\n}\nexport function omit(schema, mask) {\n    const newShape = { ...schema._zod.def.shape };\n    const currDef = schema._zod.def; //.shape;\n    for (const key in mask) {\n        if (!(key in currDef.shape)) {\n            throw new Error(`Unrecognized key: \"${key}\"`);\n        }\n        if (!mask[key])\n            continue;\n        delete newShape[key];\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape: newShape,\n        checks: [],\n    });\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const def = {\n        ...schema._zod.def,\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [], // delete existing checks\n    };\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    return clone(a, {\n        ...a._zod.def,\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        catchall: b._zod.def.catchall,\n        checks: [], // delete existing checks\n    });\n}\nexport function partial(Class, schema, mask) {\n    const oldShape = schema._zod.def.shape;\n    const shape = { ...oldShape };\n    if (mask) {\n        for (const key in mask) {\n            if (!(key in oldShape)) {\n                throw new Error(`Unrecognized key: \"${key}\"`);\n            }\n            if (!mask[key])\n                continue;\n            // if (oldShape[key]!._zod.optin === \"optional\") continue;\n            shape[key] = Class\n                ? new Class({\n                    type: \"optional\",\n                    innerType: oldShape[key],\n                })\n                : oldShape[key];\n        }\n    }\n    else {\n        for (const key in oldShape) {\n            // if (oldShape[key]!._zod.optin === \"optional\") continue;\n            shape[key] = Class\n                ? new Class({\n                    type: \"optional\",\n                    innerType: oldShape[key],\n                })\n                : oldShape[key];\n        }\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape,\n        checks: [],\n    });\n}\nexport function required(Class, schema, mask) {\n    const oldShape = schema._zod.def.shape;\n    const shape = { ...oldShape };\n    if (mask) {\n        for (const key in mask) {\n            if (!(key in shape)) {\n                throw new Error(`Unrecognized key: \"${key}\"`);\n            }\n            if (!mask[key])\n                continue;\n            // overwrite with non-optional\n            shape[key] = new Class({\n                type: \"nonoptional\",\n                innerType: oldShape[key],\n            });\n        }\n    }\n    else {\n        for (const key in oldShape) {\n            // overwrite with non-optional\n            shape[key] = new Class({\n                type: \"nonoptional\",\n                innerType: oldShape[key],\n            });\n        }\n    }\n    return clone(schema, {\n        ...schema._zod.def,\n        shape,\n        // optional: [],\n        checks: [],\n    });\n}\nexport function aborted(x, startIndex = 0) {\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true)\n            return true;\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n","import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"message\", {\n        get() {\n            return JSON.stringify(def, util.jsonStringifyReplacer, 2);\n        },\n        enumerable: true,\n        // configurable: false,\n    });\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, _mapper) {\n    const mapper = _mapper ||\n        function (issue) {\n            return issue.message;\n        };\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   âœ– Expected number, received string at \"username\n * favoriteNumbers[0]\n *   âœ– Invalid input: expected number\n * ```\n */\nexport function toDotPath(path) {\n    const segs = [];\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => a.path.length - b.path.length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`âœ– ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  â†’ at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n","import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\n","import{validateFieldsNatively as r,toNestErrors as e}from\"@hookform/resolvers\";import{appendErrors as o}from\"react-hook-form\";import*as n from\"zod/v4/core\";function t(r,e){try{var o=r()}catch(r){return e(r)}return o&&o.then?o.then(void 0,e):o}function s(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"unionErrors\"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"unionErrors\"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function i(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"invalid_union\"===t.code&&t.errors.length>0){var u=t.errors[0][0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"invalid_union\"===t.code&&t.errors.forEach(function(e){return e.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function a(o,a,u){if(void 0===u&&(u={}),function(r){return\"_def\"in r&&\"object\"==typeof r._def&&\"typeName\"in r._def}(o))return function(n,i,c){try{return Promise.resolve(t(function(){return Promise.resolve(o[\"sync\"===u.mode?\"parse\":\"parseAsync\"](n,a)).then(function(e){return c.shouldUseNativeValidation&&r({},c),{errors:{},values:u.raw?Object.assign({},n):e}})},function(r){if(function(r){return Array.isArray(null==r?void 0:r.issues)}(r))return{values:{},errors:e(s(r.errors,!c.shouldUseNativeValidation&&\"all\"===c.criteriaMode),c)};throw r}))}catch(r){return Promise.reject(r)}};if(function(r){return\"_zod\"in r&&\"object\"==typeof r._zod}(o))return function(s,c,f){try{return Promise.resolve(t(function(){return Promise.resolve((\"sync\"===u.mode?n.parse:n.parseAsync)(o,s,a)).then(function(e){return f.shouldUseNativeValidation&&r({},f),{errors:{},values:u.raw?Object.assign({},s):e}})},function(r){if(function(r){return r instanceof n.$ZodError}(r))return{values:{},errors:e(i(r.issues,!f.shouldUseNativeValidation&&\"all\"===f.criteriaMode),f)};throw r}))}catch(r){return Promise.reject(r)}};throw new Error(\"Invalid input: not a Zod schema\")}export{a as zodResolver};\n//# sourceMappingURL=zod.module.js.map\n","'use client'\n\nimport type * as LabelPrimitive from '@radix-ui/react-label'\nimport { Slot } from '@radix-ui/react-slot'\nimport * as React from 'react'\nimport {\n  Controller,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n  FormProvider,\n  useFormContext,\n  useFormState,\n} from 'react-hook-form'\nimport { Label } from '@/components/ui/label'\nimport { cn } from '@/lib/utils'\n\n/**\n * @public\n */\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue,\n)\n\n/**\n * @public\n */\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\n/**\n * @public\n */\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>')\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n)\n\n/**\n * @public\n */\nfunction FormItem({ className, ...props }: React.ComponentProps<'div'>) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn('grid gap-2', className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\n/**\n * @public\n */\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn('data-[error=true]:text-destructive', className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormDescription({ className, ...props }: React.ComponentProps<'p'>) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction FormMessage({ className, ...props }: React.ComponentProps<'p'>) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? '') : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn('text-destructive text-sm', className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","import type { ProviderType } from './types'\n\n/**\n * Provider template for quick setup\n * @public\n */\nexport interface ProviderTemplate {\n  id: ProviderType\n  name: string\n  defaultBaseUrl: string\n  defaultModelId: string\n  supportsImages: boolean\n  contextWindow: number\n  setupGuideUrl?: string\n  apiKeyUrl?: string\n}\n\n/**\n * Available provider templates for quick setup\n * @public\n */\nexport const providerTemplates: ProviderTemplate[] = [\n  {\n    id: 'openai',\n    name: 'OpenAI',\n    defaultBaseUrl: 'https://api.openai.com/v1',\n    defaultModelId: 'gpt-4',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl: 'https://platform.openai.com/api-keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/openai',\n  },\n  {\n    id: 'openai-compatible',\n    name: 'OpenAI Compatible',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 128000,\n  },\n  {\n    id: 'anthropic',\n    name: 'Anthropic',\n    defaultBaseUrl: 'https://api.anthropic.com/v1',\n    defaultModelId: 'claude-3-5-sonnet-20241022',\n    supportsImages: true,\n    contextWindow: 200000,\n    apiKeyUrl: 'https://console.anthropic.com/settings/keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/claude',\n  },\n  {\n    id: 'google',\n    name: 'Gemini',\n    defaultBaseUrl: 'https://generativelanguage.googleapis.com/v1beta',\n    defaultModelId: 'gemini-1.5-pro',\n    supportsImages: true,\n    contextWindow: 1000000,\n    apiKeyUrl: 'https://aistudio.google.com/app/apikey',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/gemini',\n  },\n  {\n    id: 'ollama',\n    name: 'Ollama',\n    defaultBaseUrl: 'http://localhost:11434/v1',\n    defaultModelId: 'llama3.2',\n    supportsImages: false,\n    contextWindow: 128000,\n    setupGuideUrl: 'https://docs.browseros.com/local-LLMs/ollama',\n  },\n  {\n    id: 'openrouter',\n    name: 'OpenRouter',\n    defaultBaseUrl: 'https://openrouter.ai/api/v1',\n    defaultModelId: 'openai/gpt-4-turbo',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl: 'https://openrouter.ai/keys',\n    setupGuideUrl: 'https://docs.browseros.com/bring-your-own-keys/openrouter',\n  },\n  {\n    id: 'lmstudio',\n    name: 'LM Studio',\n    defaultBaseUrl: 'http://localhost:1234/v1',\n    defaultModelId: 'local-model',\n    supportsImages: false,\n    contextWindow: 32000,\n    setupGuideUrl: 'https://docs.browseros.com/local-LLMs/lm-studio',\n  },\n  {\n    id: 'azure',\n    name: 'Azure',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 128000,\n    apiKeyUrl:\n      'https://portal.azure.com/#view/Microsoft_Azure_ProjectOxford/CognitiveServicesHub/~/OpenAI',\n  },\n  {\n    id: 'bedrock',\n    name: 'AWS Bedrock',\n    defaultBaseUrl: '',\n    defaultModelId: '',\n    supportsImages: true,\n    contextWindow: 200000,\n    setupGuideUrl:\n      'https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html',\n  },\n]\n\n/**\n * Provider type options for select dropdowns\n * @public\n */\nexport const providerTypeOptions: { value: ProviderType; label: string }[] = [\n  { value: 'anthropic', label: 'Anthropic' },\n  { value: 'openai', label: 'OpenAI' },\n  { value: 'openai-compatible', label: 'OpenAI Compatible' },\n  { value: 'google', label: 'Gemini' },\n  { value: 'openrouter', label: 'OpenRouter' },\n  { value: 'azure', label: 'Azure' },\n  { value: 'ollama', label: 'Ollama' },\n  { value: 'lmstudio', label: 'LM Studio' },\n  { value: 'bedrock', label: 'AWS Bedrock' },\n  { value: 'browseros', label: 'BrowserOS' },\n]\n\n/**\n * Get provider template by type\n * @public\n */\nexport const getProviderTemplate = (\n  type: ProviderType,\n): ProviderTemplate | undefined => {\n  return providerTemplates.find((t) => t.id === type)\n}\n\n/**\n * Default base URLs for each provider type\n * Auto-fills when user selects a provider type\n */\nexport const DEFAULT_BASE_URLS: Record<ProviderType, string> = {\n  anthropic: 'https://api.anthropic.com/v1',\n  openai: 'https://api.openai.com/v1',\n  'openai-compatible': '',\n  google: 'https://generativelanguage.googleapis.com/v1beta',\n  openrouter: 'https://openrouter.ai/api/v1',\n  azure: '',\n  ollama: 'http://localhost:11434/v1',\n  lmstudio: 'http://localhost:1234/v1',\n  bedrock: '',\n  browseros: '',\n}\n\n/**\n * Get default base URL for a provider type\n * @public\n */\nexport const getDefaultBaseUrlForProviders = (type: ProviderType): string => {\n  return DEFAULT_BASE_URLS[type] || ''\n}\n","import type { ProviderType } from '@/lib/llm-providers/types'\n\n/**\n * Model information with context length\n */\nexport interface ModelInfo {\n  modelId: string\n  contextLength: number\n}\n\n/**\n * Models data organized by provider type (matches backend AIProvider enum)\n */\nexport interface ModelsData {\n  anthropic: ModelInfo[]\n  openai: ModelInfo[]\n  'openai-compatible': ModelInfo[]\n  google: ModelInfo[]\n  openrouter: ModelInfo[]\n  azure: ModelInfo[]\n  ollama: ModelInfo[]\n  lmstudio: ModelInfo[]\n  bedrock: ModelInfo[]\n  browseros: ModelInfo[]\n}\n\n/**\n * Available models per provider with context lengths\n * Based on: https://github.com/browseros-ai/BrowserOS-agent/blob/main/src/options/data/models.ts\n */\nexport const MODELS_DATA: ModelsData = {\n  anthropic: [\n    { modelId: 'claude-opus-4-5-20251101', contextLength: 200000 },\n    { modelId: 'claude-haiku-4-5-20251001', contextLength: 200000 },\n    { modelId: 'claude-sonnet-4-5-20250929', contextLength: 200000 },\n    { modelId: 'claude-sonnet-4-20250514', contextLength: 200000 },\n    { modelId: 'claude-opus-4-20250514', contextLength: 200000 },\n    { modelId: 'claude-3-7-sonnet-20250219', contextLength: 200000 },\n    { modelId: 'claude-3-5-haiku-20241022', contextLength: 200000 },\n  ],\n  openai: [\n    { modelId: 'gpt-5.2', contextLength: 400000 },\n    { modelId: 'gpt-5.2-pro', contextLength: 400000 },\n    { modelId: 'gpt-5', contextLength: 400000 },\n    { modelId: 'gpt-5-mini', contextLength: 400000 },\n    { modelId: 'gpt-5-nano', contextLength: 400000 },\n    { modelId: 'gpt-4.1', contextLength: 1000000 },\n    { modelId: 'gpt-4.1-mini', contextLength: 1000000 },\n    { modelId: 'o4-mini', contextLength: 200000 },\n    { modelId: 'o3-mini', contextLength: 200000 },\n    { modelId: 'gpt-4o', contextLength: 128000 },\n    { modelId: 'gpt-4o-mini', contextLength: 128000 },\n  ],\n  'openai-compatible': [],\n  google: [\n    { modelId: 'gemini-3-pro-preview', contextLength: 1048576 },\n    { modelId: 'gemini-3-flash-preview', contextLength: 1048576 },\n    { modelId: 'gemini-2.5-flash', contextLength: 1048576 },\n    { modelId: 'gemini-2.5-pro', contextLength: 1048576 },\n  ],\n  openrouter: [\n    { modelId: 'google/gemini-3-pro-preview', contextLength: 1048576 },\n    { modelId: 'google/gemini-3-flash-preview', contextLength: 1048576 },\n    { modelId: 'google/gemini-2.5-flash', contextLength: 1048576 },\n    { modelId: 'anthropic/claude-opus-4.5', contextLength: 200000 },\n    { modelId: 'anthropic/claude-haiku-4.5', contextLength: 200000 },\n    { modelId: 'anthropic/claude-sonnet-4.5', contextLength: 200000 },\n    { modelId: 'anthropic/claude-sonnet-4', contextLength: 200000 },\n    { modelId: 'anthropic/claude-3.7-sonnet', contextLength: 200000 },\n    { modelId: 'openai/gpt-4o', contextLength: 128000 },\n    { modelId: 'openai/gpt-oss-120b', contextLength: 128000 },\n    { modelId: 'openai/gpt-oss-20b', contextLength: 128000 },\n    { modelId: 'qwen/qwen3-14b', contextLength: 131072 },\n    { modelId: 'qwen/qwen3-8b', contextLength: 131072 },\n  ],\n  azure: [],\n  ollama: [\n    { modelId: 'qwen3:4b', contextLength: 262144 },\n    { modelId: 'qwen3:8b', contextLength: 40960 },\n    { modelId: 'qwen3:14b', contextLength: 40960 },\n    { modelId: 'gpt-oss:20b', contextLength: 128000 },\n    { modelId: 'gpt-oss:120b', contextLength: 128000 },\n  ],\n  lmstudio: [\n    { modelId: 'openai/gpt-oss-20b', contextLength: 128000 },\n    { modelId: 'openai/gpt-oss-120b', contextLength: 128000 },\n    { modelId: 'qwen/qwen3-vl-8b', contextLength: 131072 },\n  ],\n  bedrock: [],\n  browseros: [],\n}\n\n/**\n * Get models for a specific provider type\n */\nexport function getModelsForProvider(providerType: ProviderType): ModelInfo[] {\n  return MODELS_DATA[providerType] || []\n}\n\n/**\n * Get model options for select dropdown (model IDs + custom option)\n */\nexport function getModelOptions(providerType: ProviderType): string[] {\n  const models = getModelsForProvider(providerType)\n  const modelIds = models.map((m) => m.modelId)\n  return modelIds.length > 0 ? [...modelIds, 'custom'] : ['custom']\n}\n\n/**\n * Get context length for a specific model\n */\nexport function getModelContextLength(\n  providerType: ProviderType,\n  modelId: string,\n): number | undefined {\n  const models = getModelsForProvider(providerType)\n  const model = models.find((m) => m.modelId === modelId)\n  return model?.contextLength\n}\n\n/**\n * Check if model ID is a custom (user-entered) value\n */\nexport function isCustomModel(\n  providerType: ProviderType,\n  modelId: string,\n): boolean {\n  const models = getModelsForProvider(providerType)\n  return !models.some((m) => m.modelId === modelId)\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport { CheckCircle2, ExternalLink, Loader2, XCircle } from 'lucide-react'\nimport { type FC, useEffect, useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod/v3'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\nimport { AI_PROVIDER_ADDED_EVENT } from '@/lib/constants/analyticsEvents'\nimport {\n  getDefaultBaseUrlForProviders,\n  getProviderTemplate,\n  providerTypeOptions,\n} from '@/lib/llm-providers/providerTemplates'\nimport { type TestResult, testProvider } from '@/lib/llm-providers/testProvider'\nimport type { LlmProviderConfig, ProviderType } from '@/lib/llm-providers/types'\nimport { track } from '@/lib/metrics/track'\nimport { getModelContextLength, getModelOptions } from './models'\n\nconst providerTypeEnum = z.enum([\n  'anthropic',\n  'openai',\n  'openai-compatible',\n  'google',\n  'openrouter',\n  'azure',\n  'ollama',\n  'lmstudio',\n  'bedrock',\n  'browseros',\n])\n\n/**\n * Zod schema for provider form validation\n * @public\n */\nexport const providerFormSchema = z\n  .object({\n    type: providerTypeEnum,\n    name: z.string().min(1, 'Provider name is required').max(50),\n    baseUrl: z.string().optional(),\n    modelId: z.string().min(1, 'Model ID is required'),\n    apiKey: z.string().optional(),\n    supportsImages: z.boolean(),\n    contextWindow: z.number().int().min(1000).max(2000000),\n    temperature: z.number().min(0).max(2),\n    // Azure-specific\n    resourceName: z.string().optional(),\n    // Bedrock-specific\n    accessKeyId: z.string().optional(),\n    secretAccessKey: z.string().optional(),\n    region: z.string().optional(),\n    sessionToken: z.string().optional(),\n  })\n  .superRefine((data, ctx) => {\n    // Azure: require either resourceName or baseUrl\n    if (data.type === 'azure') {\n      if (!data.resourceName && !data.baseUrl) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Either Resource Name or Base URL is required',\n          path: ['resourceName'],\n        })\n      }\n      if (!data.apiKey) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'API Key is required for Azure',\n          path: ['apiKey'],\n        })\n      }\n    }\n    // Bedrock: require AWS credentials\n    else if (data.type === 'bedrock') {\n      if (!data.accessKeyId) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Access Key ID is required',\n          path: ['accessKeyId'],\n        })\n      }\n      if (!data.secretAccessKey) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Secret Access Key is required',\n          path: ['secretAccessKey'],\n        })\n      }\n      if (!data.region) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: 'Region is required',\n          path: ['region'],\n        })\n      }\n    }\n    // Other providers: require baseUrl\n    else if (!data.baseUrl) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Base URL is required',\n        path: ['baseUrl'],\n      })\n    } else if (!/^https?:\\/\\/.+/.test(data.baseUrl)) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Must be a valid URL',\n        path: ['baseUrl'],\n      })\n    }\n  })\n\n/**\n * Type for form values\n * @public\n */\nexport type ProviderFormValues = z.infer<typeof providerFormSchema>\n\n/**\n * Props for NewProviderDialog\n * @public\n */\nexport interface NewProviderDialogProps {\n  /** Whether the dialog is open */\n  open: boolean\n  /** Callback when dialog should close */\n  onOpenChange: (open: boolean) => void\n  /** Optional initial values for editing or template prefill */\n  initialValues?: Partial<LlmProviderConfig>\n  /** Callback when provider is saved */\n  onSave: (provider: LlmProviderConfig) => Promise<void>\n}\n\n/**\n * Dialog for configuring a new LLM provider\n * @public\n */\nexport const NewProviderDialog: FC<NewProviderDialogProps> = ({\n  open,\n  onOpenChange,\n  initialValues,\n  onSave,\n}) => {\n  const [isCustomModel, setIsCustomModel] = useState(false)\n  const [isTesting, setIsTesting] = useState(false)\n  const [testResult, setTestResult] = useState<TestResult | null>(null)\n  const { supports } = useCapabilities()\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  const filteredProviderTypeOptions = providerTypeOptions.filter((opt) => {\n    if (opt.value === 'openai-compatible') {\n      return supports(Feature.OPENAI_COMPATIBLE_SUPPORT)\n    }\n    return true\n  })\n\n  const form = useForm<ProviderFormValues>({\n    resolver: zodResolver(providerFormSchema),\n    defaultValues: {\n      type: initialValues?.type || 'openai',\n      name: initialValues?.name || '',\n      baseUrl:\n        initialValues?.baseUrl || getDefaultBaseUrlForProviders('openai'),\n      modelId: initialValues?.modelId || '',\n      apiKey: initialValues?.apiKey || '',\n      supportsImages: initialValues?.supportsImages ?? false,\n      contextWindow: initialValues?.contextWindow || 128000,\n      temperature: initialValues?.temperature ?? 0.2,\n      // Azure-specific\n      resourceName: initialValues?.resourceName || '',\n      // Bedrock-specific\n      accessKeyId: initialValues?.accessKeyId || '',\n      secretAccessKey: initialValues?.secretAccessKey || '',\n      region: initialValues?.region || '',\n      sessionToken: initialValues?.sessionToken || '',\n    },\n  })\n\n  const watchedType = form.watch('type')\n  const watchedModelId = form.watch('modelId')\n\n  // Watch credential fields to clear test result when they change\n  const watchedApiKey = form.watch('apiKey')\n  const watchedBaseUrl = form.watch('baseUrl')\n  const watchedResourceName = form.watch('resourceName')\n  const watchedAccessKeyId = form.watch('accessKeyId')\n  const watchedSecretAccessKey = form.watch('secretAccessKey')\n  const watchedRegion = form.watch('region')\n  const watchedSessionToken = form.watch('sessionToken')\n\n  // Clear test result when credential fields change\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional - clear result when any credential changes\n  useEffect(() => {\n    setTestResult(null)\n  }, [\n    watchedType,\n    watchedModelId,\n    watchedApiKey,\n    watchedBaseUrl,\n    watchedResourceName,\n    watchedAccessKeyId,\n    watchedSecretAccessKey,\n    watchedRegion,\n    watchedSessionToken,\n  ])\n\n  // Get model options for current provider type\n  const modelOptions = getModelOptions(watchedType as ProviderType)\n\n  // Handle provider type change (user-initiated via Select)\n  const handleTypeChange = (newType: ProviderType) => {\n    form.setValue('type', newType)\n    const defaultUrl = getDefaultBaseUrlForProviders(newType)\n    if (defaultUrl) {\n      form.setValue('baseUrl', defaultUrl)\n    }\n    form.setValue('modelId', '')\n    setIsCustomModel(false)\n  }\n\n  // Auto-fill context window when model changes (only for new providers)\n  useEffect(() => {\n    if (initialValues?.id) return\n\n    if (watchedModelId && watchedModelId !== 'custom') {\n      const contextLength = getModelContextLength(\n        watchedType as ProviderType,\n        watchedModelId,\n      )\n      if (contextLength) {\n        form.setValue('contextWindow', contextLength)\n      }\n    }\n  }, [watchedModelId, watchedType, form, initialValues?.id])\n\n  // Handle model selection (including custom option)\n  const handleModelChange = (value: string) => {\n    if (value === 'custom') {\n      setIsCustomModel(true)\n      form.setValue('modelId', '')\n    } else {\n      setIsCustomModel(false)\n      form.setValue('modelId', value)\n    }\n  }\n\n  // Reset form when initialValues change\n  useEffect(() => {\n    if (initialValues) {\n      form.reset({\n        type: initialValues.type || 'openai',\n        name: initialValues.name || '',\n        baseUrl:\n          initialValues.baseUrl ||\n          getDefaultBaseUrlForProviders(initialValues.type || 'openai'),\n        modelId: initialValues.modelId || '',\n        apiKey: initialValues.apiKey || '',\n        supportsImages: initialValues.supportsImages ?? false,\n        contextWindow: initialValues.contextWindow || 128000,\n        temperature: initialValues.temperature ?? 0.2,\n        // Azure-specific\n        resourceName: initialValues.resourceName || '',\n        // Bedrock-specific\n        accessKeyId: initialValues.accessKeyId || '',\n        secretAccessKey: initialValues.secretAccessKey || '',\n        region: initialValues.region || '',\n        sessionToken: initialValues.sessionToken || '',\n      })\n      setIsCustomModel(false)\n    }\n  }, [initialValues, form])\n\n  // Reset form when dialog opens fresh (no initial values)\n  useEffect(() => {\n    if (open && !initialValues) {\n      const defaultType = 'openai'\n      form.reset({\n        type: defaultType,\n        name: '',\n        baseUrl: getDefaultBaseUrlForProviders(defaultType),\n        modelId: '',\n        apiKey: '',\n        supportsImages: false,\n        contextWindow: 128000,\n        temperature: 0.2,\n        // Azure-specific\n        resourceName: '',\n        // Bedrock-specific\n        accessKeyId: '',\n        secretAccessKey: '',\n        region: '',\n        sessionToken: '',\n      })\n      setIsCustomModel(false)\n    }\n    // Clear test result when dialog opens/closes\n    setTestResult(null)\n  }, [open, initialValues, form])\n\n  const onSubmit = async (values: ProviderFormValues) => {\n    const isNewProvider = !initialValues?.id\n    const provider: LlmProviderConfig = {\n      id: initialValues?.id || crypto.randomUUID(),\n      ...values,\n      createdAt: initialValues?.createdAt || Date.now(),\n      updatedAt: Date.now(),\n    }\n\n    await onSave(provider)\n    if (isNewProvider) {\n      track(AI_PROVIDER_ADDED_EVENT, {\n        provider_type: values.type,\n        model: values.modelId,\n      })\n    }\n    form.reset()\n    onOpenChange(false)\n  }\n\n  // Check if we have enough info to test the connection\n  const canTest = (): boolean => {\n    if (!watchedModelId) return false\n\n    if (watchedType === 'azure') {\n      return !!(watchedResourceName || watchedBaseUrl) && !!watchedApiKey\n    }\n    if (watchedType === 'bedrock') {\n      return !!watchedAccessKeyId && !!watchedSecretAccessKey && !!watchedRegion\n    }\n    // Standard providers need baseUrl, most need apiKey (except ollama/lmstudio)\n    if (!watchedBaseUrl) return false\n    if (!['ollama', 'lmstudio'].includes(watchedType) && !watchedApiKey) {\n      return false\n    }\n    return true\n  }\n\n  const handleTest = async () => {\n    if (!agentServerUrl) {\n      setTestResult({\n        success: false,\n        message: 'Server URL not available',\n      })\n      return\n    }\n\n    setIsTesting(true)\n    setTestResult(null)\n\n    try {\n      const values = form.getValues()\n\n      const result = await testProvider(\n        {\n          id: 'test',\n          type: values.type,\n          name: values.name || 'Test',\n          baseUrl: values.baseUrl,\n          modelId: values.modelId,\n          apiKey: values.apiKey,\n          supportsImages: values.supportsImages,\n          contextWindow: values.contextWindow,\n          temperature: values.temperature,\n          createdAt: Date.now(),\n          updatedAt: Date.now(),\n          resourceName: values.resourceName,\n          accessKeyId: values.accessKeyId,\n          secretAccessKey: values.secretAccessKey,\n          region: values.region,\n          sessionToken: values.sessionToken,\n        },\n        agentServerUrl,\n      )\n\n      setTestResult(result)\n    } catch (error) {\n      setTestResult({\n        success: false,\n        message: error instanceof Error ? error.message : 'Test failed',\n      })\n    } finally {\n      setIsTesting(false)\n    }\n  }\n\n  const providerTemplate = getProviderTemplate(watchedType as ProviderType)\n  const setupGuideUrl = providerTemplate?.setupGuideUrl\n  const providerName = providerTemplate?.name\n\n  const handleSetupGuideClick = (e: React.MouseEvent) => {\n    e.preventDefault()\n    if (setupGuideUrl) chrome.tabs.create({ url: setupGuideUrl })\n  }\n\n  const renderProviderSpecificFields = () => {\n    if (watchedType === 'azure') {\n      return (\n        <>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"resourceName\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Resource Name *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"your-resource-name\" {...field} />\n                  </FormControl>\n                  <FormDescription>Azure OpenAI resource name</FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"baseUrl\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Base URL Override</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"Optional custom URL\" {...field} />\n                  </FormControl>\n                  <FormDescription>\n                    Overrides resource name if set\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n          <FormField\n            control={form.control}\n            name=\"apiKey\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel>API Key *</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Enter your Azure API key\"\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n        </>\n      )\n    }\n\n    if (watchedType === 'bedrock') {\n      return (\n        <>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"accessKeyId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Access Key ID *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"AKIA...\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"secretAccessKey\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Secret Access Key *</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Enter your secret access key\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <FormField\n              control={form.control}\n              name=\"region\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Region *</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"us-east-1\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n            <FormField\n              control={form.control}\n              name=\"sessionToken\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Session Token</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Optional (for STS credentials)\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormDescription>\n                    Required for temporary credentials\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          </div>\n        </>\n      )\n    }\n\n    // Standard providers (OpenAI, Anthropic, Google, etc.)\n    return (\n      <>\n        <FormField\n          control={form.control}\n          name=\"baseUrl\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Base URL *</FormLabel>\n              <FormControl>\n                <Input placeholder=\"https://api.openai.com/v1\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"apiKey\"\n          render={({ field }) => {\n            const isApiKeyOptional = ['ollama', 'lmstudio'].includes(\n              watchedType,\n            )\n            return (\n              <FormItem>\n                <FormLabel>API Key{isApiKeyOptional ? '' : ' *'}</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder={\n                      isApiKeyOptional\n                        ? 'Enter your API key (optional)'\n                        : 'Enter your API key'\n                    }\n                    {...field}\n                  />\n                </FormControl>\n                <FormDescription>\n                  Your API key is encrypted and stored locally.{' '}\n                  {setupGuideUrl && (\n                    <a\n                      href={setupGuideUrl}\n                      onClick={handleSetupGuideClick}\n                      className=\"inline-flex cursor-pointer items-center gap-1 text-primary hover:underline\"\n                    >\n                      <ExternalLink className=\"h-3 w-3\" />\n                      {providerName} setup guide\n                    </a>\n                  )}\n                </FormDescription>\n                <FormMessage />\n              </FormItem>\n            )\n          }}\n        />\n      </>\n    )\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>\n            {initialValues?.id ? 'Edit Provider' : 'Configure New Provider'}\n          </DialogTitle>\n          <DialogDescription>\n            {initialValues?.id\n              ? 'Update your LLM provider configuration.'\n              : 'Add a new LLM provider configuration with API key and model settings.'}\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-5\">\n            {/* Row 1: Provider Type & Name */}\n            <div className=\"grid gap-4 sm:grid-cols-2\">\n              <FormField\n                control={form.control}\n                name=\"type\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Provider Type *</FormLabel>\n                    <Select\n                      onValueChange={(v) => handleTypeChange(v as ProviderType)}\n                      value={field.value}\n                    >\n                      <FormControl>\n                        <SelectTrigger className=\"w-full\">\n                          <SelectValue placeholder=\"Select provider type\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {filteredProviderTypeOptions.map((opt) => (\n                          <SelectItem key={opt.value} value={opt.value}>\n                            {opt.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"name\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Provider Name *</FormLabel>\n                    <FormControl>\n                      <Input placeholder=\"e.g., Work OpenAI\" {...field} />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {renderProviderSpecificFields()}\n\n            {/* Model field - shown for all providers */}\n            <FormField\n              control={form.control}\n              name=\"modelId\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Model *</FormLabel>\n                  {isCustomModel || modelOptions.length === 1 ? (\n                    <>\n                      <FormControl>\n                        <Input\n                          placeholder={\n                            watchedType === 'azure'\n                              ? 'Enter your deployment name'\n                              : watchedType === 'bedrock'\n                                ? 'e.g., anthropic.claude-3-5-sonnet-20241022-v2:0'\n                                : 'Enter custom model ID'\n                          }\n                          {...field}\n                        />\n                      </FormControl>\n                      {modelOptions.length > 1 && (\n                        <Button\n                          type=\"button\"\n                          variant=\"link\"\n                          size=\"sm\"\n                          className=\"h-auto p-0 text-xs\"\n                          onClick={() => setIsCustomModel(false)}\n                        >\n                          â† Back to model list\n                        </Button>\n                      )}\n                    </>\n                  ) : (\n                    <Select\n                      onValueChange={handleModelChange}\n                      value={field.value}\n                    >\n                      <FormControl>\n                        <SelectTrigger className=\"w-full\">\n                          <SelectValue placeholder=\"Select a model\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {modelOptions.map((modelId) => (\n                          <SelectItem key={modelId} value={modelId}>\n                            {modelId === 'custom' ? '+ Custom model' : modelId}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Model Configuration */}\n            <div className=\"space-y-4 border-border border-t pt-4\">\n              <h4 className=\"font-medium text-sm\">Model Configuration</h4>\n              <FormField\n                control={form.control}\n                name=\"supportsImages\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center gap-2 space-y-0\">\n                    <FormControl>\n                      <Checkbox\n                        checked={field.value}\n                        onCheckedChange={field.onChange}\n                      />\n                    </FormControl>\n                    <FormLabel className=\"font-normal\">\n                      Supports Images\n                    </FormLabel>\n                  </FormItem>\n                )}\n              />\n              <div className=\"grid gap-4 sm:grid-cols-2\">\n                <FormField\n                  control={form.control}\n                  name=\"contextWindow\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Context Window Size</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          {...field}\n                          onChange={(e) =>\n                            field.onChange(Number(e.target.value))\n                          }\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Auto-filled based on model\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"temperature\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Temperature (0-2)</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          step=\"0.1\"\n                          min=\"0\"\n                          max=\"2\"\n                          {...field}\n                          onChange={(e) =>\n                            field.onChange(Number(e.target.value))\n                          }\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Controls response randomness\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* Test Result Banner */}\n            {testResult && (\n              <div\n                className={`flex items-center gap-2 rounded-lg border p-3 text-sm ${\n                  testResult.success\n                    ? 'border-green-200 bg-green-50 text-green-700 dark:border-green-800 dark:bg-green-950 dark:text-green-300'\n                    : 'border-red-200 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-950 dark:text-red-300'\n                }`}\n              >\n                {testResult.success ? (\n                  <CheckCircle2 className=\"h-4 w-4 shrink-0\" />\n                ) : (\n                  <XCircle className=\"h-4 w-4 shrink-0\" />\n                )}\n                <span className=\"flex-1\">{testResult.message}</span>\n                {testResult.responseTime && (\n                  <span className=\"text-xs opacity-70\">\n                    {testResult.responseTime}ms\n                  </span>\n                )}\n              </div>\n            )}\n\n            <DialogFooter className=\"gap-3\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={handleTest}\n                disabled={!canTest() || isTesting}\n              >\n                {isTesting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                {isTesting ? 'Testing...' : 'Test'}\n              </Button>\n              <Button type=\"submit\" disabled={isTesting}>\n                {initialValues?.id ? 'Update' : 'Save'}\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import type { FC } from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { ProviderIcon } from '@/lib/llm-providers/providerIcons'\nimport type { ProviderTemplate } from '@/lib/llm-providers/providerTemplates'\n\ninterface ProviderTemplateCardProps {\n  template: ProviderTemplate\n  onUseTemplate: (template: ProviderTemplate) => void\n}\n\nexport const ProviderTemplateCard: FC<ProviderTemplateCardProps> = ({\n  template,\n  onUseTemplate,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onUseTemplate(template)}\n      className=\"group flex w-full items-center justify-between rounded-lg border border-border bg-background p-4 text-left transition-all hover:border-[var(--accent-orange)] hover:shadow-md\"\n    >\n      <div className=\"flex items-center gap-3 text-accent-orange/70 transition-colors group-hover:text-accent-orange\">\n        <ProviderIcon type={template.id} size={28} />\n        <span className=\"font-medium text-foreground\">{template.name}</span>\n      </div>\n      <Badge\n        variant=\"outline\"\n        className=\"rounded-md px-3 py-1 transition-colors group-hover:border-[var(--accent-orange)] group-hover:text-[var(--accent-orange)]\"\n      >\n        USE\n      </Badge>\n    </button>\n  )\n}\n","import { ChevronDown } from 'lucide-react'\nimport type { FC } from 'react'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\nimport {\n  type ProviderTemplate,\n  providerTemplates,\n} from '@/lib/llm-providers/providerTemplates'\nimport { cn } from '@/lib/utils'\nimport { ProviderTemplateCard } from './ProviderTemplateCard'\n\ninterface ProviderTemplatesSectionProps {\n  onUseTemplate: (template: ProviderTemplate) => void\n}\n\nexport const ProviderTemplatesSection: FC<ProviderTemplatesSectionProps> = ({\n  onUseTemplate,\n}) => {\n  const { supports } = useCapabilities()\n\n  const filteredTemplates = providerTemplates.filter((template) => {\n    if (template.id === 'openai-compatible') {\n      return supports(Feature.OPENAI_COMPATIBLE_SUPPORT)\n    }\n    return true\n  })\n\n  return (\n    <Collapsible defaultOpen className=\"group/collapsible\">\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <CollapsibleTrigger className=\"mb-4 flex w-full items-center justify-between text-left\">\n          <div>\n            <h3 className=\"font-semibold text-lg\">Quick provider templates</h3>\n            <p className=\"text-muted-foreground text-sm\">\n              {filteredTemplates.length} templates available\n            </p>\n          </div>\n          <ChevronDown\n            className={cn(\n              'h-5 w-5 transition-transform',\n              'group-data-[state=open]/collapsible:rotate-180',\n            )}\n          />\n        </CollapsibleTrigger>\n\n        <CollapsibleContent>\n          <div className=\"mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n            {filteredTemplates.map((template) => (\n              <ProviderTemplateCard\n                key={template.id}\n                template={template}\n                onUseTemplate={onUseTemplate}\n              />\n            ))}\n          </div>\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import { type FC, useState } from 'react'\nimport { toast } from 'sonner'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\nimport type { ProviderTemplate } from '@/lib/llm-providers/providerTemplates'\nimport { testProvider } from '@/lib/llm-providers/testProvider'\nimport type { LlmProviderConfig } from '@/lib/llm-providers/types'\nimport { useLlmProviders } from '@/lib/llm-providers/useLlmProviders'\nimport { ConfiguredProvidersList } from './ConfiguredProvidersList'\nimport { LlmProvidersHeader } from './LlmProvidersHeader'\nimport { NewProviderDialog } from './NewProviderDialog'\nimport { ProviderTemplatesSection } from './ProviderTemplatesSection'\n\n/**\n * AI Settings page for managing LLM providers\n * @public\n */\nexport const AISettingsPage: FC = () => {\n  const {\n    providers,\n    defaultProviderId,\n    saveProvider,\n    setDefaultProvider,\n    deleteProvider,\n  } = useLlmProviders()\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  const [isNewDialogOpen, setIsNewDialogOpen] = useState(false)\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\n  const [templateValues, setTemplateValues] = useState<\n    Partial<LlmProviderConfig> | undefined\n  >()\n  const [editingProvider, setEditingProvider] =\n    useState<LlmProviderConfig | null>(null)\n  const [providerToDelete, setProviderToDelete] =\n    useState<LlmProviderConfig | null>(null)\n  const [testingProviderId, setTestingProviderId] = useState<string | null>(\n    null,\n  )\n\n  const handleAddProvider = () => {\n    setTemplateValues(undefined)\n    setIsNewDialogOpen(true)\n  }\n\n  const handleUseTemplate = (template: ProviderTemplate) => {\n    setTemplateValues({\n      type: template.id,\n      name: template.name,\n      baseUrl: template.defaultBaseUrl,\n      modelId: template.defaultModelId,\n      supportsImages: template.supportsImages,\n      contextWindow: template.contextWindow,\n      temperature: 0.2,\n    })\n    setIsNewDialogOpen(true)\n  }\n\n  const handleEditProvider = (provider: LlmProviderConfig) => {\n    setEditingProvider(provider)\n    setIsEditDialogOpen(true)\n  }\n\n  const handleDeleteProvider = (provider: LlmProviderConfig) => {\n    setProviderToDelete(provider)\n  }\n\n  const confirmDeleteProvider = async () => {\n    if (providerToDelete) {\n      await deleteProvider(providerToDelete.id)\n      setProviderToDelete(null)\n    }\n  }\n\n  const handleSaveProvider = async (provider: LlmProviderConfig) => {\n    await saveProvider(provider)\n  }\n\n  const handleSelectProvider = (providerId: string) => {\n    setDefaultProvider(providerId)\n  }\n\n  const handleTestProvider = async (provider: LlmProviderConfig) => {\n    if (!agentServerUrl) {\n      toast.error('Test Failed', {\n        description: (\n          <span className=\"text-red-600 text-sm dark:text-red-400\">\n            Server URL not available\n          </span>\n        ),\n        duration: 3000,\n      })\n      return\n    }\n\n    setTestingProviderId(provider.id)\n\n    try {\n      const result = await testProvider(provider, agentServerUrl)\n\n      if (result.success) {\n        toast.success('Test Successful', {\n          description: (\n            <span className=\"text-green-600 text-sm dark:text-green-400\">\n              {result.message}\n            </span>\n          ),\n          duration: 3000,\n        })\n      } else {\n        toast.error('Test Failed', {\n          description: (\n            <span className=\"text-red-600 text-sm dark:text-red-400\">\n              {result.message}\n            </span>\n          ),\n          duration: 3000,\n        })\n      }\n    } catch (error) {\n      toast.error('Test Failed', {\n        description: (\n          <span className=\"text-red-600 text-sm dark:text-red-400\">\n            {error instanceof Error ? error.message : 'Unknown error'}\n          </span>\n        ),\n        duration: 3000,\n      })\n    }\n\n    setTestingProviderId(null)\n  }\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <LlmProvidersHeader\n        providers={providers}\n        defaultProviderId={defaultProviderId}\n        onDefaultProviderChange={setDefaultProvider}\n        onAddProvider={handleAddProvider}\n      />\n\n      <ProviderTemplatesSection onUseTemplate={handleUseTemplate} />\n\n      <ConfiguredProvidersList\n        providers={providers}\n        selectedProviderId={defaultProviderId}\n        testingProviderId={testingProviderId}\n        onSelectProvider={handleSelectProvider}\n        onTestProvider={handleTestProvider}\n        onEditProvider={handleEditProvider}\n        onDeleteProvider={handleDeleteProvider}\n      />\n\n      <NewProviderDialog\n        open={isNewDialogOpen}\n        onOpenChange={setIsNewDialogOpen}\n        initialValues={templateValues}\n        onSave={handleSaveProvider}\n      />\n\n      <NewProviderDialog\n        open={isEditDialogOpen}\n        onOpenChange={setIsEditDialogOpen}\n        initialValues={editingProvider ?? undefined}\n        onSave={handleSaveProvider}\n      />\n\n      <AlertDialog\n        open={!!providerToDelete}\n        onOpenChange={(open) => !open && setProviderToDelete(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Provider</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete \"{providerToDelete?.name}\"? This\n              action cannot be undone.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={confirmDeleteProvider}>\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport type { FC } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod/v3'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\n\nconst formSchema = z.object({\n  name: z.string().min(1, 'Server name is required'),\n  url: z.string().url('Please enter a valid URL'),\n  description: z.string().optional(),\n})\n\ntype FormValues = z.infer<typeof formSchema>\n\ninterface AddCustomMCPDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onAddServer: (config: {\n    name: string\n    url: string\n    description: string\n  }) => void\n}\n\nexport const AddCustomMCPDialog: FC<AddCustomMCPDialogProps> = ({\n  open,\n  onOpenChange,\n  onAddServer,\n}) => {\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: '',\n      url: '',\n      description: '',\n    },\n  })\n\n  const handleOpenChange = (isOpen: boolean) => {\n    if (!isOpen) {\n      form.reset()\n    }\n    onOpenChange(isOpen)\n  }\n\n  const onSubmit = (values: FormValues) => {\n    onAddServer({\n      name: values.name,\n      url: values.url,\n      description: values.description ?? '',\n    })\n    form.reset()\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={handleOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Add Custom MCP Server</DialogTitle>\n          <DialogDescription>\n            Configure your custom MCP server connection\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Server Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"My Custom MCP\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"url\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Server URL</FormLabel>\n                  <FormDescription>(only supports HTTP)</FormDescription>\n                  <FormControl>\n                    <Input\n                      type=\"url\"\n                      placeholder=\"http://mcp.example.com\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Description (Optional)</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"Describe what this server does...\"\n                      rows={3}\n                      className=\"resize-none\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => handleOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"bg-[var(--accent-orange)] text-white hover:bg-[var(--accent-orange-bright)]\"\n              >\n                Add Server\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { Plus, Server } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\n\ninterface AddManagedMCPDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  serversList?: { name: string; description: string }[]\n  onAddServer: (args: { name: string; description: string }) => void\n}\n\nexport const AddManagedMCPDialog: FC<AddManagedMCPDialogProps> = ({\n  open,\n  onOpenChange,\n  serversList,\n  onAddServer,\n}) => {\n  const handleAddServer = (args: { name: string; description: string }) => {\n    onAddServer(args)\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Enable built-in MCP Server</DialogTitle>\n          <DialogDescription>\n            Select a built-in MCP server to enable\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"styled-scrollbar max-h-[400px] w-full space-y-2 overflow-y-auto\">\n          {serversList?.map((args) => {\n            const { name: serverName, description } = args\n            return (\n              <Button\n                key={serverName}\n                variant=\"outline\"\n                onClick={() => handleAddServer(args)}\n                className=\"group h-auto w-full items-center gap-3 p-3 hover:border-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/5\"\n              >\n                <Server className=\"h-5 w-5 shrink-0 text-muted-foreground\" />\n                <div className=\"flex w-[calc(100%-64px)] flex-1 flex-col items-start gap-1\">\n                  <span className=\"font-medium\">{serverName}</span>\n                  {description && (\n                    <p className=\"line-clamp-1 w-full text-ellipsis text-left text-muted-foreground text-xs\">\n                      {description}\n                    </p>\n                  )}\n                </div>\n                <Plus className=\"h-4 w-4 shrink-0 text-muted-foreground\" />\n              </Button>\n            )\n          }) ?? null}\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { ChevronDown, Loader2, Plus, Server } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\n\ninterface AvailableManagedServersProps {\n  availableServers?: { name: string; description: string }[]\n  onAddServer: (args: { name: string; description: string }) => void\n  isLoading?: boolean\n}\n\nexport const AvailableManagedServers: FC<AvailableManagedServersProps> = ({\n  availableServers,\n  onAddServer,\n  isLoading,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <Collapsible open={isOpen} onOpenChange={setIsOpen}>\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <CollapsibleTrigger className=\"flex w-full cursor-pointer items-center justify-between hover:opacity-50\">\n          <div className=\"flex flex-col items-start\">\n            <h3 className=\"font-semibold text-lg\">Built-in Servers</h3>\n            <p className=\"text-muted-foreground text-sm\">\n              {isLoading\n                ? 'Loading...'\n                : `${availableServers?.length} servers available`}\n            </p>\n          </div>\n          <ChevronDown\n            className={`h-5 w-5 text-muted-foreground transition-transform duration-200 ${\n              isOpen ? 'rotate-180' : ''\n            }`}\n          />\n        </CollapsibleTrigger>\n\n        <CollapsibleContent className=\"pt-4\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n            </div>\n          ) : (\n            <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n              {availableServers?.map((args) => {\n                const { name: serverName, description } = args\n                return (\n                  <Button\n                    key={serverName}\n                    variant=\"outline\"\n                    onClick={() => onAddServer(args)}\n                    className=\"group h-auto flex-col items-start gap-2 p-4 hover:border-[var(--accent-orange)]\"\n                  >\n                    <div className=\"flex w-full items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Server className=\"h-5 w-5 text-muted-foreground transition-colors group-hover:text-[var(--accent-orange)]\" />\n                        <span className=\"font-medium\">{serverName}</span>\n                      </div>\n                      <Plus className=\"h-4 w-4 text-muted-foreground transition-colors group-hover:text-[var(--accent-orange)]\" />\n                    </div>\n                    {description && (\n                      <p className=\"line-clamp-1 max-w-48 text-ellipsis text-left text-muted-foreground text-xs\">\n                        {description}\n                      </p>\n                    )}\n                  </Button>\n                )\n              }) ?? null}\n            </div>\n          )}\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import React, { useState, useRef, useCallback } from 'react';\nimport useSWR, { useSWRConfig } from '../index/index.mjs';\nimport { IS_REACT_LEGACY, useIsomorphicLayoutEffect, withMiddleware, serialize, mergeObjects, getTimestamp, UNDEFINED } from '../_internal/index.mjs';\n\nconst startTransition = IS_REACT_LEGACY ? (cb)=>{\n    cb();\n} : React.startTransition;\n/**\n * An implementation of state with dependency-tracking.\n * @param initialState - The initial state object.\n */ const useStateWithDeps = (initialState)=>{\n    const [, rerender] = useState({});\n    const unmountedRef = useRef(false);\n    const stateRef = useRef(initialState);\n    // If a state property (data, error, or isValidating) is accessed by the render\n    // function, we mark the property as a dependency so if it is updated again\n    // in the future, we trigger a rerender.\n    // This is also known as dependency-tracking.\n    const stateDependenciesRef = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    /**\n   * Updates state and triggers re-render if necessary.\n   * @param payload To change stateRef, pass the values explicitly to setState:\n   * @example\n   * ```js\n   * setState({\n   *   isValidating: false\n   *   data: newData // set data to newData\n   *   error: undefined // set error to undefined\n   * })\n   *\n   * setState({\n   *   isValidating: false\n   *   data: undefined // set data to undefined\n   *   error: err // set error to err\n   * })\n   * ```\n   */ const setState = useCallback((payload)=>{\n        let shouldRerender = false;\n        const currentState = stateRef.current;\n        for(const key in payload){\n            if (Object.prototype.hasOwnProperty.call(payload, key)) {\n                const k = key;\n                // If the property has changed, update the state and mark rerender as\n                // needed.\n                if (currentState[k] !== payload[k]) {\n                    currentState[k] = payload[k];\n                    // If the property is accessed by the component, a rerender should be\n                    // triggered.\n                    if (stateDependenciesRef.current[k]) {\n                        shouldRerender = true;\n                    }\n                }\n            }\n        }\n        if (shouldRerender && !unmountedRef.current) {\n            rerender({});\n        }\n    }, []);\n    useIsomorphicLayoutEffect(()=>{\n        unmountedRef.current = false;\n        return ()=>{\n            unmountedRef.current = true;\n        };\n    });\n    return [\n        stateRef,\n        stateDependenciesRef.current,\n        setState\n    ];\n};\n\nconst mutation = ()=>(key, fetcher, config = {})=>{\n        const { mutate } = useSWRConfig();\n        const keyRef = useRef(key);\n        const fetcherRef = useRef(fetcher);\n        const configRef = useRef(config);\n        // Ditch all mutation results that happened earlier than this timestamp.\n        const ditchMutationsUntilRef = useRef(0);\n        const [stateRef, stateDependencies, setState] = useStateWithDeps({\n            data: UNDEFINED,\n            error: UNDEFINED,\n            isMutating: false\n        });\n        const currentState = stateRef.current;\n        const trigger = useCallback(async (arg, opts)=>{\n            const [serializedKey, resolvedKey] = serialize(keyRef.current);\n            if (!fetcherRef.current) {\n                throw new Error('Canâ€™t trigger the mutation: missing fetcher.');\n            }\n            if (!serializedKey) {\n                throw new Error('Canâ€™t trigger the mutation: missing key.');\n            }\n            // Disable cache population by default.\n            const options = mergeObjects(mergeObjects({\n                populateCache: false,\n                throwOnError: true\n            }, configRef.current), opts);\n            // Trigger a mutation, and also track the timestamp. Any mutation that happened\n            // earlier this timestamp should be ignored.\n            const mutationStartedAt = getTimestamp();\n            ditchMutationsUntilRef.current = mutationStartedAt;\n            setState({\n                isMutating: true\n            });\n            try {\n                const data = await mutate(serializedKey, fetcherRef.current(resolvedKey, {\n                    arg\n                }), // We must throw the error here so we can catch and update the states.\n                mergeObjects(options, {\n                    throwOnError: true\n                }));\n                // If it's reset after the mutation, we don't broadcast any state change.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            data,\n                            isMutating: false,\n                            error: undefined\n                        }));\n                    options.onSuccess == null ? void 0 : options.onSuccess.call(options, data, serializedKey, options);\n                }\n                return data;\n            } catch (error) {\n                // If it's reset after the mutation, we don't broadcast any state change\n                // or throw because it's discarded.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            error: error,\n                            isMutating: false\n                        }));\n                    options.onError == null ? void 0 : options.onError.call(options, error, serializedKey, options);\n                    if (options.throwOnError) {\n                        throw error;\n                    }\n                }\n            }\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        []);\n        const reset = useCallback(()=>{\n            ditchMutationsUntilRef.current = getTimestamp();\n            setState({\n                data: UNDEFINED,\n                error: UNDEFINED,\n                isMutating: false\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n        useIsomorphicLayoutEffect(()=>{\n            keyRef.current = key;\n            fetcherRef.current = fetcher;\n            configRef.current = config;\n        });\n        // We don't return `mutate` here as it can be pretty confusing (e.g. people\n        // calling `mutate` but they actually mean `trigger`).\n        // And also, `mutate` relies on the useSWR hook to exist too.\n        return {\n            trigger,\n            reset,\n            get data () {\n                stateDependencies.data = true;\n                return currentState.data;\n            },\n            get error () {\n                stateDependencies.error = true;\n                return currentState.error;\n            },\n            get isMutating () {\n                stateDependencies.isMutating = true;\n                return currentState.isMutating;\n            }\n        };\n    };\n/**\n * A hook to define and manually trigger remote mutations like POST, PUT, DELETE and PATCH use cases.\n *\n * @link https://swr.vercel.app/docs/mutation\n * @example\n * ```jsx\n * import useSWRMutation from 'swr/mutation'\n *\n * const {\n *   data,\n *   error,\n *   trigger,\n *   reset,\n *   isMutating\n * } = useSWRMutation(key, fetcher, options?)\n * ```\n */ const useSWRMutation = withMiddleware(useSWR, mutation);\n\nexport { useSWRMutation as default };\n","import useSWRMutation from 'swr/mutation'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface AddServerResponse {\n  success: boolean\n  serverName: string\n  strataId: string\n  addedServers: string[]\n  oauthUrl?: string\n}\n\ninterface AddServerError {\n  error: string\n}\n\nconst addManagedServer = async (\n  url: string,\n  { arg }: { arg: { serverName: string } },\n): Promise<AddServerResponse> => {\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ serverName: arg.serverName }),\n  })\n\n  if (!response.ok) {\n    const errorData = (await response.json()) as AddServerError\n    throw new Error(errorData.error || 'Failed to add server')\n  }\n\n  return response.json() as Promise<AddServerResponse>\n}\n\nexport const useAddManagedServer = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWRMutation(\n    agentServerUrl ? `${agentServerUrl}/klavis/servers/add` : null,\n    addManagedServer,\n  )\n}\n","import useSWR from 'swr'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface McpServerResponse {\n  servers: {\n    name: string\n    description: string\n  }[]\n  count: number\n}\n\nconst getAllManagedServers = async ([hostUrl]: [hostUrl: string]) => {\n  const response = await fetch(`${hostUrl}/klavis/servers`)\n  const servers = (await response.json()) as McpServerResponse\n  return servers\n}\n\nexport const useGetMCPServersList = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWR(\n    agentServerUrl ? [agentServerUrl, 'klavis/servers'] : null,\n    getAllManagedServers,\n    {\n      keepPreviousData: true,\n    },\n  )\n}\n","import useSWR from 'swr'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface UserMCPIntegrationsList {\n  integrations: {\n    name: string\n    is_authenticated: boolean\n  }[]\n  count: number\n}\n\nconst getUserMCPIntegrations = async ([hostUrl]: [hostUrl: string]) => {\n  const response = await fetch(`${hostUrl}/klavis/user-integrations`)\n  const data = (await response.json()) as UserMCPIntegrationsList\n  return data\n}\n\nexport const useGetUserMCPIntegrations = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWR(\n    agentServerUrl ? [agentServerUrl, 'klavis/user-integrations'] : null,\n    getUserMCPIntegrations,\n    {\n      keepPreviousData: true,\n      revalidateOnFocus: true,\n    },\n  )\n}\n","import useSWRMutation from 'swr/mutation'\nimport { useAgentServerUrl } from '@/lib/browseros/useBrowserOSProviders'\n\ninterface RemoveServerResponse {\n  success: boolean\n  serverName: string\n}\n\ninterface RemoveServerError {\n  error: string\n}\n\nconst removeManagedServer = async (\n  url: string,\n  { arg }: { arg: { serverName: string } },\n): Promise<RemoveServerResponse> => {\n  const response = await fetch(url, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ serverName: arg.serverName }),\n  })\n\n  if (!response.ok) {\n    const errorData = (await response.json()) as RemoveServerError\n    throw new Error(errorData.error || 'Failed to remove server')\n  }\n\n  return response.json() as Promise<RemoveServerResponse>\n}\n\nexport const useRemoveManagedServer = () => {\n  const { baseUrl: agentServerUrl } = useAgentServerUrl()\n\n  return useSWRMutation(\n    agentServerUrl ? `${agentServerUrl}/klavis/servers/remove` : null,\n    removeManagedServer,\n  )\n}\n","import { Check, Loader2, Plus, Server, Trash2 } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { toast } from 'sonner'\nimport { Button } from '@/components/ui/button'\nimport {\n  CUSTOM_MCP_ADDED_EVENT,\n  MANAGED_MCP_ADDED_EVENT,\n} from '@/lib/constants/analyticsEvents'\nimport { useMcpServers } from '@/lib/mcp/mcpServerStorage'\nimport { track } from '@/lib/metrics/track'\nimport { sentry } from '@/lib/sentry/sentry'\nimport { AddCustomMCPDialog } from './AddCustomMCPDialog'\nimport { AddManagedMCPDialog } from './AddManagedMCPDialog'\nimport { AvailableManagedServers } from './AvailableManagedServers'\nimport { useAddManagedServer } from './useAddManagedServer'\nimport { useGetMCPServersList } from './useGetMCPServersList'\nimport { useGetUserMCPIntegrations } from './useGetUserMCPIntegrations'\nimport { useRemoveManagedServer } from './useRemoveManagedServer'\n\nconst failedToAddMcp = (serverName: string, e: unknown) => {\n  toast.error(`Failed to add MCP Server: ${serverName}`)\n  sentry.captureException(e)\n}\n\nconst failedToRemoveMcp = (serverName: string, e: unknown) => {\n  toast.error(`Failed to remove MCP Server: ${serverName}`)\n  sentry.captureException(e)\n}\n\n/**\n * @public\n */\nexport const ConnectMCP: FC = () => {\n  const { servers: createdServers, addServer, removeServer } = useMcpServers()\n  const [addingManagedMcp, setAddingManagedMcp] = useState(false)\n  const [addingCustomMcp, setAddingCustomMcp] = useState(false)\n  const [deletingServerId, setDeletingServerId] = useState<string | null>(null)\n\n  const { trigger: addManagedServerMutation } = useAddManagedServer()\n  const { trigger: removeManagedServerMutation } = useRemoveManagedServer()\n\n  const { data: serversList } = useGetMCPServersList()\n\n  const { data: userMCPIntegrations, isLoading: isUserMCPIntegrationsLoading } =\n    useGetUserMCPIntegrations()\n\n  const openAuthUrlForMCP = async (mcpName: string) => {\n    try {\n      const response = await addManagedServerMutation({\n        serverName: mcpName,\n      })\n      const authUrl = response.oauthUrl\n      if (!authUrl) {\n        failedToAddMcp(mcpName, 'No auth URL returned')\n        return\n      }\n\n      window.open(authUrl, '_blank')?.focus()\n    } catch (e) {\n      failedToAddMcp(mcpName, e)\n    }\n  }\n\n  const addManagedServer = async ({\n    name,\n    description,\n  }: {\n    name: string\n    description: string\n  }) => {\n    try {\n      const response = await addManagedServerMutation({\n        serverName: name,\n      })\n      const authUrl = response.oauthUrl\n      if (!authUrl) {\n        failedToAddMcp(name, 'No auth URL returned')\n        return\n      }\n\n      window.open(authUrl, '_blank')?.focus()\n\n      addServer({\n        id: Date.now().toString(),\n        displayName: `${name} MCP`,\n        type: 'managed',\n        managedServerName: name,\n        managedServerDescription: description,\n      })\n      track(MANAGED_MCP_ADDED_EVENT, { server_name: name })\n    } catch (e) {\n      failedToAddMcp(name, e)\n    }\n  }\n\n  const deleteManagedServer = async ({\n    id,\n    name,\n  }: {\n    id: string\n    name: string\n  }) => {\n    setDeletingServerId(id)\n    try {\n      const response = await removeManagedServerMutation({\n        serverName: name,\n      })\n      if (response.success) {\n        removeServer(id)\n      } else {\n        failedToRemoveMcp(name, 'Success not returned from server')\n      }\n    } catch (e) {\n      failedToRemoveMcp(name, e)\n    } finally {\n      setDeletingServerId(null)\n    }\n  }\n\n  const addCustomServer = (config: {\n    name: string\n    url: string\n    description: string\n  }) => {\n    addServer({\n      id: Date.now().toString(),\n      displayName: config.name,\n      type: 'custom',\n      config: {\n        url: config.url,\n        description: config.description,\n      },\n    })\n    track(CUSTOM_MCP_ADDED_EVENT)\n  }\n\n  const availableServers = serversList?.servers.filter((eachServer) => {\n    const serverName = eachServer.name\n    if (\n      createdServers.find((server) => server.managedServerName === serverName)\n    ) {\n      return false\n    }\n    return true\n  })\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      {/* Header */}\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n            <Server className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n          </div>\n          <div className=\"flex-1\">\n            <h2 className=\"mb-1 font-semibold text-xl\">MCP Servers</h2>\n            <p className=\"mb-6 text-muted-foreground text-sm\">\n              Connect BrowserOS assistant to MCP servers to send email, schedule\n              calendar events, write docs, and more\n            </p>\n\n            <div className=\"flex flex-wrap gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setAddingManagedMcp(true)}\n                className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>Enable built-in MCP</span>\n              </Button>\n\n              <Button\n                variant=\"outline\"\n                onClick={() => setAddingCustomMcp(true)}\n              >\n                <Plus className=\"h-4 w-4\" />\n                <span>Add Custom MCP</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Created Servers */}\n      {createdServers.length > 0 && (\n        <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n          <h3 className=\"mb-4 font-semibold text-lg\">Your MCP Servers</h3>\n          <div className=\"space-y-3\">\n            {createdServers.map((server) => (\n              <div\n                key={server.id}\n                className=\"flex items-center gap-4 rounded-lg border border-border bg-background p-4 transition-all hover:border-[var(--accent-orange)]/50 hover:shadow-sm\"\n              >\n                <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-[var(--accent-orange)]/10\">\n                  <Server className=\"h-5 w-5 text-[var(--accent-orange)]\" />\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"mb-1 flex items-center gap-2\">\n                    <span className=\"font-semibold\">{server.displayName}</span>\n                    <span\n                      className={`rounded px-2 py-0.5 font-medium text-xs ${\n                        server.type === 'managed'\n                          ? 'bg-[var(--accent-orange)]/10 text-[var(--accent-orange)]'\n                          : 'bg-muted text-muted-foreground'\n                      }`}\n                    >\n                      {server.type === 'managed' ? 'Built-in' : 'Custom'}\n                    </span>\n                  </div>\n                  <p className=\"text-muted-foreground text-sm\">\n                    {server.managedServerDescription ||\n                      server.config?.description ||\n                      server.config?.url}\n                  </p>\n                </div>\n                {server.type === 'managed' &&\n                  (isUserMCPIntegrationsLoading ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n                  ) : userMCPIntegrations?.integrations?.find(\n                      (i) => i.name === server.managedServerName,\n                    )?.is_authenticated ? (\n                    <span className=\"flex items-center gap-1 rounded-full bg-green-500/10 px-2 py-1 font-medium text-green-600 text-xs\">\n                      <Check className=\"h-3 w-3\" />\n                      Authenticated\n                    </span>\n                  ) : (\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        server.managedServerName &&\n                        openAuthUrlForMCP(server.managedServerName)\n                      }\n                    >\n                      Authenticate\n                    </Button>\n                  ))}\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  disabled={deletingServerId === server.id}\n                  onClick={() => {\n                    if (server.type === 'managed' && server.managedServerName) {\n                      deleteManagedServer({\n                        id: server.id,\n                        name: server.managedServerName,\n                      })\n                    } else {\n                      removeServer(server.id)\n                    }\n                  }}\n                  className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive\"\n                  title=\"Remove server\"\n                >\n                  {deletingServerId === server.id ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  ) : (\n                    <Trash2 className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <AvailableManagedServers\n        availableServers={availableServers}\n        onAddServer={addManagedServer}\n        isLoading={false}\n      />\n\n      <AddManagedMCPDialog\n        open={addingManagedMcp}\n        onOpenChange={setAddingManagedMcp}\n        serversList={availableServers}\n        onAddServer={addManagedServer}\n      />\n\n      <AddCustomMCPDialog\n        open={addingCustomMcp}\n        onOpenChange={setAddingCustomMcp}\n        onAddServer={addCustomServer}\n      />\n    </div>\n  )\n}\n","import { Palette } from 'lucide-react'\nimport type { FC } from 'react'\n\nexport const CustomizationHeader: FC = () => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <Palette className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"mb-1 font-semibold text-xl\">Customization</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Personalize your toolbar and browser interface\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","\"use client\";\n\n// src/switch.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar SWITCH_NAME = \"Switch\";\nvar [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\nvar [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);\nvar Switch = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME\n    });\n    return /* @__PURE__ */ jsxs(SwitchProvider, { scope: __scopeSwitch, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"switch\",\n          \"aria-checked\": checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...switchProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        SwitchBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nSwitch.displayName = SWITCH_NAME;\nvar THUMB_NAME = \"SwitchThumb\";\nvar SwitchThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...thumbProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSwitchThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"SwitchBubbleInput\";\nvar SwitchBubbleInput = React.forwardRef(\n  ({\n    __scopeSwitch,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Switch;\nvar Thumb = SwitchThumb;\nexport {\n  Root,\n  Switch,\n  SwitchThumb,\n  Thumb,\n  createSwitchScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as SwitchPrimitive from '@radix-ui/react-switch'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\n/** @public */\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-xs outline-none transition-colors focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          'pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0',\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","import { type FC, useEffect, useState } from 'react'\nimport { toast } from 'sonner'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\n\nexport const ToolbarSettingsCard: FC = () => {\n  const [showLlmChat, setShowLlmChat] = useState(true)\n  const [showLlmHub, setShowLlmHub] = useState(true)\n  const [showToolbarLabels, setShowToolbarLabels] = useState(true)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const loadPrefs = async () => {\n      try {\n        const adapter = getBrowserOSAdapter()\n        const [chatPref, hubPref, labelsPref] = await Promise.all([\n          adapter.getPref(BROWSEROS_PREFS.SHOW_LLM_CHAT),\n          adapter.getPref(BROWSEROS_PREFS.SHOW_LLM_HUB),\n          adapter.getPref(BROWSEROS_PREFS.SHOW_TOOLBAR_LABELS),\n        ])\n        setShowLlmChat(chatPref?.value !== false)\n        setShowLlmHub(hubPref?.value !== false)\n        setShowToolbarLabels(labelsPref?.value !== false)\n      } catch {\n        // API not available - use defaults\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadPrefs()\n  }, [])\n\n  const handleToggle = async (\n    prefKey: string,\n    value: boolean,\n    setter: (v: boolean) => void,\n  ) => {\n    try {\n      const adapter = getBrowserOSAdapter()\n      await adapter.setPref(prefKey, value)\n      setter(value)\n    } catch {\n      toast.error('Failed to update setting')\n    }\n  }\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <h3 className=\"mb-4 font-semibold text-lg\">Toolbar Settings</h3>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-0.5\">\n            <Label htmlFor=\"show-llm-chat\" className=\"font-medium text-sm\">\n              Show Chat Button\n            </Label>\n            <p className=\"text-muted-foreground text-xs\">\n              Display the Chat button in the browser toolbar\n            </p>\n          </div>\n          <Switch\n            id=\"show-llm-chat\"\n            checked={showLlmChat}\n            onCheckedChange={(checked) =>\n              handleToggle(\n                BROWSEROS_PREFS.SHOW_LLM_CHAT,\n                checked,\n                setShowLlmChat,\n              )\n            }\n            disabled={isLoading}\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-0.5\">\n            <Label htmlFor=\"show-llm-hub\" className=\"font-medium text-sm\">\n              Show Hub Button\n            </Label>\n            <p className=\"text-muted-foreground text-xs\">\n              Display the Hub button in the browser toolbar\n            </p>\n          </div>\n          <Switch\n            id=\"show-llm-hub\"\n            checked={showLlmHub}\n            onCheckedChange={(checked) =>\n              handleToggle(BROWSEROS_PREFS.SHOW_LLM_HUB, checked, setShowLlmHub)\n            }\n            disabled={isLoading}\n          />\n        </div>\n\n        <div className=\"flex items-center justify-between border-border border-t pt-4\">\n          <div className=\"space-y-0.5\">\n            <Label\n              htmlFor=\"show-toolbar-labels\"\n              className=\"font-medium text-sm\"\n            >\n              Show Button Labels\n            </Label>\n            <p className=\"text-muted-foreground text-xs\">\n              Display text labels next to toolbar button icons\n            </p>\n          </div>\n          <Switch\n            id=\"show-toolbar-labels\"\n            checked={showToolbarLabels}\n            onCheckedChange={(checked) =>\n              handleToggle(\n                BROWSEROS_PREFS.SHOW_TOOLBAR_LABELS,\n                checked,\n                setShowToolbarLabels,\n              )\n            }\n            disabled={isLoading}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import type { FC } from 'react'\nimport { CustomizationHeader } from './CustomizationHeader'\nimport { ToolbarSettingsCard } from './ToolbarSettingsCard'\n\nexport const CustomizationPage: FC = () => {\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <CustomizationHeader />\n      <ToolbarSettingsCard />\n    </div>\n  )\n}\n","import { Loader2, Send, Square } from 'lucide-react'\nimport { type FC, type FormEvent, useEffect, useRef, useState } from 'react'\nimport { MessageResponse } from '@/components/ai-elements/message'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport { cn } from '@/lib/utils'\nimport type { Message } from './use-jtbd-agent-chat'\n\ninterface Props {\n  messages: Message[]\n  isStreaming: boolean\n  onSendMessage: (text: string) => void\n  onStop: () => void\n}\n\nconst MessageBubble: FC<{ message: Message }> = ({ message }) => {\n  const isUser = message.role === 'user'\n\n  return (\n    <div className={cn('flex', isUser ? 'justify-end' : 'justify-start')}>\n      <div\n        className={cn(\n          'max-w-[80%] rounded-2xl px-4 py-3 text-sm',\n          isUser\n            ? 'bg-primary text-primary-foreground'\n            : 'bg-muted/50 text-foreground',\n        )}\n      >\n        {message.content ? (\n          <MessageResponse>{message.content}</MessageResponse>\n        ) : (\n          <span className=\"flex items-center gap-2 text-muted-foreground\">\n            <Loader2 className=\"h-4 w-4 animate-spin\" />\n            Thinking...\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport const JTBDAgentChat: FC<Props> = ({\n  messages,\n  isStreaming,\n  onSendMessage,\n  onStop,\n}) => {\n  const [input, setInput] = useState('')\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  const messagesLength = messages.length\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally scroll on message count change\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messagesLength])\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault()\n    if (!input.trim() || isStreaming) return\n    onSendMessage(input.trim())\n    setInput('')\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSubmit(e)\n    }\n  }\n\n  return (\n    <div className=\"flex h-[calc(100vh-250px)] flex-col rounded-xl border border-border bg-card shadow-sm\">\n      <div className=\"flex-1 space-y-4 overflow-y-auto p-4\">\n        {messages.map((msg) => (\n          <MessageBubble key={msg.id} message={msg} />\n        ))}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"border-border border-t p-4\">\n        <div className=\"flex gap-2\">\n          <Textarea\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Type your response...\"\n            disabled={isStreaming}\n            className=\"max-h-40 min-h-[44px] resize-none\"\n            rows={1}\n          />\n          {isStreaming ? (\n            <Button\n              type=\"button\"\n              onClick={onStop}\n              variant=\"destructive\"\n              size=\"icon\"\n            >\n              <Square className=\"h-4 w-4\" />\n            </Button>\n          ) : (\n            <Button type=\"submit\" disabled={!input.trim()} size=\"icon\">\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n  )\n}\n","import { MessageSquareHeart } from 'lucide-react'\nimport type { FC } from 'react'\n\nexport const JTBDAgentHeader: FC = () => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <MessageSquareHeart className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"mb-1 font-semibold text-xl\">Product Survey</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Share your experience with BrowserOS to help us improve\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { Sparkles } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\n\ninterface Props {\n  onStart: () => void\n  isLoading?: boolean\n}\n\nexport const JTBDAgentWelcome: FC<Props> = ({ onStart, isLoading }) => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-8 text-center shadow-sm\">\n      <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-[var(--accent-orange)]/10\">\n        <Sparkles className=\"h-8 w-8 text-[var(--accent-orange)]\" />\n      </div>\n      <h3 className=\"mb-2 font-semibold text-lg\">Share Your Experience</h3>\n      <p className=\"mx-auto mb-6 max-w-md text-muted-foreground text-sm\">\n        We'd love to learn about how you use browser automation. This quick\n        conversation helps us build features that matter to you.\n      </p>\n      <Button onClick={onStart} disabled={isLoading} size=\"lg\">\n        {isLoading ? 'Starting...' : 'Start Survey'}\n      </Button>\n    </div>\n  )\n}\n","import { useRef, useState } from 'react'\nimport { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\n\nconst JTBD_API_URL = 'https://jtbd-agent.fly.dev'\n// const LOCAL_JTBD_API_URL = 'http://localhost:3001'\nconst EXPERIMENT_ID = 'jtbd_jan26'\n\nasync function getInstallId(): Promise<string> {\n  try {\n    const adapter = getBrowserOSAdapter()\n    const pref = await adapter.getPref(BROWSEROS_PREFS.INSTALL_ID)\n    if (pref?.value) {\n      return String(pref.value)\n    }\n  } catch {\n    // BrowserOS API not available\n  }\n  return ''\n}\n\nexport type Message = {\n  id: string\n  role: 'user' | 'assistant'\n  content: string\n}\n\nexport type Phase = 'idle' | 'active' | 'completed' | 'error'\n\nconst INTERVIEW_COMPLETE_MARKER = '__INTERVIEW_COMPLETE__'\n\nasync function* streamSSE(\n  response: Response,\n): AsyncGenerator<string, void, unknown> {\n  const reader = response.body?.getReader()\n  if (!reader) throw new Error('Response body is not readable')\n\n  const decoder = new TextDecoder()\n  let buffer = ''\n\n  try {\n    while (true) {\n      const { done, value } = await reader.read()\n      if (done) break\n\n      buffer += decoder.decode(value, { stream: true })\n      const lines = buffer.split('\\n')\n      buffer = lines.pop() ?? ''\n\n      for (const line of lines) {\n        if (!line.startsWith('data: ')) continue\n        const data = line.slice(6)\n        if (data === '[DONE]') return\n\n        try {\n          const event = JSON.parse(data)\n          if (event.type === 'text-delta' && event.delta) {\n            yield event.delta\n          } else if (event.type === 'interview_complete') {\n            yield INTERVIEW_COMPLETE_MARKER\n          } else if (event.type === 'error' && event.errorText) {\n            throw new Error(event.errorText)\n          }\n        } catch (e) {\n          if (\n            e instanceof Error &&\n            e.message !== 'Unexpected end of JSON input'\n          ) {\n            throw e\n          }\n        }\n      }\n    }\n  } finally {\n    reader.releaseLock()\n  }\n}\n\nexport function useJTBDAgentChat() {\n  const [phase, setPhase] = useState<Phase>('idle')\n  const [messages, setMessages] = useState<Message[]>([])\n  const [isStreaming, setIsStreaming] = useState(false)\n  const [error, setError] = useState<Error | null>(null)\n  const sessionIdRef = useRef<string | null>(null)\n  const abortControllerRef = useRef<AbortController | null>(null)\n\n  const appendMessage = (msg: Message) => {\n    setMessages((prev) => [...prev, msg])\n  }\n\n  const updateLastMessage = (content: string) => {\n    setMessages((prev) => {\n      if (prev.length === 0) return prev\n      const updated = [...prev]\n      updated[updated.length - 1] = {\n        ...updated[updated.length - 1],\n        content,\n      }\n      return updated\n    })\n  }\n\n  const start = async () => {\n    setPhase('active')\n    setError(null)\n    setIsStreaming(true)\n\n    const assistantMsgId = crypto.randomUUID()\n    appendMessage({ id: assistantMsgId, role: 'assistant', content: '' })\n\n    abortControllerRef.current = new AbortController()\n\n    try {\n      const installId = await getInstallId()\n      const response = await fetch(`${JTBD_API_URL}/api/interview/start`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ installId, experimentId: EXPERIMENT_ID }),\n        signal: abortControllerRef.current.signal,\n      })\n\n      if (!response.ok) {\n        throw new Error(`Failed to start interview: ${response.status}`)\n      }\n\n      const newSessionId = response.headers.get('x-interview-session-id')\n      if (newSessionId) {\n        sessionIdRef.current = newSessionId\n      } else {\n        const err = new Error('No session ID returned from server')\n        setError(err)\n        setPhase('error')\n        return\n      }\n\n      let accumulated = ''\n      for await (const chunk of streamSSE(response)) {\n        accumulated += chunk\n        updateLastMessage(accumulated)\n      }\n    } catch (e) {\n      if (e instanceof Error && e.name === 'AbortError') return\n      const err = e instanceof Error ? e : new Error('Unknown error')\n      setError(err)\n      setPhase('error')\n    } finally {\n      setIsStreaming(false)\n      abortControllerRef.current = null\n    }\n  }\n\n  const respond = async (text: string) => {\n    if (!sessionIdRef.current) return\n\n    const userMsgId = crypto.randomUUID()\n    appendMessage({ id: userMsgId, role: 'user', content: text })\n\n    const assistantMsgId = crypto.randomUUID()\n    appendMessage({ id: assistantMsgId, role: 'assistant', content: '' })\n\n    setIsStreaming(true)\n    setError(null)\n\n    abortControllerRef.current = new AbortController()\n\n    try {\n      const response = await fetch(\n        `${JTBD_API_URL}/api/interview/${sessionIdRef.current}/respond`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ response: text }),\n          signal: abortControllerRef.current.signal,\n        },\n      )\n\n      if (!response.ok) {\n        throw new Error(`Failed to respond: ${response.status}`)\n      }\n\n      let accumulated = ''\n      let isComplete = false\n\n      for await (const chunk of streamSSE(response)) {\n        if (chunk === INTERVIEW_COMPLETE_MARKER) {\n          isComplete = true\n          continue\n        }\n        accumulated += chunk\n        updateLastMessage(accumulated)\n      }\n\n      if (isComplete) {\n        setPhase('completed')\n      }\n    } catch (e) {\n      if (e instanceof Error && e.name === 'AbortError') return\n      const err = e instanceof Error ? e : new Error('Unknown error')\n      setError(err)\n      setPhase('error')\n    } finally {\n      setIsStreaming(false)\n      abortControllerRef.current = null\n    }\n  }\n\n  const stop = () => {\n    abortControllerRef.current?.abort()\n    setIsStreaming(false)\n  }\n\n  const reset = () => {\n    stop()\n    setMessages([])\n    setError(null)\n    sessionIdRef.current = null\n    setPhase('idle')\n  }\n\n  return {\n    phase,\n    messages,\n    isStreaming,\n    error,\n    start,\n    respond,\n    stop,\n    reset,\n  }\n}\n","import { AlertCircle, CheckCircle2, RotateCcw } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { JTBDAgentChat } from './jtbd-agent-chat'\nimport { JTBDAgentHeader } from './jtbd-agent-header'\nimport { JTBDAgentWelcome } from './jtbd-agent-welcome'\nimport { useJTBDAgentChat } from './use-jtbd-agent-chat'\n\nconst ThankYouCard: FC<{ onReset: () => void }> = ({ onReset }) => (\n  <div className=\"rounded-xl border border-border bg-card p-8 text-center shadow-sm\">\n    <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10\">\n      <CheckCircle2 className=\"h-8 w-8 text-green-500\" />\n    </div>\n    <h3 className=\"mb-2 font-semibold text-lg\">Thank You!</h3>\n    <p className=\"mx-auto mb-6 max-w-md text-muted-foreground text-sm\">\n      Your feedback helps us build better products. We appreciate you taking the\n      time to share your experience.\n    </p>\n    <Button onClick={onReset} variant=\"outline\">\n      <RotateCcw className=\"mr-2 h-4 w-4\" />\n      Start Another Survey\n    </Button>\n  </div>\n)\n\nconst ErrorCard: FC<{ error: Error; onRetry: () => void }> = ({\n  error,\n  onRetry,\n}) => (\n  <div className=\"rounded-xl border border-destructive/50 bg-destructive/10 p-6 text-center\">\n    <div className=\"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-destructive/20\">\n      <AlertCircle className=\"h-6 w-6 text-destructive\" />\n    </div>\n    <h3 className=\"mb-2 font-semibold text-destructive\">\n      Something went wrong\n    </h3>\n    <p className=\"mb-4 text-muted-foreground text-sm\">{error.message}</p>\n    <Button onClick={onRetry} variant=\"outline\">\n      <RotateCcw className=\"mr-2 h-4 w-4\" />\n      Try Again\n    </Button>\n  </div>\n)\n\nexport const JTBDAgentPage: FC = () => {\n  const chat = useJTBDAgentChat()\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <JTBDAgentHeader />\n\n      {chat.phase === 'idle' && (\n        <JTBDAgentWelcome onStart={chat.start} isLoading={chat.isStreaming} />\n      )}\n\n      {chat.phase === 'active' && (\n        <JTBDAgentChat\n          messages={chat.messages}\n          isStreaming={chat.isStreaming}\n          onSendMessage={chat.respond}\n          onStop={chat.stop}\n        />\n      )}\n\n      {chat.phase === 'completed' && <ThankYouCard onReset={chat.reset} />}\n\n      {chat.phase === 'error' && chat.error && (\n        <ErrorCard error={chat.error} onRetry={chat.reset} />\n      )}\n    </div>\n  )\n}\n","import {\n  Bot,\n  CalendarClock,\n  Info,\n  type LucideIcon,\n  Menu,\n  MessageSquare,\n  MessageSquareHeart,\n  Palette,\n  PlugZap,\n  RotateCcw,\n  Search,\n  Server,\n  X,\n} from 'lucide-react'\nimport type { FC, HTMLAttributeAnchorTarget } from 'react'\nimport { useEffect, useState } from 'react'\nimport { NavLink, Outlet, useLocation } from 'react-router'\nimport { ThemeToggle } from '@/components/elements/theme-toggle'\nimport { Feature } from '@/lib/browseros/capabilities'\nimport { useCapabilities } from '@/lib/browseros/useCapabilities'\nimport { SETTINGS_PAGE_VIEWED_EVENT } from '@/lib/constants/analyticsEvents'\nimport { track } from '@/lib/metrics/track'\n\ntype NavItem = {\n  name: string\n  to: string\n  icon: LucideIcon\n  enabled: boolean\n  target?: HTMLAttributeAnchorTarget\n  feature?: Feature\n}\n\nconst navigationItems: NavItem[] = [\n  {\n    name: 'BrowserOS AI',\n    to: '/ai',\n    icon: Bot,\n    enabled: true,\n  },\n  {\n    name: 'LLM Chat & Hub',\n    to: '/chat',\n    icon: MessageSquare,\n    enabled: true,\n  },\n  {\n    name: 'Connect to MCPs',\n    to: '/connect-mcp',\n    icon: PlugZap,\n    enabled: true,\n    feature: Feature.MANAGED_MCP_SUPPORT,\n  },\n  {\n    name: 'BrowserOS as MCP',\n    to: '/mcp',\n    icon: Server,\n    enabled: true,\n  },\n  {\n    name: 'Scheduled Tasks',\n    to: '/scheduled',\n    icon: CalendarClock,\n    enabled: true,\n  },\n  {\n    name: 'Customization',\n    to: '/customization',\n    icon: Palette,\n    enabled: true,\n    feature: Feature.CUSTOMIZATION_SUPPORT,\n  },\n  {\n    name: 'Product Survey',\n    to: '/jtbd-agent',\n    icon: MessageSquareHeart,\n    enabled: false,\n  },\n\n  {\n    name: 'Revisit Onboarding',\n    to: chrome.runtime.getURL('onboarding.html'),\n    icon: RotateCcw,\n    target: '_blank',\n    enabled: true,\n  },\n  {\n    name: 'Search Engines',\n    to: '/search',\n    icon: Search,\n    enabled: false,\n  },\n]\n\n/**\n * @public\n */\nexport const DashboardLayout: FC = () => {\n  const location = useLocation()\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const { supports } = useCapabilities()\n\n  useEffect(() => {\n    track(SETTINGS_PAGE_VIEWED_EVENT, { page: location.pathname })\n  }, [location.pathname])\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Mobile Header */}\n      <div className=\"sticky top-0 z-40 flex items-center justify-between border-border border-b bg-background px-4 py-3 lg:hidden\">\n        <h1 className=\"font-semibold text-lg\">Settings</h1>\n        <div className=\"flex items-center gap-1\">\n          <button\n            type=\"button\"\n            onClick={() => setSidebarOpen(!sidebarOpen)}\n            className=\"rounded-lg p-2 transition-colors hover:bg-accent\"\n            aria-label=\"Toggle menu\"\n          >\n            {sidebarOpen ? (\n              <X className=\"h-5 w-5\" />\n            ) : (\n              <Menu className=\"h-5 w-5\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Mobile Sidebar Overlay */}\n      {sidebarOpen && (\n        // biome-ignore lint/a11y/useSemanticElements: overlay cannot be a button element\n        <div\n          className=\"fixed inset-0 z-40 bg-black/50 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n          aria-label=\"Close sidebar\"\n          role=\"button\"\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              e.preventDefault()\n              setSidebarOpen(false)\n            }\n          }}\n        />\n      )}\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        <aside\n          className={`fixed inset-y-0 left-0 z-50 w-64 transform border-border border-r bg-background transition-transform duration-300 lg:sticky lg:top-0 lg:h-screen lg:translate-x-0 ${\n            sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n          }`}\n        >\n          <div className=\"flex h-full flex-col\">\n            {/* Sidebar Header */}\n            <div className=\"flex items-center justify-between border-border border-b px-6 py-4\">\n              <h1 className=\"font-semibold text-xl\">Settings</h1>\n              <ThemeToggle />\n            </div>\n\n            {/* Navigation */}\n            <nav className=\"flex-1 space-y-1 overflow-y-auto px-3 py-4\">\n              {navigationItems\n                .filter(\n                  (item) =>\n                    item.enabled && (!item.feature || supports(item.feature)),\n                )\n                .map((item) => {\n                  const isActive = location.pathname === item.to\n                  const Icon = item.icon\n                  return (\n                    <NavLink\n                      key={item.to}\n                      to={item.to}\n                      onClick={() => setSidebarOpen(false)}\n                      target={item.target}\n                      rel={item.target ? 'noopener noreferrer' : undefined}\n                      className={`flex items-center gap-3 rounded-lg px-3 py-2.5 font-medium text-sm transition-all ${\n                        isActive\n                          ? 'bg-accent text-accent-foreground shadow-sm'\n                          : 'text-muted-foreground hover:bg-accent/50 hover:text-accent-foreground'\n                      }`}\n                    >\n                      <Icon className=\"h-4 w-4 shrink-0\" />\n                      <span>{item.name}</span>\n                    </NavLink>\n                  )\n                })}\n            </nav>\n\n            {/* Footer - TODO: Add link back when About page is ready */}\n            <div className=\"border-border border-t px-3 py-4\">\n              <a\n                href=\"https://docs.browseros.com/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"flex items-center gap-3 rounded-lg px-3 py-2.5 font-medium text-muted-foreground text-sm transition-colors hover:bg-accent/50 hover:text-accent-foreground\"\n              >\n                <Info className=\"h-4 w-4 shrink-0\" />\n                <span>About BrowserOS</span>\n              </a>\n            </div>\n          </div>\n        </aside>\n\n        {/* Main Content */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"mx-auto max-w-5xl overflow-hidden px-4 py-8 sm:px-6 lg:px-8\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n}\n","import { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\n\n/** @public */\nexport interface LlmHubProvider {\n  name: string\n  url: string\n}\n\nexport const DEFAULT_PROVIDERS: LlmHubProvider[] = [\n  { name: 'ChatGPT', url: 'https://chatgpt.com' },\n  { name: 'Claude', url: 'https://claude.ai' },\n  { name: 'Grok', url: 'https://grok.com' },\n  { name: 'Gemini', url: 'https://gemini.google.com' },\n  { name: 'Perplexity', url: 'https://www.perplexity.ai' },\n]\n\nexport async function loadProviders(): Promise<LlmHubProvider[]> {\n  try {\n    const adapter = getBrowserOSAdapter()\n    const providersPref = await adapter.getPref(\n      BROWSEROS_PREFS.THIRD_PARTY_LLM_PROVIDERS,\n    )\n    const providers = (providersPref?.value as LlmHubProvider[]) || []\n\n    if (providers.length === 0) {\n      return DEFAULT_PROVIDERS\n    }\n\n    return providers\n  } catch {\n    return DEFAULT_PROVIDERS\n  }\n}\n\nexport async function saveProviders(\n  providers: LlmHubProvider[],\n): Promise<boolean> {\n  try {\n    const adapter = getBrowserOSAdapter()\n    return await adapter.setPref(\n      BROWSEROS_PREFS.THIRD_PARTY_LLM_PROVIDERS,\n      providers,\n    )\n  } catch {\n    return false\n  }\n}\n\nexport function getFaviconUrl(url: string, size = 128): string | undefined {\n  try {\n    const normalized = url.trim()\n    if (!normalized) return undefined\n    const parsed = new URL(\n      normalized.match(/^[a-zA-Z][a-zA-Z0-9+.-]*:/)\n        ? normalized\n        : `https://${normalized}`,\n    )\n    return `https://www.google.com/s2/favicons?domain=${parsed.hostname}&sz=${size}`\n  } catch {\n    return undefined\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport {\n  DEFAULT_PROVIDERS,\n  type LlmHubProvider,\n  loadProviders,\n  saveProviders,\n} from './storage'\n\n/** @public */\nexport interface UseLlmHubProvidersReturn {\n  providers: LlmHubProvider[]\n  isLoading: boolean\n  saveProvider: (provider: LlmHubProvider, editIndex?: number) => Promise<void>\n  deleteProvider: (index: number) => Promise<void>\n}\n\n/** @public */\nexport function useLlmHubProviders(): UseLlmHubProvidersReturn {\n  const [providers, setProviders] = useState<LlmHubProvider[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const load = async () => {\n      setIsLoading(true)\n      try {\n        const data = await loadProviders()\n        setProviders(data)\n      } catch {\n        setProviders(DEFAULT_PROVIDERS)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    load()\n  }, [])\n\n  const saveProvider = useCallback(\n    async (provider: LlmHubProvider, editIndex?: number) => {\n      const isEdit = editIndex !== undefined && editIndex >= 0\n      const updatedProviders = isEdit\n        ? providers.map((p, i) => (i === editIndex ? provider : p))\n        : [...providers, provider]\n\n      const prev = providers\n      setProviders(updatedProviders)\n\n      const success = await saveProviders(updatedProviders)\n      if (!success) setProviders(prev)\n    },\n    [providers],\n  )\n\n  const deleteProvider = useCallback(\n    async (index: number) => {\n      if (providers.length <= 1) return\n\n      const updatedProviders = providers.filter((_, i) => i !== index)\n      const prev = providers\n\n      setProviders(updatedProviders)\n\n      const success = await saveProviders(updatedProviders)\n      if (!success) setProviders(prev)\n    },\n    [providers],\n  )\n\n  return {\n    providers,\n    isLoading,\n    saveProvider,\n    deleteProvider,\n  }\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport type { FC } from 'react'\nimport { useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod/v3'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { HUB_PROVIDER_ADDED_EVENT } from '@/lib/constants/analyticsEvents'\nimport { track } from '@/lib/metrics/track'\nimport type { LlmHubProvider } from './models'\n\nconst formSchema = z.object({\n  name: z\n    .string()\n    .min(1, 'Provider name is required')\n    .max(50, 'Name must be 50 characters or less'),\n  url: z\n    .string()\n    .min(1, 'URL is required')\n    .refine(\n      (val) => {\n        try {\n          new URL(val.startsWith('http') ? val : `https://${val}`)\n          return true\n        } catch {\n          return false\n        }\n      },\n      { message: 'Please enter a valid URL' },\n    ),\n})\n\ntype FormValues = z.infer<typeof formSchema>\n\ninterface AddHubProviderDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  initialValues?: LlmHubProvider | null\n  onSave: (provider: LlmHubProvider) => void\n}\n\nexport const AddHubProviderDialog: FC<AddHubProviderDialogProps> = ({\n  open,\n  onOpenChange,\n  initialValues,\n  onSave,\n}) => {\n  const isEditing = !!initialValues\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: { name: '', url: '' },\n  })\n\n  useEffect(() => {\n    if (open) {\n      form.reset(\n        initialValues\n          ? { name: initialValues.name, url: initialValues.url }\n          : { name: '', url: '' },\n      )\n    }\n  }, [open, initialValues, form])\n\n  const onSubmit = (values: FormValues) => {\n    let url = values.url.trim()\n    if (!url.startsWith('http://') && !url.startsWith('https://')) {\n      url = `https://${url}`\n    }\n    if (url.endsWith('/')) {\n      url = url.slice(0, -1)\n    }\n\n    onSave({ name: values.name.trim(), url })\n    if (!isEditing) {\n      track(HUB_PROVIDER_ADDED_EVENT, { name: values.name.trim(), url })\n    }\n    form.reset()\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>\n            {isEditing ? 'Edit Provider' : 'Add Custom Provider'}\n          </DialogTitle>\n          <DialogDescription>\n            {isEditing\n              ? 'Update your custom AI chat provider.'\n              : 'Add a new AI chat provider for quick access.'}\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Provider Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., DeepSeek\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"url\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>URL</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., chat.deepseek.com\" {...field} />\n                  </FormControl>\n                  <FormDescription>\n                    The web address of the AI chat service\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter className=\"gap-2 pt-2\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\">{isEditing ? 'Update' : 'Add'}</Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { Globe2, Trash2 } from 'lucide-react'\nimport type { FC } from 'react'\nimport { useMemo } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { getFaviconUrl, type LlmHubProvider } from './models'\n\ninterface HubProviderRowProps {\n  provider: LlmHubProvider\n  canDelete: boolean\n  onEdit: () => void\n  onDelete: () => void\n}\n\nexport const HubProviderRow: FC<HubProviderRowProps> = ({\n  provider,\n  canDelete,\n  onEdit,\n  onDelete,\n}) => {\n  const iconUrl = useMemo(() => getFaviconUrl(provider.url), [provider.url])\n\n  return (\n    <div className=\"group flex w-full items-center gap-4 rounded-xl border border-border bg-card p-4 transition-all hover:border-[var(--accent-orange)] hover:shadow-md\">\n      <div className=\"flex h-10 w-10 shrink-0 items-center justify-center overflow-hidden rounded-lg bg-muted\">\n        {iconUrl ? (\n          <img\n            src={iconUrl}\n            alt={`${provider.name} icon`}\n            className=\"h-full w-full object-cover\"\n          />\n        ) : (\n          <Globe2 className=\"h-5 w-5 text-muted-foreground\" />\n        )}\n      </div>\n\n      <div className=\"min-w-0 flex-1\">\n        <span className=\"mb-0.5 block truncate font-semibold\">\n          {provider.name}\n        </span>\n        <p className=\"truncate text-muted-foreground/70 text-xs\">\n          {provider.url}\n        </p>\n      </div>\n\n      <div className=\"flex shrink-0 items-center gap-2\">\n        <Button variant=\"outline\" size=\"sm\" onClick={onEdit}>\n          Edit\n        </Button>\n        <Button\n          variant=\"ghost\"\n          size=\"icon-sm\"\n          disabled={!canDelete}\n          className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive disabled:opacity-30\"\n          onClick={onDelete}\n          aria-label={`Remove ${provider.name}`}\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n","import { Loader2, Plus } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { HubProviderRow } from './HubProviderRow'\nimport type { LlmHubProvider } from './models'\n\ninterface HubProvidersListProps {\n  providers: LlmHubProvider[]\n  isLoading?: boolean\n  onEditProvider: (index: number) => void\n  onDeleteProvider: (index: number) => void\n  onAddProvider: () => void\n}\n\nexport const HubProvidersList: FC<HubProvidersListProps> = ({\n  providers,\n  isLoading = false,\n  onEditProvider,\n  onDeleteProvider,\n  onAddProvider,\n}) => {\n  if (isLoading) {\n    return (\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n        <div className=\"flex items-center justify-center gap-3 py-8 text-muted-foreground\">\n          <Loader2 className=\"h-5 w-5 animate-spin\" />\n          <span>Loading providers...</span>\n        </div>\n      </div>\n    )\n  }\n\n  if (providers.length === 0) {\n    return (\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n        <div className=\"mb-4 flex items-center justify-between\">\n          <h3 className=\"font-medium\">Configured Providers</h3>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={onAddProvider}\n            className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n          >\n            <Plus className=\"mr-1.5 h-4 w-4\" />\n            Add provider\n          </Button>\n        </div>\n        <div className=\"rounded-lg border border-border border-dashed py-8 text-center\">\n          <p className=\"text-muted-foreground text-sm\">\n            No providers configured yet.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <h3 className=\"font-medium\">Configured Providers</h3>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={onAddProvider}\n          className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n        >\n          <Plus className=\"mr-1.5 h-4 w-4\" />\n          Add provider\n        </Button>\n      </div>\n      <div className=\"space-y-3\">\n        {providers.map((provider, index) => (\n          <HubProviderRow\n            key={provider.url}\n            provider={provider}\n            canDelete={providers.length > 1}\n            onEdit={() => onEditProvider(index)}\n            onDelete={() => onDeleteProvider(index)}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import { MessageSquare } from 'lucide-react'\nimport type { FC } from 'react'\n\nexport const LlmHubHeader: FC = () => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <MessageSquare className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div>\n          <h2 className=\"mb-1 font-semibold text-xl\">LLM Chat & Hub</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Curate and configure your favourite LLM chat providers\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { type FC, useState } from 'react'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport type { LlmHubProvider } from '@/lib/llm-hub/storage'\nimport { useLlmHubProviders } from '@/lib/llm-hub/useLlmHubProviders'\nimport { AddHubProviderDialog } from './AddHubProviderDialog'\nimport { HubProvidersList } from './HubProvidersList'\nimport { LlmHubHeader } from './LlmHubHeader'\n\n/** @public */\nexport const LlmHubPage: FC = () => {\n  const { providers, isLoading, saveProvider, deleteProvider } =\n    useLlmHubProviders()\n\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false)\n  const [editingIndex, setEditingIndex] = useState<number | null>(null)\n  const [deleteIndex, setDeleteIndex] = useState<number | null>(null)\n\n  const handleAddProvider = () => {\n    setEditingIndex(null)\n    setIsAddDialogOpen(true)\n  }\n\n  const handleEditProvider = (index: number) => {\n    setEditingIndex(index)\n    setIsAddDialogOpen(true)\n  }\n\n  const handleDeleteProvider = (index: number) => {\n    setDeleteIndex(index)\n  }\n\n  const confirmDelete = async () => {\n    if (deleteIndex !== null) {\n      await deleteProvider(deleteIndex)\n      setDeleteIndex(null)\n    }\n  }\n\n  const handleSaveProvider = async (provider: LlmHubProvider) => {\n    await saveProvider(provider, editingIndex ?? undefined)\n  }\n\n  const providerToDelete = deleteIndex !== null ? providers[deleteIndex] : null\n  const editingProvider = editingIndex !== null ? providers[editingIndex] : null\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <LlmHubHeader />\n\n      <HubProvidersList\n        providers={providers}\n        isLoading={isLoading}\n        onEditProvider={handleEditProvider}\n        onDeleteProvider={handleDeleteProvider}\n        onAddProvider={handleAddProvider}\n      />\n\n      <AddHubProviderDialog\n        open={isAddDialogOpen}\n        onOpenChange={setIsAddDialogOpen}\n        initialValues={editingProvider}\n        onSave={handleSaveProvider}\n      />\n\n      <AlertDialog\n        open={deleteIndex !== null}\n        onOpenChange={(open) => !open && setDeleteIndex(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Remove Provider</AlertDialogTitle>\n            <AlertDialogDescription>\n              Remove {providerToDelete?.name} from your LLM chat providers?\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={confirmDelete}>\n              Remove\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","import { defineExtensionMessaging } from '@webext-core/messaging'\nimport type { McpTool } from '@/lib/mcp/client'\n\ntype ServerMessagesProtocol = {\n  checkHealth(): { healthy: boolean }\n  fetchMcpTools(): { tools: McpTool[]; error?: string }\n}\n\n/**\n * @public\n */\nconst { sendMessage, onMessage } =\n  defineExtensionMessaging<ServerMessagesProtocol>()\n\nexport { sendMessage as sendServerMessage, onMessage as onServerMessage }\n","import { Check, Copy, ExternalLink, Server } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\n\ninterface MCPServerHeaderProps {\n  serverUrl: string | null\n  isLoading: boolean\n  error: string | null\n}\n\nconst DOCS_URL = 'https://docs.browseros.com/browseros-mcp/how-to-guide'\n\nexport const MCPServerHeader: FC<MCPServerHeaderProps> = ({\n  serverUrl,\n  isLoading,\n  error,\n}) => {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const handleCopy = async () => {\n    if (!serverUrl) return\n\n    try {\n      await navigator.clipboard.writeText(serverUrl)\n      setIsCopied(true)\n      setTimeout(() => setIsCopied(false), 2000)\n    } catch {\n      // Clipboard API failed\n    }\n  }\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <Server className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"mb-1 flex items-center justify-between\">\n            <h2 className=\"font-semibold text-xl\">BrowserOS MCP Server</h2>\n            <a\n              href={DOCS_URL}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"flex items-center gap-1 text-muted-foreground text-sm transition-colors hover:text-[var(--accent-orange)]\"\n            >\n              Setup a client\n              <ExternalLink className=\"h-3.5 w-3.5\" />\n            </a>\n          </div>\n          <p className=\"mb-6 text-muted-foreground text-sm\">\n            Connect BrowserOS to MCP clients like claude code, gemini and\n            others.\n          </p>\n\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\n            <span className=\"whitespace-nowrap font-medium text-sm\">\n              Server URL:\n            </span>\n            <div className=\"flex flex-1 items-center gap-2\">\n              <div className=\"flex-1 rounded-lg border border-border bg-background px-3 py-2 font-mono text-sm sm:max-w-md\">\n                {isLoading ? (\n                  <span className=\"text-muted-foreground\">Loading...</span>\n                ) : error ? (\n                  <span className=\"text-destructive\">{error}</span>\n                ) : (\n                  serverUrl\n                )}\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={handleCopy}\n                disabled={!serverUrl || isLoading}\n                className=\"shrink-0\"\n              >\n                {isCopied ? (\n                  <Check className=\"h-4 w-4 text-green-600\" />\n                ) : (\n                  <Copy className=\"h-4 w-4\" />\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { ChevronDown, Loader2, RefreshCw, Wrench } from 'lucide-react'\nimport { type FC, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\nimport type { McpTool } from '@/lib/mcp/client'\n\ninterface MCPToolsSectionProps {\n  tools: McpTool[]\n  isLoading: boolean\n  error: string | null\n  onRefresh: () => void\n}\n\nexport const MCPToolsSection: FC<MCPToolsSectionProps> = ({\n  tools,\n  isLoading,\n  error,\n  onRefresh,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <Collapsible\n      open={isOpen}\n      onOpenChange={setIsOpen}\n      className=\"group/collapsible\"\n    >\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        <div className=\"flex items-start justify-between gap-3\">\n          <CollapsibleTrigger className=\"flex flex-1 items-center justify-between text-left\">\n            <div>\n              <h3 className=\"font-semibold text-lg\">Available Tools</h3>\n              {tools.length > 0 && (\n                <p className=\"text-muted-foreground text-sm\">\n                  {tools.length} tools available\n                </p>\n              )}\n            </div>\n            <ChevronDown\n              className={`h-5 w-5 text-muted-foreground transition-transform duration-200 ${\n                isOpen ? 'rotate-180' : ''\n              }`}\n            />\n          </CollapsibleTrigger>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={onRefresh}\n            disabled={isLoading}\n            className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n            title=\"Refresh tools\"\n          >\n            {isLoading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <RefreshCw className=\"h-4 w-4\" />\n            )}\n          </Button>\n        </div>\n\n        {error && (\n          <div className=\"mt-4 rounded-lg border border-destructive/20 bg-destructive/10 px-4 py-3 text-destructive text-sm\">\n            {error}\n          </div>\n        )}\n\n        <CollapsibleContent className=\"pt-4\">\n          {tools.length > 0 && (\n            <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n              {tools.map((tool) => (\n                <div\n                  key={tool.name}\n                  className=\"rounded-lg border border-border bg-background p-4 transition-all hover:border-[var(--accent-orange)]/50 hover:shadow-sm\"\n                >\n                  <div className=\"mb-2 flex items-center gap-2\">\n                    <Wrench className=\"h-4 w-4 text-[var(--accent-orange)]\" />\n                    <span className=\"font-medium text-sm\">{tool.name}</span>\n                  </div>\n                  {tool.description && (\n                    <p className=\"line-clamp-2 text-muted-foreground text-xs\">\n                      {tool.description}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </CollapsibleContent>\n      </div>\n    </Collapsible>\n  )\n}\n","import { cva, type VariantProps } from 'class-variance-authority'\nimport type * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\n/**\n * @public\n */\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n/**\n * @public\n */\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'col-start-2 grid justify-items-start gap-1 text-muted-foreground text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n","import { AlertCircle, Loader2, RefreshCw, Settings, X } from 'lucide-react'\nimport { type FC, useCallback, useEffect, useState } from 'react'\nimport { toast } from 'sonner'\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { getBrowserOSAdapter } from '@/lib/browseros/adapter'\nimport { BROWSEROS_PREFS } from '@/lib/browseros/prefs'\nimport {\n  MCP_EXTERNAL_ACCESS_DISABLED_EVENT,\n  MCP_EXTERNAL_ACCESS_ENABLED_EVENT,\n  MCP_SERVER_RESTARTED_EVENT,\n} from '@/lib/constants/analyticsEvents'\nimport { sendServerMessage } from '@/lib/messaging/server/serverMessages'\nimport { track } from '@/lib/metrics/track'\n\nconst HEALTH_CHECK_TIMEOUT_MS = 60_000\nconst HEALTH_CHECK_INTERVAL_MS = 2_000\nconst LONG_WAIT_THRESHOLD_MS = 15_000\n\ntype DialogType = 'enable-remote' | 'restart' | null\n\ninterface ServerSettingsCardProps {\n  onServerRestart?: () => void\n}\n\nexport const ServerSettingsCard: FC<ServerSettingsCardProps> = ({\n  onServerRestart,\n}) => {\n  const [allowRemote, setAllowRemote] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isRestarting, setIsRestarting] = useState(false)\n  const [restartMessage, setRestartMessage] = useState('Restarting server...')\n  const [dialogType, setDialogType] = useState<DialogType>(null)\n  const [serverError, setServerError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const loadCurrentPref = async () => {\n      try {\n        const adapter = getBrowserOSAdapter()\n        const pref = await adapter.getPref(BROWSEROS_PREFS.ALLOW_REMOTE_MCP)\n        setAllowRemote(pref?.value === true)\n      } catch {\n        // API not available or error\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadCurrentPref()\n  }, [])\n\n  const checkServerHealth = useCallback(async (): Promise<boolean> => {\n    try {\n      const result = await sendServerMessage('checkHealth', undefined)\n      return result.healthy\n    } catch {\n      return false\n    }\n  }, [])\n\n  const waitForServerRestart = useCallback(async (): Promise<boolean> => {\n    const startTime = Date.now()\n\n    return new Promise((resolve) => {\n      const checkHealth = async () => {\n        const elapsed = Date.now() - startTime\n\n        if (elapsed >= HEALTH_CHECK_TIMEOUT_MS) {\n          resolve(false)\n          return\n        }\n\n        if (elapsed >= LONG_WAIT_THRESHOLD_MS) {\n          setRestartMessage('Taking longer than expected...')\n        }\n\n        const isHealthy = await checkServerHealth()\n        if (isHealthy) {\n          resolve(true)\n          return\n        }\n\n        setTimeout(checkHealth, HEALTH_CHECK_INTERVAL_MS)\n      }\n\n      setTimeout(checkHealth, HEALTH_CHECK_INTERVAL_MS)\n    })\n  }, [checkServerHealth])\n\n  const handleToggleChange = (checked: boolean) => {\n    if (checked) {\n      setDialogType('enable-remote')\n    } else {\n      performToggle(false)\n    }\n  }\n\n  const performToggle = async (newValue: boolean) => {\n    setIsRestarting(true)\n    setRestartMessage('Restarting server...')\n    setDialogType(null)\n    setServerError(null)\n\n    try {\n      const adapter = getBrowserOSAdapter()\n      const success = await adapter.setPref(\n        BROWSEROS_PREFS.ALLOW_REMOTE_MCP,\n        newValue,\n      )\n\n      if (!success) {\n        throw new Error('Failed to update setting')\n      }\n\n      const serverRestarted = await waitForServerRestart()\n\n      if (serverRestarted) {\n        setAllowRemote(newValue)\n        track(\n          newValue\n            ? MCP_EXTERNAL_ACCESS_ENABLED_EVENT\n            : MCP_EXTERNAL_ACCESS_DISABLED_EVENT,\n        )\n        toast.success('Server restarted successfully', {\n          description: newValue\n            ? 'Remote connections are now enabled'\n            : 'Remote connections are now disabled',\n        })\n        onServerRestart?.()\n      } else {\n        setServerError(\n          'Server did not respond. Please quit and restart the browser, then try again.',\n        )\n      }\n    } catch (error) {\n      setServerError(\n        error instanceof Error ? error.message : 'Failed to update setting',\n      )\n    } finally {\n      setIsRestarting(false)\n    }\n  }\n\n  const handleRestartClick = () => {\n    setDialogType('restart')\n  }\n\n  const performRestart = async () => {\n    setIsRestarting(true)\n    setRestartMessage('Restarting server...')\n    setDialogType(null)\n    setServerError(null)\n\n    try {\n      const adapter = getBrowserOSAdapter()\n      await adapter.setPref(BROWSEROS_PREFS.RESTART_SERVER, true)\n\n      const serverRestarted = await waitForServerRestart()\n\n      if (serverRestarted) {\n        track(MCP_SERVER_RESTARTED_EVENT)\n        toast.success('Server restarted successfully')\n        onServerRestart?.()\n      } else {\n        setServerError(\n          'Server did not respond. Please quit and restart the browser, then try again.',\n        )\n      }\n    } catch (error) {\n      setServerError(\n        error instanceof Error ? error.message : 'Failed to restart server',\n      )\n    } finally {\n      setIsRestarting(false)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"relative rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n        {isRestarting && (\n          <div className=\"absolute inset-0 z-10 flex flex-col items-center justify-center rounded-xl bg-card/80 backdrop-blur-sm\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-[var(--accent-orange)]\" />\n            <p className=\"mt-3 font-medium text-sm\">{restartMessage}</p>\n          </div>\n        )}\n\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n            <Settings className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n          </div>\n          <div className=\"flex-1\">\n            <h2 className=\"mb-1 font-semibold text-xl\">MCP Server Settings</h2>\n            <p className=\"mb-6 text-muted-foreground text-sm\">\n              Configure local MCP server options\n            </p>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"allow-remote\" className=\"font-medium text-sm\">\n                    Allow External Access\n                  </Label>\n                  <p className=\"text-muted-foreground text-xs\">\n                    Allow MCP clients from other devices to connect\n                  </p>\n                </div>\n                <Switch\n                  id=\"allow-remote\"\n                  checked={allowRemote}\n                  onCheckedChange={handleToggleChange}\n                  disabled={isLoading || isRestarting}\n                />\n              </div>\n\n              <div className=\"flex items-center justify-between border-border border-t pt-4\">\n                <div className=\"space-y-0.5\">\n                  <span className=\"font-medium text-sm\">\n                    Restart MCP Server\n                  </span>\n                  <p className=\"text-muted-foreground text-xs\">\n                    Restart local MCP server\n                  </p>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={handleRestartClick}\n                  disabled={isLoading || isRestarting}\n                >\n                  <RefreshCw className=\"mr-2 h-4 w-4\" />\n                  Restart\n                </Button>\n              </div>\n\n              {serverError && (\n                <Alert\n                  variant=\"destructive\"\n                  className=\"mt-4 border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950\"\n                >\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertTitle className=\"flex items-center justify-between\">\n                    <span>Server Error</span>\n                    <button\n                      type=\"button\"\n                      onClick={() => setServerError(null)}\n                      className=\"-mt-1 -mr-1 rounded-sm p-1 opacity-70 transition-opacity hover:opacity-100\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </button>\n                  </AlertTitle>\n                  <AlertDescription>{serverError}</AlertDescription>\n                </Alert>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <AlertDialog\n        open={dialogType === 'enable-remote'}\n        onOpenChange={(open) => !open && setDialogType(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Allow External Access?</AlertDialogTitle>\n            <AlertDialogDescription>\n              By default, the MCP server only accepts connections from localhost\n              (127.0.0.1). Enabling this will allow any device on your network\n              to connect. Only enable if you need to connect from another\n              machine and trust your network.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={() => performToggle(true)}>\n              Enable\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog\n        open={dialogType === 'restart'}\n        onOpenChange={(open) => !open && setDialogType(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Restart MCP Server?</AlertDialogTitle>\n            <AlertDialogDescription>\n              This will restart the local MCP server. It may take 10-30 seconds\n              to complete. Any active connections will be temporarily\n              interrupted.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={performRestart}>\n              Restart\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  )\n}\n","import { type FC, useCallback, useEffect, useState } from 'react'\nimport { getMcpServerUrl } from '@/lib/browseros/helpers'\nimport type { McpTool } from '@/lib/mcp/client'\nimport { sendServerMessage } from '@/lib/messaging/server/serverMessages'\nimport { MCPServerHeader } from './MCPServerHeader'\nimport { MCPToolsSection } from './MCPToolsSection'\nimport { ServerSettingsCard } from './ServerSettingsCard'\n\n/** @public */\nexport const MCPSettingsPage: FC = () => {\n  const [serverUrl, setServerUrl] = useState<string | null>(null)\n  const [urlLoading, setUrlLoading] = useState(true)\n  const [urlError, setUrlError] = useState<string | null>(null)\n\n  const [tools, setTools] = useState<McpTool[]>([])\n  const [toolsLoading, setToolsLoading] = useState(false)\n  const [toolsError, setToolsError] = useState<string | null>(null)\n\n  const loadServerUrlAndTools = useCallback(async () => {\n    let url: string | null = null\n    setUrlLoading(true)\n    setUrlError(null)\n    setToolsError(null)\n\n    try {\n      url = await getMcpServerUrl()\n      setServerUrl(url)\n      setUrlLoading(false)\n\n      setToolsLoading(true)\n      const result = await sendServerMessage('fetchMcpTools', undefined)\n      if (result.error) {\n        setToolsError(result.error)\n      } else {\n        setTools(result.tools)\n      }\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : 'Failed to load'\n      if (!url) {\n        setUrlError(errorMsg)\n      } else {\n        setToolsError(errorMsg)\n      }\n    } finally {\n      setUrlLoading(false)\n      setToolsLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    loadServerUrlAndTools()\n  }, [loadServerUrlAndTools])\n\n  const handleRefreshTools = async () => {\n    if (!serverUrl) return\n\n    setToolsLoading(true)\n    setToolsError(null)\n    setTools([])\n\n    try {\n      const result = await sendServerMessage('fetchMcpTools', undefined)\n      if (result.error) {\n        setToolsError(result.error)\n      } else {\n        setTools(result.tools)\n      }\n    } catch (err) {\n      setToolsError(\n        err instanceof Error ? err.message : 'Failed to fetch tools',\n      )\n    } finally {\n      setToolsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <MCPServerHeader\n        serverUrl={serverUrl}\n        isLoading={urlLoading}\n        error={urlError}\n      />\n\n      <ServerSettingsCard onServerRestart={loadServerUrlAndTools} />\n\n      <MCPToolsSection\n        tools={tools}\n        isLoading={toolsLoading}\n        error={toolsError}\n        onRefresh={handleRefreshTools}\n      />\n    </div>\n  )\n}\n","import { zodResolver } from '@hookform/resolvers/zod'\nimport type { FC } from 'react'\nimport { useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { z } from 'zod/v3'\nimport { Button } from '@/components/ui/button'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Textarea } from '@/components/ui/textarea'\nimport type { ScheduledJob } from './types'\n\nconst formSchema = z\n  .object({\n    name: z\n      .string()\n      .min(1, 'Name is required')\n      .max(100, 'Name must be 100 characters or less'),\n    query: z.string().min(1, 'Prompt is required'),\n    scheduleType: z.enum(['daily', 'hourly', 'minutes']),\n    scheduleTime: z.string().optional(),\n    scheduleInterval: z.number().int().min(1).max(60).optional(),\n    enabled: z.boolean(),\n  })\n  .superRefine((data, ctx) => {\n    if (data.scheduleType === 'daily' && !data.scheduleTime) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Time is required for daily schedule',\n        path: ['scheduleTime'],\n      })\n    }\n    if (\n      (data.scheduleType === 'hourly' || data.scheduleType === 'minutes') &&\n      (!data.scheduleInterval || data.scheduleInterval < 1)\n    ) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'Interval must be at least 1',\n        path: ['scheduleInterval'],\n      })\n    }\n  })\n\ntype FormValues = z.infer<typeof formSchema>\n\ninterface NewScheduledTaskDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  initialValues?: ScheduledJob | null\n  onSave: (data: Omit<ScheduledJob, 'id' | 'createdAt'>) => void\n}\n\nexport const NewScheduledTaskDialog: FC<NewScheduledTaskDialogProps> = ({\n  open,\n  onOpenChange,\n  initialValues,\n  onSave,\n}) => {\n  const isEditing = !!initialValues\n\n  const form = useForm<FormValues>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: '',\n      query: '',\n      scheduleType: 'daily',\n      scheduleTime: '09:00',\n      scheduleInterval: 1,\n      enabled: true,\n    },\n  })\n\n  const scheduleType = form.watch('scheduleType')\n\n  useEffect(() => {\n    if (open) {\n      if (initialValues) {\n        form.reset({\n          name: initialValues.name,\n          query: initialValues.query,\n          scheduleType: initialValues.scheduleType,\n          scheduleTime: initialValues.scheduleTime || '09:00',\n          scheduleInterval: initialValues.scheduleInterval || 1,\n          enabled: initialValues.enabled,\n        })\n      } else {\n        form.reset({\n          name: '',\n          query: '',\n          scheduleType: 'daily',\n          scheduleTime: '09:00',\n          scheduleInterval: 1,\n          enabled: true,\n        })\n      }\n    }\n  }, [open, initialValues, form])\n\n  const onSubmit = (values: FormValues) => {\n    onSave({\n      name: values.name.trim(),\n      query: values.query.trim(),\n      scheduleType: values.scheduleType,\n      scheduleTime:\n        values.scheduleType === 'daily' ? values.scheduleTime : undefined,\n      scheduleInterval:\n        values.scheduleType !== 'daily' ? values.scheduleInterval : undefined,\n      enabled: values.enabled,\n    })\n    form.reset()\n    onOpenChange(false)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>\n            {isEditing ? 'Edit Scheduled Task' : 'Create Scheduled Task'}\n          </DialogTitle>\n          <DialogDescription>\n            {isEditing\n              ? 'Update your scheduled task configuration.'\n              : 'Create a new task that runs automatically on a schedule.'}\n          </DialogDescription>\n        </DialogHeader>\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Name</FormLabel>\n                  <FormControl>\n                    <Input placeholder=\"e.g., Morning Briefing\" {...field} />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"query\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Prompt</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"What should the agent do? e.g., Check my email and summarize important messages\"\n                      className=\"min-h-[100px] resize-none\"\n                      {...field}\n                    />\n                  </FormControl>\n                  <FormDescription>\n                    The instruction that will be sent to the agent\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <div className=\"grid gap-4 sm:grid-cols-2\">\n              <FormField\n                control={form.control}\n                name=\"scheduleType\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Schedule</FormLabel>\n                    <Select\n                      onValueChange={field.onChange}\n                      defaultValue={field.value}\n                      value={field.value}\n                    >\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select schedule type\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        <SelectItem value=\"daily\">Daily at time</SelectItem>\n                        <SelectItem value=\"hourly\">Every N hours</SelectItem>\n                        <SelectItem value=\"minutes\">Every N minutes</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              {scheduleType === 'daily' ? (\n                <FormField\n                  control={form.control}\n                  name=\"scheduleTime\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Time</FormLabel>\n                      <FormControl>\n                        <Input type=\"time\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              ) : (\n                <FormField\n                  control={form.control}\n                  name=\"scheduleInterval\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>\n                        Interval (\n                        {scheduleType === 'hourly' ? 'hours' : 'minutes'})\n                      </FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          min={1}\n                          max={scheduleType === 'hourly' ? 24 : 60}\n                          value={field.value ?? ''}\n                          onChange={(e) =>\n                            field.onChange(\n                              e.target.value\n                                ? Number(e.target.value)\n                                : undefined,\n                            )\n                          }\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              )}\n            </div>\n\n            <FormField\n              control={form.control}\n              name=\"enabled\"\n              render={({ field }) => (\n                <FormItem className=\"flex flex-row items-center gap-3 space-y-0\">\n                  <FormControl>\n                    <Checkbox\n                      checked={field.value}\n                      onCheckedChange={field.onChange}\n                    />\n                  </FormControl>\n                  <FormLabel className=\"font-normal\">\n                    Enable this task\n                  </FormLabel>\n                </FormItem>\n              )}\n            />\n\n            <DialogFooter className=\"gap-2 pt-2\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\">{isEditing ? 'Update' : 'Create'}</Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","import { CalendarClock, Plus } from 'lucide-react'\nimport type { FC } from 'react'\nimport { Button } from '@/components/ui/button'\n\ninterface ScheduledTasksHeaderProps {\n  onAddClick: () => void\n}\n\nexport const ScheduledTasksHeader: FC<ScheduledTasksHeaderProps> = ({\n  onAddClick,\n}) => {\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm transition-all hover:shadow-md\">\n      <div className=\"flex items-start gap-4\">\n        <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-[var(--accent-orange)]/10\">\n          <CalendarClock className=\"h-6 w-6 text-[var(--accent-orange)]\" />\n        </div>\n        <div className=\"flex-1\">\n          <h2 className=\"mb-1 font-semibold text-xl\">Scheduled Tasks</h2>\n          <p className=\"text-muted-foreground text-sm\">\n            Automate recurring browser tasks\n          </p>\n        </div>\n        <Button\n          onClick={onAddClick}\n          className=\"border-[var(--accent-orange)] bg-[var(--accent-orange)]/10 text-[var(--accent-orange)] hover:bg-[var(--accent-orange)]/20 hover:text-[var(--accent-orange)]\"\n          variant=\"outline\"\n        >\n          <Plus className=\"mr-1.5 h-4 w-4\" />\n          New Task\n        </Button>\n      </div>\n    </div>\n  )\n}\n","import dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport {\n  CheckCircle2,\n  ChevronDown,\n  Loader2,\n  Pencil,\n  Play,\n  Trash2,\n  XCircle,\n} from 'lucide-react'\nimport { type FC, useMemo, useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from '@/components/ui/collapsible'\nimport { Switch } from '@/components/ui/switch'\nimport { useScheduledJobRuns } from '@/lib/schedules/scheduleStorage'\nimport type { ScheduledJob, ScheduledJobRun } from './types'\n\ndayjs.extend(relativeTime)\ndayjs.extend(duration)\n\ninterface ScheduledTaskCardProps {\n  job: ScheduledJob\n  onEdit: () => void\n  onDelete: () => void\n  onToggle: (enabled: boolean) => void\n  onRun: () => void\n  onViewRun: (run: ScheduledJobRun) => void\n}\n\nfunction formatSchedule(job: ScheduledJob): string {\n  if (job.scheduleType === 'daily' && job.scheduleTime) {\n    return `Daily at ${job.scheduleTime}`\n  }\n  if (job.scheduleType === 'hourly' && job.scheduleInterval) {\n    return job.scheduleInterval === 1\n      ? 'Every hour'\n      : `Every ${job.scheduleInterval} hours`\n  }\n  if (job.scheduleType === 'minutes' && job.scheduleInterval) {\n    return job.scheduleInterval === 1\n      ? 'Every minute'\n      : `Every ${job.scheduleInterval} minutes`\n  }\n  return 'Not scheduled'\n}\n\nconst formatRelativeTime = (dateStr: string) => dayjs(dateStr).fromNow()\n\nfunction formatDuration(startedAt: string, completedAt?: string): string {\n  if (!completedAt) return 'Running...'\n  const diff = dayjs(completedAt).diff(dayjs(startedAt))\n  const d = dayjs.duration(diff)\n  const mins = Math.floor(d.asMinutes())\n  const secs = d.seconds()\n  if (mins === 0) return `${secs}s`\n  return `${mins}m ${secs}s`\n}\n\nconst formatRunDate = (dateStr: string) =>\n  dayjs(dateStr).format('MMM D, h:mm A')\n\nexport const ScheduledTaskCard: FC<ScheduledTaskCardProps> = ({\n  job,\n  onEdit,\n  onDelete,\n  onToggle,\n  onRun,\n  onViewRun,\n}) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const { jobRuns } = useScheduledJobRuns()\n\n  const runs = useMemo(\n    () =>\n      jobRuns\n        .filter((run) => run.jobId === job.id)\n        .sort(\n          (a, b) =>\n            new Date(b.startedAt).getTime() - new Date(a.startedAt).getTime(),\n        ),\n    [jobRuns, job.id],\n  )\n\n  return (\n    <div className=\"rounded-xl border border-border bg-card p-4 shadow-sm transition-all hover:border-[var(--accent-orange)]/50 hover:shadow-sm\">\n      <div className=\"flex items-start gap-4\">\n        <Switch\n          checked={job.enabled}\n          onCheckedChange={onToggle}\n          aria-label={`${job.enabled ? 'Disable' : 'Enable'} ${job.name}`}\n        />\n\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"mb-1 flex items-center gap-2\">\n            <span className=\"truncate font-semibold\">{job.name}</span>\n            {!job.enabled && (\n              <span className=\"rounded bg-muted px-1.5 py-0.5 text-muted-foreground text-xs\">\n                Disabled\n              </span>\n            )}\n          </div>\n          <p className=\"mb-2 line-clamp-1 text-muted-foreground text-sm\">\n            \"{job.query}\"\n          </p>\n          <div className=\"flex items-center gap-2 text-muted-foreground text-xs\">\n            <span>{formatSchedule(job)}</span>\n            {job.lastRunAt && (\n              <>\n                <span>â€¢</span>\n                <span>Last run: {formatRelativeTime(job.lastRunAt)}</span>\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex shrink-0 items-center gap-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={onRun}>\n            <Play className=\"mr-1.5 h-3 w-3\" />\n            Test\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={onEdit}>\n            <Pencil className=\"mr-1.5 h-3 w-3\" />\n            Edit\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon-sm\"\n            onClick={onDelete}\n            className=\"text-muted-foreground hover:bg-destructive/10 hover:text-destructive\"\n            aria-label={`Delete ${job.name}`}\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {runs.length > 0 && (\n        <Collapsible open={isOpen} onOpenChange={setIsOpen} className=\"mt-4\">\n          <CollapsibleTrigger className=\"flex w-full items-center gap-2 text-muted-foreground text-sm hover:text-foreground\">\n            <ChevronDown\n              className={`h-4 w-4 transition-transform duration-200 ${\n                isOpen ? 'rotate-180' : ''\n              }`}\n            />\n            <span>Run History ({runs.length})</span>\n          </CollapsibleTrigger>\n          <CollapsibleContent className=\"pt-3\">\n            <div className=\"space-y-2\">\n              {runs.map((run) => (\n                <div\n                  key={run.id}\n                  className=\"flex items-center gap-3 rounded-lg border border-border bg-background p-3\"\n                >\n                  {run.status === 'completed' ? (\n                    <CheckCircle2 className=\"h-4 w-4 shrink-0 text-green-500\" />\n                  ) : run.status === 'failed' ? (\n                    <XCircle className=\"h-4 w-4 shrink-0 text-destructive\" />\n                  ) : (\n                    <Loader2 className=\"h-4 w-4 shrink-0 animate-spin text-accent-orange\" />\n                  )}\n                  <div className=\"min-w-0 flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm\">\n                        {formatRunDate(run.startedAt)}\n                      </span>\n                      <span className=\"text-muted-foreground text-xs\">\n                        {formatDuration(run.startedAt, run.completedAt)}\n                      </span>\n                    </div>\n                    {run.status === 'failed' && run.result && (\n                      <p className=\"mt-1 line-clamp-1 text-destructive text-xs\">\n                        {run.result}\n                      </p>\n                    )}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => onViewRun(run)}\n                    className=\"shrink-0 text-muted-foreground hover:text-foreground\"\n                  >\n                    View\n                  </Button>\n                </div>\n              ))}\n            </div>\n          </CollapsibleContent>\n        </Collapsible>\n      )}\n    </div>\n  )\n}\n","import type { FC } from 'react'\nimport { ScheduledTaskCard } from './ScheduledTaskCard'\nimport type { ScheduledJob, ScheduledJobRun } from './types'\n\ninterface ScheduledTasksListProps {\n  jobs: ScheduledJob[]\n  onEdit: (job: ScheduledJob) => void\n  onDelete: (jobId: string) => void\n  onToggle: (jobId: string, enabled: boolean) => void\n  onRun: (jobId: string) => void\n  onViewRun: (run: ScheduledJobRun) => void\n}\n\nexport const ScheduledTasksList: FC<ScheduledTasksListProps> = ({\n  jobs,\n  onEdit,\n  onDelete,\n  onToggle,\n  onRun,\n  onViewRun,\n}) => {\n  if (jobs.length === 0) {\n    return (\n      <div className=\"rounded-xl border border-border bg-card p-6 shadow-sm\">\n        <div className=\"rounded-lg border border-border border-dashed py-8 text-center\">\n          <p className=\"text-muted-foreground text-sm\">\n            No scheduled tasks yet. Create one to automate recurring workflows.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {jobs.map((job) => (\n        <ScheduledTaskCard\n          key={job.id}\n          job={job}\n          onEdit={() => onEdit(job)}\n          onDelete={() => onDelete(job.id)}\n          onToggle={(enabled) => onToggle(job.id, enabled)}\n          onRun={() => onRun(job.id)}\n          onViewRun={onViewRun}\n        />\n      ))}\n    </div>\n  )\n}\n","import { type FC, useState } from 'react'\nimport { RunResultDialog } from '@/components/ai-elements/run-result-dialog'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport {\n  NEW_SCHEDULED_TASK_CREATED_EVENT,\n  SCHEDULED_TASK_DELETED_EVENT,\n  SCHEDULED_TASK_EDITED_EVENT,\n  SCHEDULED_TASK_TESTED_EVENT,\n  SCHEDULED_TASK_TOGGLED_EVENT,\n  SCHEDULED_TASK_VIEW_RESULTS_EVENT,\n} from '@/lib/constants/analyticsEvents'\nimport { track } from '@/lib/metrics/track'\nimport { useScheduledJobs } from '@/lib/schedules/scheduleStorage'\nimport type { ScheduledJobRun } from '@/lib/schedules/scheduleTypes'\nimport { NewScheduledTaskDialog } from './NewScheduledTaskDialog'\nimport { ScheduledTasksHeader } from './ScheduledTasksHeader'\nimport { ScheduledTasksList } from './ScheduledTasksList'\nimport type { ScheduledJob } from './types'\n\n/**\n * Main page for managing scheduled tasks\n * @public\n */\nexport const ScheduledTasksPage: FC = () => {\n  const { jobs, addJob, editJob, toggleJob, removeJob, runJob } =\n    useScheduledJobs()\n\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [editingJob, setEditingJob] = useState<ScheduledJob | null>(null)\n  const [deleteJobId, setDeleteJobId] = useState<string | null>(null)\n  const [viewingRun, setViewingRun] = useState<ScheduledJobRun | null>(null)\n\n  const handleAdd = () => {\n    setEditingJob(null)\n    setIsDialogOpen(true)\n  }\n\n  const handleEdit = (job: ScheduledJob) => {\n    setEditingJob(job)\n    setIsDialogOpen(true)\n  }\n\n  const handleDelete = (jobId: string) => {\n    setDeleteJobId(jobId)\n  }\n\n  const confirmDelete = async () => {\n    if (deleteJobId) {\n      await removeJob(deleteJobId)\n      setDeleteJobId(null)\n      track(SCHEDULED_TASK_DELETED_EVENT)\n    }\n  }\n\n  const handleSave = async (data: Omit<ScheduledJob, 'id' | 'createdAt'>) => {\n    if (editingJob) {\n      await editJob(editingJob.id, data)\n      track(SCHEDULED_TASK_EDITED_EVENT, {\n        scheduleType: data.scheduleType,\n        interval: data.scheduleInterval,\n        time: data.scheduleTime,\n      })\n    } else {\n      await addJob(data)\n      track(NEW_SCHEDULED_TASK_CREATED_EVENT, {\n        scheduleType: data.scheduleType,\n        interval: data.scheduleInterval,\n        time: data.scheduleTime,\n      })\n    }\n  }\n\n  const handleToggle = async (jobId: string, enabled: boolean) => {\n    await toggleJob(jobId, enabled)\n    track(SCHEDULED_TASK_TOGGLED_EVENT)\n  }\n\n  const handleRun = async (jobId: string) => {\n    await runJob(jobId)\n    track(SCHEDULED_TASK_TESTED_EVENT)\n  }\n\n  const handleViewRun = (run: ScheduledJobRun) => {\n    setViewingRun(run)\n    track(SCHEDULED_TASK_VIEW_RESULTS_EVENT)\n  }\n\n  const jobToDelete = deleteJobId\n    ? jobs.find((j) => j.id === deleteJobId)\n    : null\n\n  return (\n    <div className=\"fade-in slide-in-from-bottom-5 animate-in space-y-6 duration-500\">\n      <ScheduledTasksHeader onAddClick={handleAdd} />\n\n      <ScheduledTasksList\n        jobs={jobs}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n        onToggle={handleToggle}\n        onRun={handleRun}\n        onViewRun={handleViewRun}\n      />\n\n      <NewScheduledTaskDialog\n        open={isDialogOpen}\n        onOpenChange={setIsDialogOpen}\n        initialValues={editingJob}\n        onSave={handleSave}\n      />\n\n      <RunResultDialog\n        run={viewingRun}\n        jobName={\n          viewingRun\n            ? jobs.find((j) => j.id === viewingRun.jobId)?.name\n            : undefined\n        }\n        onOpenChange={(open) => !open && setViewingRun(null)}\n      />\n\n      <AlertDialog\n        open={deleteJobId !== null}\n        onOpenChange={(open) => !open && setDeleteJobId(null)}\n      >\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Scheduled Task</AlertDialogTitle>\n            <AlertDialogDescription>\n              Delete \"{jobToDelete?.name}\"? This will also remove all run\n              history for this task.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={confirmDelete}>\n              Delete\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","import type { FC } from 'react'\nimport { HashRouter, Navigate, Route, Routes } from 'react-router'\nimport { AISettingsPage } from './ai-settings/AISettingsPage'\nimport { ConnectMCP } from './connect-mcp/ConnectMCP'\nimport { CustomizationPage } from './customization/CustomizationPage'\nimport { JTBDAgentPage } from './jtbd-agent/jtbd-agent-page'\nimport { DashboardLayout } from './layout/DashboardLayout'\nimport { LlmHubPage } from './llm-hub/LlmHubPage'\nimport { MCPSettingsPage } from './mcp-settings/MCPSettingsPage'\nimport { ScheduledTasksPage } from './scheduled-tasks/ScheduledTasksPage'\n\n// Check query params for direct page navigation\nfunction getInitialRoute(): string {\n  const params = new URLSearchParams(window.location.search)\n  const page = params.get('page')\n  if (page === 'survey') return '/jtbd-agent'\n  return '/ai'\n}\n\nexport const App: FC = () => {\n  const initialRoute = getInitialRoute()\n\n  return (\n    <HashRouter>\n      <Routes>\n        <Route element={<DashboardLayout />}>\n          <Route index element={<Navigate to={initialRoute} replace />} />\n          <Route path=\"ai\" element={<AISettingsPage key=\"ai\" />} />\n          <Route path=\"chat\" element={<LlmHubPage />} />\n          <Route path=\"search\" element={null} />\n          <Route path=\"connect-mcp\" element={<ConnectMCP />} />\n          <Route path=\"mcp\" element={<MCPSettingsPage />} />\n          <Route path=\"customization\" element={<CustomizationPage />} />\n          <Route\n            path=\"onboarding\"\n            element={<AISettingsPage key=\"onboarding\" />}\n          />\n          <Route path=\"scheduled\" element={<ScheduledTasksPage />} />\n          <Route path=\"jtbd-agent\" element={<JTBDAgentPage />} />\n        </Route>\n      </Routes>\n    </HashRouter>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport '@/styles/global.css'\nimport { ThemeProvider } from '@/components/theme-provider.tsx'\nimport { Toaster } from '@/components/ui/sonner'\nimport { AnalyticsProvider } from '@/lib/analytics/AnalyticsProvider.tsx'\nimport { sentryRootErrorHandler } from '@/lib/sentry/sentryRootErrorHandler.ts'\nimport { App } from './App.tsx'\n\nconst $root = document.getElementById('root')\n\nif ($root) {\n  ReactDOM.createRoot($root, sentryRootErrorHandler).render(\n    <React.StrictMode>\n      <AnalyticsProvider>\n        <ThemeProvider>\n          <App />\n          <Toaster />\n        </ThemeProvider>\n      </AnalyticsProvider>\n    </React.StrictMode>,\n  )\n}\n"],"names":["__iconNode","CalendarClock","createLucideIcon","ChevronUp","Earth","ExternalLink","Menu","MessageSquareHeart","Palette","Pencil","Play","PlugZap","RotateCcw","Server","Square","Trash2","Wrench","ROOT_NAME","createAlertDialogContext","createContextScope","createDialogScope","useDialogScope","AlertDialog","props","__scopeAlertDialog","alertDialogProps","dialogScope","jsx","DialogPrimitive.Root","TRIGGER_NAME","AlertDialogTrigger","React.forwardRef","forwardedRef","triggerProps","DialogPrimitive.Trigger","PORTAL_NAME","AlertDialogPortal","portalProps","DialogPrimitive.Portal","OVERLAY_NAME","AlertDialogOverlay","overlayProps","DialogPrimitive.Overlay","CONTENT_NAME","AlertDialogContentProvider","useAlertDialogContentContext","Slottable","createSlottable","AlertDialogContent","children","contentProps","contentRef","React.useRef","composedRefs","useComposedRefs","cancelRef","DialogPrimitive.WarningProvider","TITLE_NAME","jsxs","DialogPrimitive.Content","composeEventHandlers","event","DescriptionWarning","AlertDialogTitle","titleProps","DialogPrimitive.Title","DESCRIPTION_NAME","AlertDialogDescription","descriptionProps","DialogPrimitive.Description","ACTION_NAME","AlertDialogAction","actionProps","DialogPrimitive.Close","CANCEL_NAME","AlertDialogCancel","cancelProps","ref","MESSAGE","React.useEffect","Root2","Portal2","Overlay2","Content2","Action","Cancel","Title2","Description2","AlertDialogPrimitive.Root","AlertDialogPrimitive.Portal","className","AlertDialogPrimitive.Overlay","cn","AlertDialogPrimitive.Content","AlertDialogHeader","AlertDialogFooter","AlertDialogPrimitive.Title","AlertDialogPrimitive.Description","AlertDialogPrimitive.Action","buttonVariants","AlertDialogPrimitive.Cancel","testProvider","provider","agentServerUrl","startTime","result","error","responseTime","ProviderCard","isSelected","isBuiltIn","onSelect","onTest","onEdit","onDelete","isTesting","inputId","Check","BrowserOSIcon","ProviderIcon","Badge","Button","Loader2","ConfiguredProvidersList","providers","selectedProviderId","testingProviderId","onSelectProvider","onTestProvider","onEditProvider","onDeleteProvider","OPEN_KEYS","SELECTION_KEYS","SELECT_NAME","Collection","useCollection","createCollectionScope","createCollection","createSelectContext","createPopperScope","usePopperScope","SelectProvider","useSelectContext","SelectNativeOptionsProvider","useSelectNativeOptionsContext","Select","__scopeSelect","openProp","defaultOpen","onOpenChange","valueProp","defaultValue","onValueChange","dir","name","autoComplete","disabled","required","form","popperScope","trigger","setTrigger","React.useState","valueNode","setValueNode","valueNodeHasChildren","setValueNodeHasChildren","direction","useDirection","open","setOpen","useControllableState","value","setValue","triggerPointerDownPosRef","isFormControl","nativeOptionsSet","setNativeOptionsSet","nativeSelectKey","option","PopperPrimitive.Root","useId","React.useCallback","prev","optionsSet","SelectBubbleInput","SelectTrigger","context","isDisabled","getItems","pointerTypeRef","searchRef","handleTypeaheadSearch","resetTypeahead","useTypeaheadSearch","search","enabledItems","item","currentItem","nextItem","findNextItem","handleOpen","pointerEvent","PopperPrimitive.Anchor","Primitive","shouldShowPlaceholder","target","isTypingAhead","VALUE_NAME","SelectValue","style","placeholder","valueProps","onValueNodeHasChildrenChange","hasChildren","useLayoutEffect","Fragment","ICON_NAME","SelectIcon","iconProps","SelectPortal","PortalPrimitive","SelectContent","fragment","setFragment","frag","ReactDOM.createPortal","SelectContentProvider","SelectContentImpl","CONTENT_MARGIN","useSelectContentContext","CONTENT_IMPL_NAME","Slot","createSlot","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions","content","setContent","viewport","setViewport","node","selectedItem","setSelectedItem","selectedItemText","setSelectedItemText","isPositioned","setIsPositioned","firstValidItemFoundRef","hideOthers","useFocusGuards","focusFirst","candidates","firstItem","restItems","lastItem","PREVIOUSLY_FOCUSED_ELEMENT","candidate","focusSelectedItem","pointerMoveDelta","handlePointerMove","handlePointerUp","close","itemRefCallback","isFirstValidItem","handleItemLeave","itemTextRefCallback","SelectPosition","SelectPopperPosition","SelectItemAlignedPosition","popperContentProps","RemoveScroll","FocusScope","DismissableLayer","isModifierKey","candidateNodes","currentElement","currentIndex","ITEM_ALIGNED_POSITION_NAME","onPlaced","popperProps","contentContext","contentWrapper","setContentWrapper","shouldExpandOnScrollRef","shouldRepositionRef","triggerRect","contentRect","valueNodeRect","itemTextRect","itemTextOffset","left","leftDelta","minContentWidth","contentWidth","rightEdge","clampedLeft","clamp","right","rightDelta","leftEdge","clampedRight","items","availableHeight","itemsHeight","contentStyles","contentBorderTopWidth","contentPaddingTop","contentBorderBottomWidth","contentPaddingBottom","fullContentHeight","minContentHeight","viewportStyles","viewportPaddingTop","viewportPaddingBottom","topEdgeToTriggerMiddle","triggerMiddleToBottomEdge","selectedItemHalfHeight","itemOffsetMiddle","contentTopToItemMiddle","itemMiddleToContentBottom","isLastItem","viewportOffsetBottom","clampedTriggerMiddleToBottomEdge","height","isFirstItem","contentZIndex","setContentZIndex","handleScrollButtonChange","SelectViewportProvider","POPPER_POSITION_NAME","PopperPrimitive.Content","useSelectViewportContext","VIEWPORT_NAME","SelectViewport","nonce","viewportProps","viewportContext","prevScrollTopRef","scrolledBy","cssMinHeight","cssHeight","prevHeight","nextHeight","clampedNextHeight","heightDiff","GROUP_NAME","SelectGroupContextProvider","useSelectGroupContext","SelectGroup","groupProps","groupId","LABEL_NAME","SelectLabel","labelProps","groupContext","ITEM_NAME","SelectItemContextProvider","useSelectItemContext","SelectItem","textValueProp","itemProps","textValue","setTextValue","isFocused","setIsFocused","textId","handleSelect","prevTextValue","ITEM_TEXT_NAME","SelectItemText","itemTextProps","itemContext","nativeOptionsContext","itemTextNode","setItemTextNode","textContent","nativeOption","React.useMemo","onNativeOptionAdd","onNativeOptionRemove","ITEM_INDICATOR_NAME","SelectItemIndicator","itemIndicatorProps","SCROLL_UP_BUTTON_NAME","SelectScrollUpButton","canScrollUp","setCanScrollUp","handleScroll2","canScrollUp2","SelectScrollButtonImpl","SCROLL_DOWN_BUTTON_NAME","SelectScrollDownButton","canScrollDown","setCanScrollDown","maxScroll","canScrollDown2","onAutoScroll","scrollIndicatorProps","autoScrollTimerRef","clearAutoScrollTimer","SEPARATOR_NAME","SelectSeparator","separatorProps","ARROW_NAME","SelectArrow","arrowProps","PopperPrimitive.Arrow","BUBBLE_INPUT_NAME","prevValue","usePrevious","select","selectProto","VISUALLY_HIDDEN_STYLES","onSearchChange","handleSearchChange","useCallbackRef","timerRef","key","updateSearch","normalizedSearch","char","currentItemIndex","wrappedItems","wrapArray","v","array","startIndex","_","index","Trigger","Value","Icon","Portal","Viewport","Item","ItemText","ItemIndicator","ScrollUpButton","ScrollDownButton","SelectPrimitive.Root","SelectPrimitive.Value","size","SelectPrimitive.Trigger","SelectPrimitive.Icon","ChevronDownIcon","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","CheckIcon","SelectPrimitive.ItemText","SelectPrimitive.ScrollUpButton","ChevronUpIcon","SelectPrimitive.ScrollDownButton","LlmProvidersHeader","defaultProviderId","onDefaultProviderChange","onAddProvider","ProductLogoSvg","Plus","isCheckBoxInput","element","isDateObject","isNullOrUndefined","isObjectType","isObject","getEventValue","getNodeParentName","isNameInFieldArray","names","isPlainObject","tempObject","prototypeCopy","isWeb","cloneObject","data","isFileListInstance","isArray","copy","isKey","isUndefined","val","compact","stringToPath","input","get","object","path","isBoolean","isFunction","set","tempPath","length","lastIndex","newValue","objValue","EVENTS","VALIDATION_MODE","INPUT_VALIDATION_RULES","HookFormContext","React","useFormContext","FormProvider","getProxyFormState","formState","control","localProxyFormState","isRoot","_key","useIsomorphicLayoutEffect","useFormState","methods","exact","updateFormState","_localProxyFormState","isString","generateWatchOutput","_names","formValues","isGlobal","fieldName","isPrimitive","deepEqual","object1","object2","_internal_visited","keys1","keys2","val1","val2","useWatch","compute","_defaultValue","_compute","_computeFormValues","_prevControl","_prevName","updateValue","getCurrentOutput","values","refreshValue","computedFormValues","controlChanged","prevName","computedOutput","nameChanged","useController","shouldUnregister","isArrayField","defaultValueMemo","_props","_previousNameRef","_registerProps","fieldState","onChange","onBlur","elm","field","message","_shouldUnregisterField","previousName","updateMounted","Controller","appendErrors","validateAllFieldCriteria","errors","type","convertToArrayPayload","createSubject","_observers","observer","extractFormValues","fieldsState","fieldValue","nestedFieldsState","isEmptyObject","isFileInput","isHTMLElement","owner","isMultipleSelect","isRadioInput","isRadioOrCheckbox","live","baseGet","updatePath","isEmptyArray","obj","unset","paths","childObject","objectHasFunction","isTraversable","markFieldsDirty","fields","getDirtyFields","dirtyFieldsFromValues","formValue","defaultResult","validResult","getCheckboxValue","options","getFieldValueAs","valueAsNumber","valueAsDate","setValueAs","defaultReturn","getRadioValue","previous","getFieldValue","_f","getResolverOptions","fieldsNames","_fields","criteriaMode","shouldUseNativeValidation","isRegex","getRuleValue","rule","getValidationModes","mode","ASYNC_FUNCTION","hasPromiseValidation","fieldReference","validateFunction","hasValidation","isWatched","isBlurEvent","watchName","iterateFieldsByAction","action","abortEarly","currentField","schemaErrorLookup","foundError","shouldRenderFormState","formStateData","_proxyFormState","shouldSubscribeByName","signalName","currentName","skipValidation","isTouched","isSubmitted","reValidateMode","unsetEmptyArray","updateFieldArrayRootError","fieldArrayErrors","getValidateError","getValueAndMessage","validationData","validateField","disabledFieldNames","isFieldArray","refs","maxLength","minLength","min","max","pattern","validate","mount","inputValue","inputRef","setCustomValidity","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueNumber","valueDate","convertTimeToDate","time","isTime","isWeek","maxLengthOutput","minLengthOutput","patternValue","validateError","validationResult","defaultOptions","createFormControl","_options","_formState","_defaultValues","_formValues","_state","delayErrorCallback","timer","defaultProxyFormState","_proxySubscribeFormState","_subjects","shouldDisplayAllAssociatedErrors","debounce","callback","wait","_setValid","shouldUpdateValid","isValid","_runSchema","_updateIsValidating","executeBuiltInValidation","isValidating","_setFieldArray","method","args","shouldSetValues","shouldUpdateFieldsAndState","fieldValues","touchedFields","_getDirty","updateErrors","_setErrors","updateValidAndValue","shouldSkipSetValueAs","setFieldValue","updateTouchAndDirty","shouldDirty","shouldRender","shouldUpdateField","isPreviousDirty","output","isCurrentFieldPristine","isPreviousFieldTouched","shouldRenderByError","previousFieldError","updatedFormState","executeSchemaAndUpdateState","shouldOnlyCheckValid","isFieldArrayRoot","isPromiseFunction","fieldError","_removeUnmounted","unregister","getValues","_getWatch","_getFieldArray","optionRef","checkboxRef","radioRef","setValues","fieldKey","cloneValue","isFieldValueUpdated","_updateIsFieldValueUpdated","validationModeBeforeSubmit","validationModeAfterSubmit","shouldSkipValidation","watched","previousErrorLookupResult","errorLookupResult","_focusInput","fieldNames","config","getFieldState","clearErrors","inputName","setError","currentError","currentRef","restOfErrorTree","watch","payload","_subscribe","_setFormState","subscribe","_setDisabledField","register","disabledIsDefined","fieldRef","radioOrCheckbox","_focusError","_disableForm","handleSubmit","onValid","onInvalid","e","onValidError","resetField","_reset","keepStateOptions","updatedValues","cloneUpdatedValues","isEmptyResetValues","fieldsToCheck","reset","setFocus","useForm","_formControl","_values","formControl","rest","sub","isDirty","_a","state","r","o","s","t","n","f","c","i","$constructor","initializer","params","init","inst","def","k","Parent","Definition","fn","$ZodAsyncError","globalConfig","newConfig","jsonStringifyReplacer","captureStackTrace","_args","unwrapMessage","finalizeIssue","iss","ctx","full","util.jsonStringifyReplacer","$ZodError","$ZodRealError","_parse","_Err","schema","_ctx","_params","core.$ZodAsyncError","util.finalizeIssue","core.config","util.captureStackTrace","parse","errors.$ZodRealError","_parseAsync","parseAsync","a","u","n.parse","n.parseAsync","n.$ZodError","Form","FormFieldContext","React.createContext","FormField","useFormField","fieldContext","React.useContext","FormItemContext","id","FormItem","React.useId","FormLabel","formItemId","Label","FormControl","formDescriptionId","formMessageId","FormDescription","FormMessage","body","providerTemplates","providerTypeOptions","getProviderTemplate","DEFAULT_BASE_URLS","getDefaultBaseUrlForProviders","MODELS_DATA","getModelsForProvider","providerType","getModelOptions","modelIds","m","getModelContextLength","modelId","providerTypeEnum","z.enum","providerFormSchema","z.object","z.string","z.boolean","z.number","z.ZodIssueCode","NewProviderDialog","initialValues","onSave","isCustomModel","setIsCustomModel","useState","setIsTesting","testResult","setTestResult","supports","useCapabilities","useAgentServerUrl","filteredProviderTypeOptions","opt","Feature","zodResolver","watchedType","watchedModelId","watchedApiKey","watchedBaseUrl","watchedResourceName","watchedAccessKeyId","watchedSecretAccessKey","watchedRegion","watchedSessionToken","useEffect","modelOptions","handleTypeChange","newType","defaultUrl","contextLength","handleModelChange","defaultType","onSubmit","isNewProvider","track","AI_PROVIDER_ADDED_EVENT","canTest","handleTest","providerTemplate","setupGuideUrl","providerName","handleSetupGuideClick","renderProviderSpecificFields","Input","isApiKeyOptional","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Checkbox","CheckCircle2","XCircle","DialogFooter","ProviderTemplateCard","template","onUseTemplate","ProviderTemplatesSection","filteredTemplates","Collapsible","CollapsibleTrigger","ChevronDown","CollapsibleContent","AISettingsPage","saveProvider","setDefaultProvider","deleteProvider","useLlmProviders","isNewDialogOpen","setIsNewDialogOpen","isEditDialogOpen","setIsEditDialogOpen","templateValues","setTemplateValues","editingProvider","setEditingProvider","providerToDelete","setProviderToDelete","setTestingProviderId","handleAddProvider","handleUseTemplate","handleEditProvider","handleDeleteProvider","confirmDeleteProvider","handleSaveProvider","handleSelectProvider","providerId","handleTestProvider","toast","formSchema","AddCustomMCPDialog","onAddServer","handleOpenChange","isOpen","Textarea","AddManagedMCPDialog","serversList","handleAddServer","serverName","description","AvailableManagedServers","availableServers","isLoading","setIsOpen","startTransition","IS_REACT_LEGACY","cb","useStateWithDeps","initialState","rerender","unmountedRef","useRef","stateRef","stateDependenciesRef","setState","useCallback","shouldRerender","currentState","mutation","fetcher","mutate","useSWRConfig","keyRef","fetcherRef","configRef","ditchMutationsUntilRef","stateDependencies","UNDEFINED","arg","opts","serializedKey","resolvedKey","serialize","mergeObjects","mutationStartedAt","getTimestamp","useSWRMutation","withMiddleware","useSWR","addManagedServer","url","response","errorData","useAddManagedServer","getAllManagedServers","hostUrl","useGetMCPServersList","getUserMCPIntegrations","useGetUserMCPIntegrations","removeManagedServer","useRemoveManagedServer","failedToAddMcp","sentry","failedToRemoveMcp","ConnectMCP","createdServers","addServer","removeServer","useMcpServers","addingManagedMcp","setAddingManagedMcp","addingCustomMcp","setAddingCustomMcp","deletingServerId","setDeletingServerId","addManagedServerMutation","removeManagedServerMutation","userMCPIntegrations","isUserMCPIntegrationsLoading","openAuthUrlForMCP","mcpName","authUrl","MANAGED_MCP_ADDED_EVENT","deleteManagedServer","addCustomServer","CUSTOM_MCP_ADDED_EVENT","eachServer","server","CustomizationHeader","SWITCH_NAME","createSwitchContext","SwitchProvider","useSwitchContext","Switch","__scopeSwitch","checkedProp","defaultChecked","onCheckedChange","switchProps","button","setButton","hasConsumerStoppedPropagationRef","checked","setChecked","getState","prevChecked","SwitchBubbleInput","THUMB_NAME","SwitchThumb","thumbProps","bubbles","controlSize","useSize","inputProto","Root","Thumb","SwitchPrimitive.Root","SwitchPrimitive.Thumb","ToolbarSettingsCard","showLlmChat","setShowLlmChat","showLlmHub","setShowLlmHub","showToolbarLabels","setShowToolbarLabels","setIsLoading","adapter","getBrowserOSAdapter","chatPref","hubPref","labelsPref","BROWSEROS_PREFS","handleToggle","prefKey","setter","CustomizationPage","MessageBubble","isUser","MessageResponse","JTBDAgentChat","messages","isStreaming","onSendMessage","onStop","setInput","messagesEndRef","messagesLength","handleKeyDown","msg","Send","JTBDAgentHeader","JTBDAgentWelcome","onStart","Sparkles","JTBD_API_URL","EXPERIMENT_ID","getInstallId","pref","INTERVIEW_COMPLETE_MARKER","streamSSE","reader","decoder","buffer","done","lines","line","useJTBDAgentChat","phase","setPhase","setMessages","setIsStreaming","sessionIdRef","abortControllerRef","appendMessage","updateLastMessage","updated","start","assistantMsgId","installId","newSessionId","err","accumulated","chunk","respond","text","userMsgId","isComplete","stop","ThankYouCard","onReset","ErrorCard","onRetry","AlertCircle","JTBDAgentPage","chat","navigationItems","Bot","MessageSquare","Search","DashboardLayout","location","useLocation","sidebarOpen","setSidebarOpen","SETTINGS_PAGE_VIEWED_EVENT","X","ThemeToggle","isActive","NavLink","Info","Outlet","DEFAULT_PROVIDERS","loadProviders","saveProviders","getFaviconUrl","normalized","useLlmHubProviders","setProviders","editIndex","updatedProviders","p","AddHubProviderDialog","isEditing","HUB_PROVIDER_ADDED_EVENT","HubProviderRow","canDelete","iconUrl","useMemo","Globe2","HubProvidersList","LlmHubHeader","LlmHubPage","isAddDialogOpen","setIsAddDialogOpen","editingIndex","setEditingIndex","deleteIndex","setDeleteIndex","confirmDelete","sendMessage","defineExtensionMessaging","DOCS_URL","MCPServerHeader","serverUrl","isCopied","setIsCopied","handleCopy","Copy","MCPToolsSection","tools","onRefresh","RefreshCw","tool","alertVariants","cva","Alert","variant","AlertTitle","AlertDescription","HEALTH_CHECK_TIMEOUT_MS","HEALTH_CHECK_INTERVAL_MS","LONG_WAIT_THRESHOLD_MS","ServerSettingsCard","onServerRestart","allowRemote","setAllowRemote","isRestarting","setIsRestarting","restartMessage","setRestartMessage","dialogType","setDialogType","serverError","setServerError","checkServerHealth","sendServerMessage","waitForServerRestart","resolve","checkHealth","elapsed","handleToggleChange","performToggle","MCP_EXTERNAL_ACCESS_ENABLED_EVENT","MCP_EXTERNAL_ACCESS_DISABLED_EVENT","handleRestartClick","performRestart","MCP_SERVER_RESTARTED_EVENT","Settings","MCPSettingsPage","setServerUrl","urlLoading","setUrlLoading","urlError","setUrlError","setTools","toolsLoading","setToolsLoading","toolsError","setToolsError","loadServerUrlAndTools","getMcpServerUrl","errorMsg","handleRefreshTools","NewScheduledTaskDialog","scheduleType","ScheduledTasksHeader","onAddClick","dayjs","relativeTime","duration","formatSchedule","job","formatRelativeTime","dateStr","formatDuration","startedAt","completedAt","diff","d","mins","secs","formatRunDate","ScheduledTaskCard","onToggle","onRun","onViewRun","jobRuns","useScheduledJobRuns","runs","run","b","ScheduledTasksList","jobs","enabled","ScheduledTasksPage","addJob","editJob","toggleJob","removeJob","runJob","useScheduledJobs","isDialogOpen","setIsDialogOpen","editingJob","setEditingJob","deleteJobId","setDeleteJobId","viewingRun","setViewingRun","handleAdd","handleEdit","handleDelete","jobId","SCHEDULED_TASK_DELETED_EVENT","handleSave","SCHEDULED_TASK_EDITED_EVENT","NEW_SCHEDULED_TASK_CREATED_EVENT","SCHEDULED_TASK_TOGGLED_EVENT","handleRun","SCHEDULED_TASK_TESTED_EVENT","handleViewRun","SCHEDULED_TASK_VIEW_RESULTS_EVENT","jobToDelete","j","RunResultDialog","getInitialRoute","App","initialRoute","HashRouter","Routes","Route","Navigate","$root","ReactDOM","sentryRootErrorHandler","AnalyticsProvider","ThemeProvider","Toaster"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,23,24,25,26,27,28,29,40,47]}