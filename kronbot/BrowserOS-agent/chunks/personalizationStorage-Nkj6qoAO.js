import{c as Pe,r as n,u as O,R as We,P as Ye,O as Je,C as Xe,b as U,j as i,a as S,S as Ze,d as Qe,e as et,f as ke,h as Ee,i as K,k as Re,l as tt,m as rt,n as nt,o as ot,p as at,F as st,D as lt,q as ct,s as it}from"./product_logo-CblUR3bH.js";import{P as A,c as Se,R as ut,A as je,C as dt,a as ft}from"./mermaid-NA5CF7SZ-DoFU6Vfk.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"850560cdfb5607663c662c646ed9e0458a773f78"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="6339e73c-4a45-4c82-95dc-81f5a46b0ee1",e._sentryDebugIdIdentifier="sentry-dbid-6339e73c-4a45-4c82-95dc-81f5a46b0ee1")})()}catch{}const pt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mr=Pe("file-text",pt);const mt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vt=Pe("globe",mt);var we=1,ht=.9,gt=.8,bt=.17,se=.1,le=.999,xt=.9999,wt=.99,yt=/[\\\/_+.#"@\[\(\{&]/,Ct=/[\\\/_+.#"@\[\(\{&]/g,Pt=/[\s-]/,Ae=/[\s-]/g;function ie(e,r,t,l,a,s,c){if(s===r.length)return a===e.length?we:wt;var u=`${a},${s}`;if(c[u]!==void 0)return c[u];for(var v=l.charAt(s),d=t.indexOf(v,a),p=0,g,w,C,R;d>=0;)g=ie(e,r,t,l,d+1,s+1,c),g>p&&(d===a?g*=we:yt.test(e.charAt(d-1))?(g*=gt,C=e.slice(a,d-1).match(Ct),C&&a>0&&(g*=Math.pow(le,C.length))):Pt.test(e.charAt(d-1))?(g*=ht,R=e.slice(a,d-1).match(Ae),R&&a>0&&(g*=Math.pow(le,R.length))):(g*=bt,a>0&&(g*=Math.pow(le,d-a))),e.charAt(d)!==r.charAt(s)&&(g*=xt)),(g<se&&t.charAt(d-1)===l.charAt(s+1)||l.charAt(s+1)===l.charAt(s)&&t.charAt(d-1)!==l.charAt(s))&&(w=ie(e,r,t,l,d+1,s+2,c),w*se>g&&(g=w*se)),g>p&&(p=g),d=t.indexOf(v,d+1);return c[u]=p,p}function ye(e){return e.toLowerCase().replace(Ae," ")}function kt(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ie(e,r,ye(e),ye(r),0,0,{})}var V='[cmdk-group=""]',ce='[cmdk-group-items=""]',Et='[cmdk-group-heading=""]',Ie='[cmdk-item=""]',Ce=`${Ie}:not([aria-disabled="true"])`,ue="cmdk-item-select",D="data-value",Rt=(e,r,t)=>kt(e,r,t),Ne=n.createContext(void 0),q=()=>n.useContext(Ne),_e=n.createContext(void 0),de=()=>n.useContext(_e),Oe=n.createContext(void 0),Me=n.forwardRef((e,r)=>{let t=F(()=>{var o,m;return{search:"",value:(m=(o=e.value)!=null?o:e.defaultValue)!=null?m:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=F(()=>new Set),a=F(()=>new Map),s=F(()=>new Map),c=F(()=>new Set),u=Te(e),{label:v,children:d,value:p,onValueChange:g,filter:w,shouldFilter:C,loop:R,disablePointerSelection:X=!1,vimBindings:N=!0,...H}=e,Z=O(),pe=O(),Q=O(),_=n.useRef(null),y=Ft();M(()=>{if(p!==void 0){let o=p.trim();t.current.value=o,k.emit()}},[p]),M(()=>{y(6,ve)},[]);let k=n.useMemo(()=>({subscribe:o=>(c.current.add(o),()=>c.current.delete(o)),snapshot:()=>t.current,setState:(o,m,h)=>{var f,b,x,E;if(!Object.is(t.current[o],m)){if(t.current[o]=m,o==="search")ne(),te(),y(1,re);else if(o==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let P=document.getElementById(Q);P?P.focus():(f=document.getElementById(Z))==null||f.focus()}if(y(7,()=>{var P;t.current.selectedItemId=(P=T())==null?void 0:P.id,k.emit()}),h||y(5,ve),((b=u.current)==null?void 0:b.value)!==void 0){let P=m??"";(E=(x=u.current).onValueChange)==null||E.call(x,P);return}}k.emit()}},emit:()=>{c.current.forEach(o=>o())}}),[]),ee=n.useMemo(()=>({value:(o,m,h)=>{var f;m!==((f=s.current.get(o))==null?void 0:f.value)&&(s.current.set(o,{value:m,keywords:h}),t.current.filtered.items.set(o,me(m,h)),y(2,()=>{te(),k.emit()}))},item:(o,m)=>(l.current.add(o),m&&(a.current.has(m)?a.current.get(m).add(o):a.current.set(m,new Set([o]))),y(3,()=>{ne(),te(),t.current.value||re(),k.emit()}),()=>{s.current.delete(o),l.current.delete(o),t.current.filtered.items.delete(o);let h=T();y(4,()=>{ne(),h?.getAttribute("id")===o&&re(),k.emit()})}),group:o=>(a.current.has(o)||a.current.set(o,new Set),()=>{s.current.delete(o),a.current.delete(o)}),filter:()=>u.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:Z,inputId:Q,labelId:pe,listInnerRef:_}),[]);function me(o,m){var h,f;let b=(f=(h=u.current)==null?void 0:h.filter)!=null?f:Rt;return o?b(o,t.current.search,m):0}function te(){if(!t.current.search||u.current.shouldFilter===!1)return;let o=t.current.filtered.items,m=[];t.current.filtered.groups.forEach(f=>{let b=a.current.get(f),x=0;b.forEach(E=>{let P=o.get(E);x=Math.max(P,x)}),m.push([f,x])});let h=_.current;z().sort((f,b)=>{var x,E;let P=f.getAttribute("id"),B=b.getAttribute("id");return((x=o.get(B))!=null?x:0)-((E=o.get(P))!=null?E:0)}).forEach(f=>{let b=f.closest(ce);b?b.appendChild(f.parentElement===b?f:f.closest(`${ce} > *`)):h.appendChild(f.parentElement===h?f:f.closest(`${ce} > *`))}),m.sort((f,b)=>b[1]-f[1]).forEach(f=>{var b;let x=(b=_.current)==null?void 0:b.querySelector(`${V}[${D}="${encodeURIComponent(f[0])}"]`);x?.parentElement.appendChild(x)})}function re(){let o=z().find(h=>h.getAttribute("aria-disabled")!=="true"),m=o?.getAttribute(D);k.setState("value",m||void 0)}function ne(){var o,m,h,f;if(!t.current.search||u.current.shouldFilter===!1){t.current.filtered.count=l.current.size;return}t.current.filtered.groups=new Set;let b=0;for(let x of l.current){let E=(m=(o=s.current.get(x))==null?void 0:o.value)!=null?m:"",P=(f=(h=s.current.get(x))==null?void 0:h.keywords)!=null?f:[],B=me(E,P);t.current.filtered.items.set(x,B),B>0&&b++}for(let[x,E]of a.current)for(let P of E)if(t.current.filtered.items.get(P)>0){t.current.filtered.groups.add(x);break}t.current.filtered.count=b}function ve(){var o,m,h;let f=T();f&&(((o=f.parentElement)==null?void 0:o.firstChild)===f&&((h=(m=f.closest(V))==null?void 0:m.querySelector(Et))==null||h.scrollIntoView({block:"nearest"})),f.scrollIntoView({block:"nearest"}))}function T(){var o;return(o=_.current)==null?void 0:o.querySelector(`${Ie}[aria-selected="true"]`)}function z(){var o;return Array.from(((o=_.current)==null?void 0:o.querySelectorAll(Ce))||[])}function oe(o){let m=z()[o];m&&k.setState("value",m.getAttribute(D))}function ae(o){var m;let h=T(),f=z(),b=f.findIndex(E=>E===h),x=f[b+o];(m=u.current)!=null&&m.loop&&(x=b+o<0?f[f.length-1]:b+o===f.length?f[0]:f[b+o]),x&&k.setState("value",x.getAttribute(D))}function he(o){let m=T(),h=m?.closest(V),f;for(;h&&!f;)h=o>0?Tt(h,V):Dt(h,V),f=h?.querySelector(Ce);f?k.setState("value",f.getAttribute(D)):ae(o)}let ge=()=>oe(z().length-1),be=o=>{o.preventDefault(),o.metaKey?ge():o.altKey?he(1):ae(1)},xe=o=>{o.preventDefault(),o.metaKey?oe(0):o.altKey?he(-1):ae(-1)};return n.createElement(A.div,{ref:r,tabIndex:-1,...H,"cmdk-root":"",onKeyDown:o=>{var m;(m=H.onKeyDown)==null||m.call(H,o);let h=o.nativeEvent.isComposing||o.keyCode===229;if(!(o.defaultPrevented||h))switch(o.key){case"n":case"j":{N&&o.ctrlKey&&be(o);break}case"ArrowDown":{be(o);break}case"p":case"k":{N&&o.ctrlKey&&xe(o);break}case"ArrowUp":{xe(o);break}case"Home":{o.preventDefault(),oe(0);break}case"End":{o.preventDefault(),ge();break}case"Enter":{o.preventDefault();let f=T();if(f){let b=new Event(ue);f.dispatchEvent(b)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:ee.inputId,id:ee.labelId,style:Lt},v),Y(e,o=>n.createElement(_e.Provider,{value:k},n.createElement(Ne.Provider,{value:ee},o))))}),St=n.forwardRef((e,r)=>{var t,l;let a=O(),s=n.useRef(null),c=n.useContext(Oe),u=q(),v=Te(e),d=(l=(t=v.current)==null?void 0:t.forceMount)!=null?l:c?.forceMount;M(()=>{if(!d)return u.item(a,c?.id)},[d]);let p=De(a,s,[e.value,e.children,s],e.keywords),g=de(),w=j(y=>y.value&&y.value===p.current),C=j(y=>d||u.filter()===!1?!0:y.search?y.filtered.items.get(a)>0:!0);n.useEffect(()=>{let y=s.current;if(!(!y||e.disabled))return y.addEventListener(ue,R),()=>y.removeEventListener(ue,R)},[C,e.onSelect,e.disabled]);function R(){var y,k;X(),(k=(y=v.current).onSelect)==null||k.call(y,p.current)}function X(){g.setState("value",p.current,!0)}if(!C)return null;let{disabled:N,value:H,onSelect:Z,forceMount:pe,keywords:Q,..._}=e;return n.createElement(A.div,{ref:U(s,r),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!w,"data-disabled":!!N,"data-selected":!!w,onPointerMove:N||u.getDisablePointerSelection()?void 0:X,onClick:N?void 0:R},e.children)}),jt=n.forwardRef((e,r)=>{let{heading:t,children:l,forceMount:a,...s}=e,c=O(),u=n.useRef(null),v=n.useRef(null),d=O(),p=q(),g=j(C=>a||p.filter()===!1?!0:C.search?C.filtered.groups.has(c):!0);M(()=>p.group(c),[]),De(c,u,[e.value,e.heading,v]);let w=n.useMemo(()=>({id:c,forceMount:a}),[a]);return n.createElement(A.div,{ref:U(u,r),...s,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&n.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),Y(e,C=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},n.createElement(Oe.Provider,{value:w},C))))}),At=n.forwardRef((e,r)=>{let{alwaysRender:t,...l}=e,a=n.useRef(null),s=j(c=>!c.search);return!t&&!s?null:n.createElement(A.div,{ref:U(a,r),...l,"cmdk-separator":"",role:"separator"})}),It=n.forwardRef((e,r)=>{let{onValueChange:t,...l}=e,a=e.value!=null,s=de(),c=j(d=>d.search),u=j(d=>d.selectedItemId),v=q();return n.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),n.createElement(A.input,{ref:r,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":u,id:v.inputId,type:"text",value:a?e.value:c,onChange:d=>{a||s.setState("search",d.target.value),t?.(d.target.value)}})}),Nt=n.forwardRef((e,r)=>{let{children:t,label:l="Suggestions",...a}=e,s=n.useRef(null),c=n.useRef(null),u=j(d=>d.selectedItemId),v=q();return n.useEffect(()=>{if(c.current&&s.current){let d=c.current,p=s.current,g,w=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let C=d.offsetHeight;p.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return w.observe(d),()=>{cancelAnimationFrame(g),w.unobserve(d)}}},[]),n.createElement(A.div,{ref:U(s,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":l,id:v.listId},Y(e,d=>n.createElement("div",{ref:U(c,v.listInnerRef),"cmdk-list-sizer":""},d)))}),_t=n.forwardRef((e,r)=>{let{open:t,onOpenChange:l,overlayClassName:a,contentClassName:s,container:c,...u}=e;return n.createElement(We,{open:t,onOpenChange:l},n.createElement(Ye,{container:c},n.createElement(Je,{"cmdk-overlay":"",className:a}),n.createElement(Xe,{"aria-label":e.label,"cmdk-dialog":"",className:s},n.createElement(Me,{ref:r,...u}))))}),Ot=n.forwardRef((e,r)=>j(t=>t.filtered.count===0)?n.createElement(A.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Mt=n.forwardRef((e,r)=>{let{progress:t,children:l,label:a="Loading...",...s}=e;return n.createElement(A.div,{ref:r,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Y(e,c=>n.createElement("div",{"aria-hidden":!0},c)))}),L=Object.assign(Me,{List:Nt,Item:St,Input:It,Group:jt,Separator:At,Dialog:_t,Empty:Ot,Loading:Mt});function Tt(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function Dt(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function Te(e){let r=n.useRef(e);return M(()=>{r.current=e}),r}var M=typeof window>"u"?n.useEffect:n.useLayoutEffect;function F(e){let r=n.useRef();return r.current===void 0&&(r.current=e()),r}function j(e){let r=de(),t=()=>e(r.snapshot());return n.useSyncExternalStore(r.subscribe,t,t)}function De(e,r,t,l=[]){let a=n.useRef(),s=q();return M(()=>{var c;let u=(()=>{var d;for(let p of t){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(d=p.current.textContent)==null?void 0:d.trim():a.current}})(),v=l.map(d=>d.trim());s.value(e,u,v),(c=r.current)==null||c.setAttribute(D,u),a.current=u}),a}var Ft=()=>{let[e,r]=n.useState(),t=F(()=>new Map);return M(()=>{t.current.forEach(l=>l()),t.current=new Map},[e]),(l,a)=>{t.current.set(l,a),r({})}};function $t(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Y({asChild:e,children:r},t){return e&&n.isValidElement(r)?n.cloneElement($t(r),{ref:r.ref},t(r.props.children)):t(r)}var Lt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function zt({className:e,...r}){return i.jsx(L,{"data-slot":"command",className:S("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r})}function Vt({className:e,...r}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(Ze,{className:"size-4 shrink-0 text-muted-foreground opacity-50"}),i.jsx(L.Input,{"data-slot":"command-input",className:S("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function Kt({className:e,...r}){return i.jsx(L.List,{"data-slot":"command-list",className:S("styled-scrollbar max-h-[300px] scroll-py-1 overflow-y-auto overflow-x-hidden",e),...r})}function Ut({...e}){return i.jsx(L.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function qt({className:e,...r}){return i.jsx(L.Group,{"data-slot":"command-group",className:S("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:text-xs",e),...r})}function Gt({className:e,...r}){return i.jsx(L.Item,{"data-slot":"command-item",className:S("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r})}var J="Popover",[Fe]=et(J,[Se]),G=Se(),[Ht,I]=Fe(J),$e=e=>{const{__scopePopover:r,children:t,open:l,defaultOpen:a,onOpenChange:s,modal:c=!1}=e,u=G(r),v=n.useRef(null),[d,p]=n.useState(!1),[g,w]=Qe({prop:l,defaultProp:a??!1,onChange:s,caller:J});return i.jsx(ut,{...u,children:i.jsx(Ht,{scope:r,contentId:O(),triggerRef:v,open:g,onOpenChange:w,onOpenToggle:n.useCallback(()=>w(C=>!C),[w]),hasCustomAnchor:d,onCustomAnchorAdd:n.useCallback(()=>p(!0),[]),onCustomAnchorRemove:n.useCallback(()=>p(!1),[]),modal:c,children:t})})};$e.displayName=J;var Le="PopoverAnchor",ze=n.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=I(Le,t),s=G(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=a;return n.useEffect(()=>(c(),()=>u()),[c,u]),i.jsx(je,{...s,...l,ref:r})});ze.displayName=Le;var Ve="PopoverTrigger",Ke=n.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=I(Ve,t),s=G(t),c=ke(r,a.triggerRef),u=i.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Be(a.open),...l,ref:c,onClick:K(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:i.jsx(je,{asChild:!0,...s,children:u})});Ke.displayName=Ve;var fe="PopoverPortal",[Bt,Wt]=Fe(fe,{forceMount:void 0}),Ue=e=>{const{__scopePopover:r,forceMount:t,children:l,container:a}=e,s=I(fe,r);return i.jsx(Bt,{scope:r,forceMount:t,children:i.jsx(Re,{present:t||s.open,children:i.jsx(tt,{asChild:!0,container:a,children:l})})})};Ue.displayName=fe;var $="PopoverContent",qe=n.forwardRef((e,r)=>{const t=Wt($,e.__scopePopover),{forceMount:l=t.forceMount,...a}=e,s=I($,e.__scopePopover);return i.jsx(Re,{present:l||s.open,children:s.modal?i.jsx(Jt,{...a,ref:r}):i.jsx(Xt,{...a,ref:r})})});qe.displayName=$;var Yt=ot("PopoverContent.RemoveScroll"),Jt=n.forwardRef((e,r)=>{const t=I($,e.__scopePopover),l=n.useRef(null),a=ke(r,l),s=n.useRef(!1);return n.useEffect(()=>{const c=l.current;if(c)return rt(c)},[]),i.jsx(nt,{as:Yt,allowPinchZoom:!0,children:i.jsx(Ge,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,c=>{c.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,v=u.button===0&&u.ctrlKey===!0,d=u.button===2||v;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:K(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xt=n.forwardRef((e,r)=>{const t=I($,e.__scopePopover),l=n.useRef(!1),a=n.useRef(!1);return i.jsx(Ge,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||t.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;t.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Ge=n.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:l,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:v,onFocusOutside:d,onInteractOutside:p,...g}=e,w=I($,t),C=G(t);return at(),i.jsx(st,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(lt,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:v,onFocusOutside:d,onDismiss:()=>w.onOpenChange(!1),children:i.jsx(dt,{"data-state":Be(w.open),role:"dialog",id:w.contentId,...C,...g,ref:r,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),He="PopoverClose",Zt=n.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=I(He,t);return i.jsx(Ee.button,{type:"button",...l,ref:r,onClick:K(e.onClick,()=>a.onOpenChange(!1))})});Zt.displayName=He;var Qt="PopoverArrow",er=n.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=G(t);return i.jsx(ft,{...a,...l,ref:r})});er.displayName=Qt;function Be(e){return e?"open":"closed"}var tr=$e,rr=ze,nr=Ke,or=Ue,ar=qe;function sr({...e}){return i.jsx(tr,{"data-slot":"popover",...e})}function lr({...e}){return i.jsx(nr,{"data-slot":"popover-trigger",...e})}function cr({className:e,align:r="center",sideOffset:t=4,...l}){return i.jsx(or,{children:i.jsx(ar,{"data-slot":"popover-content",align:r,sideOffset:t,className:S("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",e),...l})})}function vr({...e}){return i.jsx(rr,{"data-slot":"popover-anchor",...e})}const ir=({tab:e,isSelected:r,className:t})=>i.jsxs("div",{className:S("flex w-full cursor-pointer items-center gap-3 rounded-lg p-2.5 transition-colors",t),children:[i.jsx("div",{className:S("flex h-5 w-5 flex-shrink-0 items-center justify-center rounded border transition-colors",r?"border-[var(--accent-orange)] bg-[var(--accent-orange)]":"border-border bg-background"),children:r&&i.jsx(ct,{className:"h-3 w-3 text-white"})}),i.jsx(ur,{url:e.favIconUrl}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"truncate font-medium text-foreground text-xs",children:e.title}),i.jsx("div",{className:"truncate text-[10px] text-muted-foreground",children:e.url})]})]}),ur=({url:e})=>i.jsx("div",{className:"flex h-5 w-5 flex-shrink-0 items-center justify-center rounded border border-border bg-background",children:e?i.jsx("img",{src:e,alt:"",className:"h-3.5 w-3.5"}):i.jsx(vt,{className:"h-3.5 w-3.5 text-muted-foreground"})});function dr({enabled:e,filterText:r=""}){const[t,l]=n.useState([]),[a,s]=n.useState(!1);return n.useEffect(()=>{if(!e)return;let u=!1;return s(!0),chrome.tabs.query({currentWindow:!0}).then(v=>{if(u)return;const d=v.filter(p=>p.url?.startsWith("http")).sort((p,g)=>(g.lastAccessed??0)-(p.lastAccessed??0));l(d),s(!1)}).catch(v=>{u||(l([]),s(!1))}),()=>{u=!0}},[e]),{tabs:n.useMemo(()=>{if(!r)return t;const u=r.toLowerCase();return t.filter(v=>v.title?.toLowerCase().includes(u)||v.url?.toLowerCase().includes(u))},[t,r]),allTabs:t,isLoading:a}}const hr=({children:e,selectedTabs:r,onToggleTab:t,side:l="bottom"})=>{const[a,s]=n.useState(!1),[c,u]=n.useState(""),{tabs:v}=dr({enabled:a,filterText:c}),d=n.useMemo(()=>new Set(r.map(p=>p.id)),[r]);return i.jsxs(sr,{open:a,onOpenChange:s,children:[i.jsx(lr,{asChild:!0,children:e}),i.jsx(cr,{side:l,align:"start",className:"w-72 p-0",role:"dialog","aria-label":"Select tabs",children:i.jsxs(zt,{className:"[&_svg:not([class*='text-'])]:text-muted-foreground",shouldFilter:!1,children:[i.jsx(Vt,{placeholder:"Search tabs...",className:"h-9",value:c,onValueChange:u}),i.jsxs(Kt,{className:"max-h-64 overflow-auto",role:"listbox","aria-label":"Available tabs","aria-multiselectable":"true",children:[i.jsx("div",{className:"my-3 px-2 font-semibold text-muted-foreground text-xs uppercase tracking-wide",children:"Select Tabs"}),i.jsx(Ut,{children:"No active tabs"}),i.jsx(qt,{children:v.map(p=>i.jsx(Gt,{value:`${p.id} ${p.title} ${p.url}`,onSelect:()=>t(p),className:"p-0",children:i.jsx(ir,{tab:p,isSelected:d.has(p.id),className:"p-3"})},p.id))})]}),i.jsx("div",{className:"border-border/50 border-t px-3 py-2",children:i.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["Tip: Type"," ",i.jsx("kbd",{className:"rounded border border-border bg-muted px-1 py-0.5",children:"@"})," ","in chat to mention tabs"]})})]})})]})},gr=e=>({id:crypto.randomUUID(),type:"ai-tab",timestamp:Date.now(),name:e.name,description:e.description,tabs:e.tabs}),br=e=>({id:crypto.randomUUID(),type:"browseros",timestamp:Date.now(),mode:e.mode,message:e.message,tabs:e.tabs});function xr(e){const r=[];for(let t=0;t<e.length;t++){const l=e[t];l&&r.push(l)}return r}const W=it.defineItem("local:personalization",{fallback:""});function wr(){const[e,r]=n.useState(""),t=n.useRef(!1),l=n.useRef(null);n.useEffect(()=>(W.getValue().then(r),W.watch(u=>{t.current||r(u??""),t.current=!1})),[]);const a=n.useCallback(c=>{r(c),t.current=!0,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{W.setValue(c)},300)},[]),s=n.useCallback(async()=>{r(""),t.current=!0,await W.setValue("")},[]);return n.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]),{personalization:e,setPersonalization:a,clearPersonalization:s}}export{zt as C,mr as F,vt as G,sr as P,ir as T,vr as a,cr as b,Kt as c,Ut as d,qt as e,Gt as f,hr as g,lr as h,Vt as i,wr as j,xr as k,br as l,gr as m,dr as u};
